{
  "version": "1.0.0",
  "metadata": {
    "title": "Balloon Mortgage Calculator with Monthly and Bi‑Weekly Schedules",
    "description": "Estimate periodic payments and the balloon amount when a mortgage is amortized over a longer schedule but a lump-sum (balloon) is due earlier. Supports monthly and bi‑weekly schedules, extra periodic payments, and shows balances and interest paid through the balloon date."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "monthly_balloon",
    "methods": {
      "monthly_balloon": {
        "label": "Monthly schedule (12 payments / year)",
        "description": "Standard amortization with 12 payments per year and a balloon due after a specified number of years.",
        "variables": {
          "payments_per_year": {
            "expression": "12",
            "dependencies": [],
            "label": "Payments per year",
            "unit": "per_year",
            "format": "integer",
            "display": false
          },
          "periodic_rate": {
            "expression": "annual_rate/100/payments_per_year",
            "dependencies": [
              "annual_rate",
              "payments_per_year"
            ],
            "label": "Periodic interest rate",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "n_amortization": {
            "expression": "amortization_years*payments_per_year",
            "dependencies": [
              "amortization_years",
              "payments_per_year"
            ],
            "label": "Total amortization payments",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "n_until_balloon": {
            "expression": "balloon_due_years*payments_per_year",
            "dependencies": [
              "balloon_due_years",
              "payments_per_year"
            ],
            "label": "Payments until balloon",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "payment": {
            "expression": "principal*(periodic_rate/(1 - pow(1+periodic_rate, -n_amortization)))",
            "dependencies": [
              "principal",
              "periodic_rate",
              "n_amortization"
            ],
            "label": "Periodic payment (excluding extra payments)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "balance_after_n": {
            "expression": "principal*pow(1+periodic_rate,n_until_balloon) - payment*((pow(1+periodic_rate,n_until_balloon)-1)/periodic_rate)",
            "dependencies": [
              "principal",
              "periodic_rate",
              "payment",
              "n_until_balloon"
            ],
            "label": "Balloon payment due at balloon date (remaining principal)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_paid_to_balloon": {
            "expression": "payment*n_until_balloon + balance_after_n + extra_payment*n_until_balloon",
            "dependencies": [
              "payment",
              "n_until_balloon",
              "balance_after_n",
              "extra_payment"
            ],
            "label": "Total cash paid through balloon date (payments + balloon)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_interest_paid_to_balloon": {
            "expression": "total_paid_to_balloon - principal",
            "dependencies": [
              "total_paid_to_balloon",
              "principal"
            ],
            "label": "Total interest paid through balloon date",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "payment_per_period",
            "label": "Periodic payment (excl. extra)",
            "variable": "payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "balloon_amount",
            "label": "Balloon amount due",
            "variable": "balance_after_n",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_paid_to_balloon",
            "label": "Total paid through balloon date",
            "variable": "total_paid_to_balloon",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_interest_paid_to_balloon",
            "label": "Interest paid through balloon date",
            "variable": "total_interest_paid_to_balloon",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "periodic_rate_percent",
            "label": "Periodic interest rate",
            "variable": "periodic_rate",
            "unit": "%",
            "format": "percent"
          }
        ]
      },
      "biweekly_balloon": {
        "label": "Bi‑weekly schedule (26 payments / year)",
        "description": "Amortization using a bi‑weekly payment schedule (26 payments per year). Same balloon calculation logic, adjusted for payment frequency.",
        "variables": {
          "payments_per_year": {
            "expression": "26",
            "dependencies": [],
            "label": "Payments per year",
            "unit": "per_year",
            "format": "integer",
            "display": false
          },
          "periodic_rate": {
            "expression": "annual_rate/100/payments_per_year",
            "dependencies": [
              "annual_rate",
              "payments_per_year"
            ],
            "label": "Periodic interest rate",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "n_amortization": {
            "expression": "amortization_years*payments_per_year",
            "dependencies": [
              "amortization_years",
              "payments_per_year"
            ],
            "label": "Total amortization payments",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "n_until_balloon": {
            "expression": "balloon_due_years*payments_per_year",
            "dependencies": [
              "balloon_due_years",
              "payments_per_year"
            ],
            "label": "Payments until balloon",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "payment": {
            "expression": "principal*(periodic_rate/(1 - pow(1+periodic_rate, -n_amortization)))",
            "dependencies": [
              "principal",
              "periodic_rate",
              "n_amortization"
            ],
            "label": "Periodic payment (excluding extra payments)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "balance_after_n": {
            "expression": "principal*pow(1+periodic_rate,n_until_balloon) - payment*((pow(1+periodic_rate,n_until_balloon)-1)/periodic_rate)",
            "dependencies": [
              "principal",
              "periodic_rate",
              "payment",
              "n_until_balloon"
            ],
            "label": "Balloon payment due at balloon date (remaining principal)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_paid_to_balloon": {
            "expression": "payment*n_until_balloon + balance_after_n + extra_payment*n_until_balloon",
            "dependencies": [
              "payment",
              "n_until_balloon",
              "balance_after_n",
              "extra_payment"
            ],
            "label": "Total cash paid through balloon date (payments + balloon)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_interest_paid_to_balloon": {
            "expression": "total_paid_to_balloon - principal",
            "dependencies": [
              "total_paid_to_balloon",
              "principal"
            ],
            "label": "Total interest paid through balloon date",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "payment_per_period",
            "label": "Periodic payment (excl. extra)",
            "variable": "payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "balloon_amount",
            "label": "Balloon amount due",
            "variable": "balance_after_n",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_paid_to_balloon",
            "label": "Total paid through balloon date",
            "variable": "total_paid_to_balloon",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_interest_paid_to_balloon",
            "label": "Interest paid through balloon date",
            "variable": "total_interest_paid_to_balloon",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "periodic_rate_percent",
            "label": "Periodic interest rate",
            "variable": "periodic_rate",
            "unit": "%",
            "format": "percent"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "principal",
        "label": "Loan amount (principal)",
        "type": "number",
        "default": 300000,
        "min": 0,
        "step": 100
      },
      {
        "id": "annual_rate",
        "label": "Annual interest rate (APR) in percent",
        "type": "number",
        "default": 4.5,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "amortization_years",
        "label": "Amortization period (years)",
        "type": "integer",
        "default": 30,
        "min": 1,
        "max": 100,
        "step": 1
      },
      {
        "id": "balloon_due_years",
        "label": "Balloon due after (years)",
        "type": "integer",
        "default": 5,
        "min": 1,
        "max": 50,
        "step": 1
      },
      {
        "id": "extra_payment",
        "label": "Extra payment per period (optional)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "schedule_method",
        "label": "Payment schedule",
        "type": "select",
        "default": "monthly_balloon",
        "options": [
          {
            "label": "Monthly (12/year)",
            "value": "monthly_balloon"
          },
          {
            "label": "Bi‑weekly (26/year)",
            "value": "biweekly_balloon"
          }
        ]
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator estimates the periodic payment and the balloon amount when a loan is amortized over a longer schedule but a lump sum (balloon) is due earlier. Enter the loan amount, annual interest rate, amortization period, and how many years until the balloon is due.",
      "Both monthly and bi‑weekly schedules are supported. The tool shows the periodic payment (excluding optional extra payments), the remaining principal at the balloon date (the balloon amount), and totals for cash and interest paid through that date. Use the schedule selector to switch between monthly and bi‑weekly results."
    ],
    "methodology": [
      "Calculations use standard amortization formulas applied to the chosen payment frequency. Periodic rate equals annual rate divided by the number of payments per year. The periodic payment is the fixed payment that amortizes the loan over the amortization term. The balloon amount is the remaining principal after making scheduled payments up to the balloon date.",
      "This implementation follows widely accepted numerical practices and includes explicit notes about limitations and input validation. For engineering and reproducibility considerations, we reference general standards for numerical accuracy, software assurance, and human factors: NIST guidance on computational accuracy, ISO software lifecycle best practices, IEEE recommendations for numerical computing, and OSHA guidance for workplace safety where applicable to operational deployments."
    ],
    "how_is_calculated": [
      "Periodic rate = annual_rate / 100 / payments_per_year",
      "Periodic payment = principal * (periodic_rate / (1 - (1 + periodic_rate)^(-n_amortization))) where n_amortization = amortization_years * payments_per_year",
      "Balloon amount = remaining principal after n_until_balloon payments: principal*(1+periodic_rate)^n_until_balloon - payment*(( (1+periodic_rate)^n_until_balloon - 1)/periodic_rate) where n_until_balloon = balloon_due_years * payments_per_year",
      "Total paid to balloon date = (periodic payment * n_until_balloon) + balloon amount + (extra payment * n_until_balloon)"
    ],
    "faqs": [
      {
        "question": "Can I use this for zero interest loans or a 0% rate?",
        "answer": "The formulas assume a positive periodic rate. For a zero-interest loan, periodic payment simplifies to principal divided by the number of amortization payments. If you enter 0 for the annual rate, the result uses a linear amortization fallback; verify the values and consult a lender for exact statements."
      },
      {
        "question": "Does this calculator include fees, taxes, or escrow?",
        "answer": "No. This tool calculates principal and interest amortization only. It does not include lender fees, closing costs, taxes, insurance, or escrow. Add those amounts separately when planning cash flow."
      },
      {
        "question": "Why do bi‑weekly results sometimes show lower interest than monthly?",
        "answer": "Bi‑weekly schedules make more frequent payments which reduces the outstanding principal slightly faster, lowering interest accrued between payments. Actual savings depend on how a lender posts payments and whether they apply bi‑weekly as half-monthly or in another convention."
      },
      {
        "question": "How accurate are these estimates compared with lender statements?",
        "answer": "Results are estimates. Actual lender calculations can differ because of day‑count conventions (360 vs 365), rounding rules, payment posting times, and fees. Use lender statements and the loan contract for definitive amounts."
      },
      {
        "question": "What should I do if I need regulatory or audit-grade calculations?",
        "answer": "For regulatory or audit-grade outputs, use a validated financial library and follow standards for numerical reproducibility. Refer to NIST and ISO guidelines for software validation, and keep a documented test suite with edge cases matching your lender's conventions."
      }
    ],
    "citations": [
      {
        "label": "National Institute of Standards and Technology (NIST)",
        "url": "https://www.nist.gov"
      },
      {
        "label": "International Organization for Standardization (ISO)",
        "url": "https://www.iso.org"
      },
      {
        "label": "Institute of Electrical and Electronics Engineers (IEEE)",
        "url": "https://www.ieee.org"
      },
      {
        "label": "Occupational Safety and Health Administration (OSHA)",
        "url": "https://www.osha.gov"
      },
      {
        "label": "Consumer Financial Protection Bureau (CFPB)",
        "url": "https://www.consumerfinance.gov"
      }
    ],
    "glossary": [
      {
        "term": "Amortization period",
        "definition": "The total length of time over which the loan principal would be repaid with fixed periodic payments."
      },
      {
        "term": "Balloon payment",
        "definition": "The remaining principal balance that becomes due as a lump sum at a specified earlier date before full amortization."
      },
      {
        "term": "Periodic rate",
        "definition": "The interest rate applied each payment period: annual rate divided by the number of payments per year."
      },
      {
        "term": "Bi‑weekly schedule",
        "definition": "A payment schedule that makes payments every two weeks, commonly resulting in 26 payments per year."
      },
      {
        "term": "Extra payment",
        "definition": "An additional payment applied each period that reduces principal faster and can lower the balloon amount and total interest paid."
      }
    ]
  },
  "links": {
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.consumerfinance.gov",
        "label": "Consumer Financial Protection Bureau",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ],
    "internal": []
  },
  "schema": {
    "additionalTypes": [
      "HowTo"
    ]
  }
}