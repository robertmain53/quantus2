{
  "version": "1.0.0",
  "metadata": {
    "title": "Weighted Average Cost of Capital (WACC) Calculator — Advanced",
    "description": "Multi-method WACC calculator supporting market-value and book-value weightings, CAPM-based or adjusted equity cost inputs, private-company premiums, net vs gross debt treatment, and tax shields. Includes transparency, accuracy caveats, and references to engineering and risk-management standards."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "market_values_capm",
    "methods": {
      "market_values_capm": {
        "label": "Market-value weights — CAPM for equity (net debt)",
        "description": "Uses market capitalization for equity and net debt (debt minus cash). Cost of equity is estimated by CAPM using user inputs for risk-free rate, beta, and equity risk premium.",
        "variables": {
          "market_value_equity": {
            "expression": "market_cap",
            "dependencies": [
              "market_cap"
            ],
            "label": "Market value of equity",
            "unit": "currency",
            "format": "decimal",
            "display": true
          },
          "net_debt": {
            "expression": "total_debt - cash_and_equivalents",
            "dependencies": [
              "total_debt",
              "cash_and_equivalents"
            ],
            "label": "Net debt (debt minus cash)",
            "unit": "currency",
            "format": "decimal",
            "display": true
          },
          "total_capital": {
            "expression": "market_value_equity + net_debt",
            "dependencies": [
              "market_value_equity",
              "net_debt"
            ],
            "label": "Total capital (equity + net debt)",
            "unit": "currency",
            "format": "decimal",
            "display": false
          },
          "weight_equity": {
            "expression": "market_value_equity / total_capital",
            "dependencies": [
              "market_value_equity",
              "total_capital"
            ],
            "label": "Weight of equity",
            "unit": "",
            "format": "decimal",
            "display": true
          },
          "weight_debt": {
            "expression": "net_debt / total_capital",
            "dependencies": [
              "net_debt",
              "total_capital"
            ],
            "label": "Weight of debt",
            "unit": "",
            "format": "decimal",
            "display": true
          },
          "cost_of_equity": {
            "expression": "risk_free_rate/100 + beta * equity_risk_premium/100",
            "dependencies": [
              "risk_free_rate",
              "beta",
              "equity_risk_premium"
            ],
            "label": "Cost of equity (CAPM)",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "after_tax_cost_of_debt": {
            "expression": "cost_of_debt_pre_tax/100 * (1 - tax_rate/100)",
            "dependencies": [
              "cost_of_debt_pre_tax",
              "tax_rate"
            ],
            "label": "After-tax cost of debt",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "wacc_calc": {
            "expression": "(weight_equity * cost_of_equity + weight_debt * after_tax_cost_of_debt) * 100",
            "dependencies": [
              "weight_equity",
              "cost_of_equity",
              "weight_debt",
              "after_tax_cost_of_debt"
            ],
            "label": "Weighted Average Cost of Capital (WACC)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "wacc",
            "label": "WACC (%)",
            "variable": "wacc_calc",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "cost_of_equity",
            "label": "Cost of equity (CAPM) (%)",
            "variable": "cost_of_equity",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "after_tax_cost_of_debt",
            "label": "After-tax cost of debt (%)",
            "variable": "after_tax_cost_of_debt",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "weight_equity",
            "label": "Equity weight (%)",
            "variable": "weight_equity",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "weight_debt",
            "label": "Debt weight (%)",
            "variable": "weight_debt",
            "unit": "%",
            "format": "percent"
          }
        ]
      },
      "market_values_gross_capm": {
        "label": "Market-value weights — CAPM for equity (gross debt)",
        "description": "Uses market capitalization for equity and gross debt (ignores cash). Cost of equity from CAPM.",
        "variables": {
          "market_value_equity": {
            "expression": "market_cap",
            "dependencies": [
              "market_cap"
            ],
            "label": "Market value of equity",
            "unit": "currency",
            "format": "decimal",
            "display": true
          },
          "gross_debt": {
            "expression": "total_debt",
            "dependencies": [
              "total_debt"
            ],
            "label": "Gross debt",
            "unit": "currency",
            "format": "decimal",
            "display": true
          },
          "total_capital": {
            "expression": "market_value_equity + gross_debt",
            "dependencies": [
              "market_value_equity",
              "gross_debt"
            ],
            "label": "Total capital (equity + gross debt)",
            "unit": "currency",
            "format": "decimal",
            "display": false
          },
          "weight_equity": {
            "expression": "market_value_equity / total_capital",
            "dependencies": [
              "market_value_equity",
              "total_capital"
            ],
            "label": "Weight of equity",
            "unit": "",
            "format": "decimal",
            "display": true
          },
          "weight_debt": {
            "expression": "gross_debt / total_capital",
            "dependencies": [
              "gross_debt",
              "total_capital"
            ],
            "label": "Weight of debt",
            "unit": "",
            "format": "decimal",
            "display": true
          },
          "cost_of_equity": {
            "expression": "risk_free_rate/100 + beta * equity_risk_premium/100",
            "dependencies": [
              "risk_free_rate",
              "beta",
              "equity_risk_premium"
            ],
            "label": "Cost of equity (CAPM)",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "after_tax_cost_of_debt": {
            "expression": "cost_of_debt_pre_tax/100 * (1 - tax_rate/100)",
            "dependencies": [
              "cost_of_debt_pre_tax",
              "tax_rate"
            ],
            "label": "After-tax cost of debt",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "wacc_calc": {
            "expression": "(weight_equity * cost_of_equity + weight_debt * after_tax_cost_of_debt) * 100",
            "dependencies": [
              "weight_equity",
              "cost_of_equity",
              "weight_debt",
              "after_tax_cost_of_debt"
            ],
            "label": "Weighted Average Cost of Capital (WACC)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "wacc",
            "label": "WACC (%)",
            "variable": "wacc_calc",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "cost_of_equity",
            "label": "Cost of equity (CAPM) (%)",
            "variable": "cost_of_equity",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "after_tax_cost_of_debt",
            "label": "After-tax cost of debt (%)",
            "variable": "after_tax_cost_of_debt",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "weight_equity",
            "label": "Equity weight (%)",
            "variable": "weight_equity",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "weight_debt",
            "label": "Debt weight (%)",
            "variable": "weight_debt",
            "unit": "%",
            "format": "percent"
          }
        ]
      },
      "book_values_capm": {
        "label": "Book-value weights — CAPM for equity",
        "description": "Uses book values (accounting figures) for equity and debt weights. Cost of equity estimated by CAPM.",
        "variables": {
          "book_equity": {
            "expression": "book_equity",
            "dependencies": [
              "book_equity"
            ],
            "label": "Book value of equity",
            "unit": "currency",
            "format": "decimal",
            "display": true
          },
          "book_debt": {
            "expression": "book_debt",
            "dependencies": [
              "book_debt"
            ],
            "label": "Book value of debt",
            "unit": "currency",
            "format": "decimal",
            "display": true
          },
          "total_capital": {
            "expression": "book_equity + book_debt",
            "dependencies": [
              "book_equity",
              "book_debt"
            ],
            "label": "Total capital (book values)",
            "unit": "currency",
            "format": "decimal",
            "display": false
          },
          "weight_equity": {
            "expression": "book_equity / total_capital",
            "dependencies": [
              "book_equity",
              "total_capital"
            ],
            "label": "Weight of equity (book)",
            "unit": "",
            "format": "decimal",
            "display": true
          },
          "weight_debt": {
            "expression": "book_debt / total_capital",
            "dependencies": [
              "book_debt",
              "total_capital"
            ],
            "label": "Weight of debt (book)",
            "unit": "",
            "format": "decimal",
            "display": true
          },
          "cost_of_equity": {
            "expression": "risk_free_rate/100 + beta * equity_risk_premium/100",
            "dependencies": [
              "risk_free_rate",
              "beta",
              "equity_risk_premium"
            ],
            "label": "Cost of equity (CAPM)",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "after_tax_cost_of_debt": {
            "expression": "cost_of_debt_pre_tax/100 * (1 - tax_rate/100)",
            "dependencies": [
              "cost_of_debt_pre_tax",
              "tax_rate"
            ],
            "label": "After-tax cost of debt",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "wacc_calc": {
            "expression": "(weight_equity * cost_of_equity + weight_debt * after_tax_cost_of_debt) * 100",
            "dependencies": [
              "weight_equity",
              "cost_of_equity",
              "weight_debt",
              "after_tax_cost_of_debt"
            ],
            "label": "Weighted Average Cost of Capital (WACC)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "wacc",
            "label": "WACC (%)",
            "variable": "wacc_calc",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "cost_of_equity",
            "label": "Cost of equity (CAPM) (%)",
            "variable": "cost_of_equity",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "after_tax_cost_of_debt",
            "label": "After-tax cost of debt (%)",
            "variable": "after_tax_cost_of_debt",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "weight_equity",
            "label": "Equity weight (%)",
            "variable": "weight_equity",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "weight_debt",
            "label": "Debt weight (%)",
            "variable": "weight_debt",
            "unit": "%",
            "format": "percent"
          }
        ]
      },
      "private_company_capm": {
        "label": "Private company — Market-value proxy with private-company premium (CAPM adjusted)",
        "description": "Market-value approach with an added private-company premium to CAPM to reflect size, illiquidity, or control discounts typically applied to private firms.",
        "variables": {
          "market_value_equity": {
            "expression": "market_cap",
            "dependencies": [
              "market_cap"
            ],
            "label": "Market value of equity (proxy)",
            "unit": "currency",
            "format": "decimal",
            "display": true
          },
          "net_debt": {
            "expression": "total_debt - cash_and_equivalents",
            "dependencies": [
              "total_debt",
              "cash_and_equivalents"
            ],
            "label": "Net debt (debt minus cash)",
            "unit": "currency",
            "format": "decimal",
            "display": true
          },
          "total_capital": {
            "expression": "market_value_equity + net_debt",
            "dependencies": [
              "market_value_equity",
              "net_debt"
            ],
            "label": "Total capital (equity + net debt)",
            "unit": "currency",
            "format": "decimal",
            "display": false
          },
          "weight_equity": {
            "expression": "market_value_equity / total_capital",
            "dependencies": [
              "market_value_equity",
              "total_capital"
            ],
            "label": "Weight of equity",
            "unit": "",
            "format": "decimal",
            "display": true
          },
          "weight_debt": {
            "expression": "net_debt / total_capital",
            "dependencies": [
              "net_debt",
              "total_capital"
            ],
            "label": "Weight of debt",
            "unit": "",
            "format": "decimal",
            "display": true
          },
          "cost_of_equity": {
            "expression": "risk_free_rate/100 + beta * equity_risk_premium/100 + adjustment_private_company_premium/100",
            "dependencies": [
              "risk_free_rate",
              "beta",
              "equity_risk_premium",
              "adjustment_private_company_premium"
            ],
            "label": "Cost of equity (CAPM + private-company premium)",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "after_tax_cost_of_debt": {
            "expression": "cost_of_debt_pre_tax/100 * (1 - tax_rate/100)",
            "dependencies": [
              "cost_of_debt_pre_tax",
              "tax_rate"
            ],
            "label": "After-tax cost of debt",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "wacc_calc": {
            "expression": "(weight_equity * cost_of_equity + weight_debt * after_tax_cost_of_debt) * 100",
            "dependencies": [
              "weight_equity",
              "cost_of_equity",
              "weight_debt",
              "after_tax_cost_of_debt"
            ],
            "label": "Weighted Average Cost of Capital (WACC)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "wacc",
            "label": "WACC (%)",
            "variable": "wacc_calc",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "cost_of_equity",
            "label": "Cost of equity (CAPM + premium) (%)",
            "variable": "cost_of_equity",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "after_tax_cost_of_debt",
            "label": "After-tax cost of debt (%)",
            "variable": "after_tax_cost_of_debt",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "weight_equity",
            "label": "Equity weight (%)",
            "variable": "weight_equity",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "weight_debt",
            "label": "Debt weight (%)",
            "variable": "weight_debt",
            "unit": "%",
            "format": "percent"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "market_cap",
        "label": "Market value of equity (market cap)",
        "type": "number",
        "default": 100000000,
        "min": 0,
        "step": 1
      },
      {
        "id": "total_debt",
        "label": "Total debt (gross)",
        "type": "number",
        "default": 20000000,
        "min": 0,
        "step": 1
      },
      {
        "id": "cash_and_equivalents",
        "label": "Cash and equivalents",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "cost_of_debt_pre_tax",
        "label": "Cost of debt (pre-tax, %)",
        "type": "number",
        "default": 5,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "tax_rate",
        "label": "Corporate tax rate (%)",
        "type": "number",
        "default": 21,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "risk_free_rate",
        "label": "Risk-free rate (%, annual)",
        "type": "number",
        "default": 2.5,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "beta",
        "label": "Equity beta",
        "type": "number",
        "default": 1,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "equity_risk_premium",
        "label": "Equity risk premium (%, market)",
        "type": "number",
        "default": 6,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "adjustment_private_company_premium",
        "label": "Private-company premium (additive %, e.g., illiquidity/size)",
        "type": "number",
        "default": 2,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "capital_source",
        "label": "Use market or book values for capital weights",
        "type": "select",
        "default": "market",
        "options": [
          {
            "label": "Market values (default)",
            "value": "market"
          },
          {
            "label": "Book values",
            "value": "book"
          }
        ]
      },
      {
        "id": "is_private",
        "label": "Is this a private company (apply private-company premium)?",
        "type": "select",
        "default": "no",
        "options": [
          {
            "label": "No",
            "value": "no"
          },
          {
            "label": "Yes",
            "value": "yes"
          }
        ]
      }
    ],
    "sections": [
      {
        "id": "book_inputs",
        "label": "Book-value inputs",
        "show_when": {
          "field": "capital_source",
          "is": "book"
        },
        "fields": [
          {
            "id": "book_equity",
            "label": "Book value of equity",
            "type": "number",
            "default": 80000000,
            "min": 0,
            "step": 1
          },
          {
            "id": "book_debt",
            "label": "Book value of debt",
            "type": "number",
            "default": 25000000,
            "min": 0,
            "step": 1
          }
        ]
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "wacc",
          "label": "WACC (Weighted Average Cost of Capital)"
        },
        {
          "id": "cost_of_equity",
          "label": "Cost of equity"
        },
        {
          "id": "after_tax_cost_of_debt",
          "label": "After-tax cost of debt"
        },
        {
          "id": "weight_equity",
          "label": "Equity weight"
        },
        {
          "id": "weight_debt",
          "label": "Debt weight"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "This advanced WACC calculator supports multiple industry-standard methods: market-value vs book-value weightings, CAPM-based cost of equity, net vs gross debt treatment, and an adjustable private-company premium. Use the method selector to choose the approach that matches your appraisal or valuation process.",
      "Results are numeric estimates based on user inputs. Inputs expressed as percentages should be entered as percent values (for example, enter 6 for 6%). The calculator converts percentage inputs internally to decimals when computing WACC."
    ],
    "methodology": [
      "Weights: either market-value weights (equity market capitalization and debt) or book-value weights (accounting figures). Net debt = total debt minus cash when net-debt mode is selected.",
      "Cost of equity (CAPM): cost_of_equity = risk-free rate + beta × equity risk premium. For private companies, an additive premium may be applied to CAPM to reflect size, illiquidity, and control considerations.",
      "Cost of debt: use pre-tax cost of debt and apply the tax shield by multiplying by (1 - tax rate). WACC is the weighted sum of the equity and after-tax debt costs."
    ],
    "how_is_calculated": [
      "net_debt = total_debt - cash_and_equivalents",
      "weight_equity = market_cap / (market_cap + net_debt) (or book_equity / (book_equity + book_debt) when using book values)",
      "cost_of_equity (CAPM) = risk_free_rate + beta × equity_risk_premium",
      "after_tax_cost_of_debt = cost_of_debt_pre_tax × (1 - tax_rate)",
      "WACC = weight_equity × cost_of_equity + weight_debt × after_tax_cost_of_debt (results shown as %)"
    ],
    "examples": [
      "Example 1 (public company, market-value, net debt): market cap 100m, net debt 10m, cost of equity 8%, pre-tax cost of debt 4%, tax 21% → compute weights and apply formula to get WACC.",
      "Example 2 (private company): apply a private-company premium (e.g., 2%) to CAPM cost of equity to reflect higher expected return requirements; recompute WACC using the adjusted cost of equity."
    ],
    "faqs": [
      {
        "question": "Should I use market values or book values for weights?",
        "answer": "Market values are preferred for valuations because they reflect current investor expectations. Book values may be used for accounting or regulatory contexts. Choose the approach consistent with your valuation purpose."
      },
      {
        "question": "How should I input percentages?",
        "answer": "Enter percentage inputs as whole numbers (for example, enter 6 for 6%). The calculator converts these to decimal fractions internally when computing."
      },
      {
        "question": "Does this tool compute CAPM automatically?",
        "answer": "Yes. When using CAPM methods, provide the risk-free rate, beta, and equity risk premium. The tool computes cost of equity = risk-free rate + beta × equity risk premium."
      },
      {
        "question": "Are the results authoritative tax or accounting advice?",
        "answer": "No. Calculations are estimates to support analysis and decision-making. Consult tax, accounting, or legal professionals for authoritative guidance. See the accuracy and compliance notes."
      },
      {
        "question": "What are the limitations and accuracy considerations?",
        "answer": "Outputs depend entirely on input accuracy and method selection. Model assumptions (e.g., CAPM validity, choice of ERP, beta adjustments) materially affect results. Rounding, data quality, and method selection introduce additional uncertainty. Use sensitivity checks and scenario analysis to validate results."
      },
      {
        "question": "How should I treat private-company adjustments?",
        "answer": "Private-company premiums are judgmental and vary by industry, size, and liquidity. Use market comparables, documented studies, or professional appraisal guidance when selecting a premium and disclose assumptions."
      },
      {
        "question": "How are tax shields treated?",
        "answer": "This calculator applies the corporate tax rate to the cost of debt to reflect the tax shield: after-tax cost of debt = pre-tax cost of debt × (1 - tax rate). Confirm the applicable tax rate for the entity and jurisdiction."
      }
    ],
    "citations": [
      {
        "label": "NIST — Framework and software assurance guidance",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO 31000 — Risk management",
        "url": "https://www.iso.org/iso-31000-risk-management.html"
      },
      {
        "label": "IEEE — Software and systems engineering standards",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA — Workplace safety standards (engineering governance reference)",
        "url": "https://www.osha.gov"
      },
      {
        "label": "U.S. SEC — Guidance on valuation and disclosures",
        "url": "https://www.sec.gov"
      }
    ],
    "glossary": [
      {
        "term": "WACC",
        "definition": "Weighted Average Cost of Capital; the weighted average of a company's cost of equity and after-tax cost of debt, expressed as a percentage."
      },
      {
        "term": "CAPM",
        "definition": "Capital Asset Pricing Model; estimates the cost of equity as risk-free rate + beta × equity risk premium."
      },
      {
        "term": "Market value of equity",
        "definition": "The company's current market capitalization (share price × shares outstanding)."
      },
      {
        "term": "Net debt",
        "definition": "Total debt minus cash and cash equivalents; used in some WACC weightings to reflect available liquidity."
      },
      {
        "term": "After-tax cost of debt",
        "definition": "Pre-tax cost of debt multiplied by (1 − corporate tax rate) to reflect tax deductibility of interest."
      },
      {
        "term": "Equity risk premium (ERP)",
        "definition": "Expected excess return of equities over the risk-free rate; an input to CAPM."
      },
      {
        "term": "Private-company premium",
        "definition": "An additive percentage applied to CAPM cost of equity for private firms to reflect size, liquidity, and control risks."
      }
    ]
  },
  "links": {
    "internal": [
      "/calculators/wacc",
      "/guides/capm",
      "/guides/valuation-best-practices"
    ],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/iso-31000-risk-management.html",
        "label": "ISO 31000",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.osha.gov",
        "label": "OSHA",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialCalculation"
    ]
  }
}