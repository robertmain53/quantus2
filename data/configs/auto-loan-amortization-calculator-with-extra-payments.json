{
  "version": "1.0.0",
  "metadata": {
    "title": "Auto Loan Amortization with Extra Payments (Advanced)",
    "description": "Interactive amortization calculator that models standard and alternative payoff scenarios (recurring extra payments, one-time lump sums, biweekly schedules). Includes payoff timing, total interest, interest saved, and payment breakdowns. Designed with numerical stability and clear accuracy caveats."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "recurring_extra",
    "methods": {
      "standard": {
        "label": "Standard periodic amortization",
        "description": "Calculates the scheduled payment, total paid and total interest when you make the fixed contractual payment each period.",
        "variables": {
          "r": {
            "expression": "annual_rate_pct / 100 / payments_per_year",
            "dependencies": [
              "annual_rate_pct",
              "payments_per_year"
            ],
            "label": "Periodic interest rate",
            "unit": "%",
            "format": "decimal",
            "display": true
          },
          "n_payments": {
            "expression": "term_years * payments_per_year",
            "dependencies": [
              "term_years",
              "payments_per_year"
            ],
            "label": "Number of payments (n)",
            "unit": "payments",
            "format": "integer",
            "display": true
          },
          "base_payment": {
            "expression": "principal * r / (1 - (1 + r) ^ (-n_payments))",
            "dependencies": [
              "principal",
              "r",
              "n_payments"
            ],
            "label": "Scheduled payment per period",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "total_paid": {
            "expression": "base_payment * n_payments",
            "dependencies": [
              "base_payment",
              "n_payments"
            ],
            "label": "Total amount paid",
            "unit": "",
            "format": "currency",
            "display": false
          },
          "total_interest": {
            "expression": "total_paid - principal",
            "dependencies": [
              "total_paid",
              "principal"
            ],
            "label": "Total interest paid",
            "unit": "",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "base_payment",
            "label": "Scheduled payment",
            "variable": "base_payment",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "n_payments",
            "label": "Number of payments",
            "variable": "n_payments",
            "unit": "payments",
            "format": "integer"
          },
          {
            "id": "total_paid",
            "label": "Total paid over loan",
            "variable": "total_paid",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "total_interest",
            "label": "Total interest (standard)",
            "variable": "total_interest",
            "unit": "",
            "format": "currency"
          }
        ]
      },
      "recurring_extra": {
        "label": "Recurring extra payment each period",
        "description": "Applies a fixed extra amount every payment period. Calculates new payoff timing and interest compared to the standard schedule.",
        "variables": {
          "r": {
            "expression": "annual_rate_pct / 100 / payments_per_year",
            "dependencies": [
              "annual_rate_pct",
              "payments_per_year"
            ],
            "label": "Periodic interest rate",
            "unit": "%",
            "format": "decimal",
            "display": false
          },
          "n_payments": {
            "expression": "term_years * payments_per_year",
            "dependencies": [
              "term_years",
              "payments_per_year"
            ],
            "label": "Scheduled number of payments",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "base_payment": {
            "expression": "principal * r / (1 - (1 + r) ^ (-n_payments))",
            "dependencies": [
              "principal",
              "r",
              "n_payments"
            ],
            "label": "Scheduled payment (no extra)",
            "unit": "",
            "format": "currency",
            "display": false
          },
          "effective_payment": {
            "expression": "base_payment + extra_payment_amount",
            "dependencies": [
              "base_payment",
              "extra_payment_amount"
            ],
            "label": "Payment including extra",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "n_actual": {
            "expression": "ceil(-ln(1 - principal * r / effective_payment) / ln(1 + r))",
            "dependencies": [
              "principal",
              "r",
              "effective_payment"
            ],
            "label": "Payments until payoff with extra",
            "unit": "payments",
            "format": "integer",
            "display": true
          },
          "total_paid_actual": {
            "expression": "effective_payment * n_actual",
            "dependencies": [
              "effective_payment",
              "n_actual"
            ],
            "label": "Total paid with extra",
            "unit": "",
            "format": "currency",
            "display": false
          },
          "total_interest_actual": {
            "expression": "total_paid_actual - principal",
            "dependencies": [
              "total_paid_actual",
              "principal"
            ],
            "label": "Total interest with extra",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "interest_saved": {
            "expression": "(principal * r / (1 - (1 + r) ^ (-n_payments)) * n_payments - principal) - total_interest_actual",
            "dependencies": [
              "principal",
              "r",
              "n_payments",
              "total_interest_actual"
            ],
            "label": "Interest saved vs standard schedule",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "payments_saved": {
            "expression": "n_payments - n_actual",
            "dependencies": [
              "n_payments",
              "n_actual"
            ],
            "label": "Payments saved",
            "unit": "payments",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "effective_payment",
            "label": "Payment (with extra)",
            "variable": "effective_payment",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "n_actual",
            "label": "Number of payments until payoff",
            "variable": "n_actual",
            "unit": "payments",
            "format": "integer"
          },
          {
            "id": "total_interest_actual",
            "label": "Total interest paid (with extra)",
            "variable": "total_interest_actual",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "interest_saved",
            "label": "Interest saved vs standard",
            "variable": "interest_saved",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "payments_saved",
            "label": "Payments saved",
            "variable": "payments_saved",
            "unit": "payments",
            "format": "integer"
          }
        ]
      },
      "one_time_extra": {
        "label": "One-time lump-sum extra payment",
        "description": "Applies a single extra payment at a specified payment number then continues scheduled payments. Reports the remaining schedule and interest saved.",
        "variables": {
          "r": {
            "expression": "annual_rate_pct / 100 / payments_per_year",
            "dependencies": [
              "annual_rate_pct",
              "payments_per_year"
            ],
            "label": "Periodic interest rate",
            "unit": "%",
            "format": "decimal",
            "display": false
          },
          "n_payments": {
            "expression": "term_years * payments_per_year",
            "dependencies": [
              "term_years",
              "payments_per_year"
            ],
            "label": "Scheduled number of payments",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "base_payment": {
            "expression": "principal * r / (1 - (1 + r) ^ (-n_payments))",
            "dependencies": [
              "principal",
              "r",
              "n_payments"
            ],
            "label": "Scheduled payment",
            "unit": "",
            "format": "currency",
            "display": false
          },
          "k": {
            "expression": "one_time_extra_payment_number",
            "dependencies": [
              "one_time_extra_payment_number"
            ],
            "label": "Payment number when extra is applied (k)",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "balance_before_k_minus1": {
            "expression": "principal * (1 + r) ^ (k - 1) - base_payment * (((1 + r) ^ (k - 1) - 1) / r)",
            "dependencies": [
              "principal",
              "r",
              "k",
              "base_payment"
            ],
            "label": "Outstanding balance just before payment k",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "balance_after_extra": {
            "expression": "max(0, balance_before_k_minus1 - one_time_extra_amount)",
            "dependencies": [
              "balance_before_k_minus1",
              "one_time_extra_amount"
            ],
            "label": "Balance after applying lump sum",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "n_after": {
            "expression": "cond(balance_after_extra <= 0, 0, ceil(-ln(1 - balance_after_extra * r / base_payment) / ln(1 + r)))",
            "dependencies": [
              "balance_after_extra",
              "r",
              "base_payment"
            ],
            "label": "Remaining payments after extra",
            "unit": "payments",
            "format": "integer",
            "display": true
          },
          "total_paid_new": {
            "expression": "base_payment * (k - 1) + one_time_extra_amount + base_payment * n_after",
            "dependencies": [
              "base_payment",
              "k",
              "one_time_extra_amount",
              "n_after"
            ],
            "label": "Estimated total paid after applying extra",
            "unit": "",
            "format": "currency",
            "display": false
          },
          "total_interest_new": {
            "expression": "total_paid_new - principal",
            "dependencies": [
              "total_paid_new",
              "principal"
            ],
            "label": "Total interest paid (with one-time extra)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "interest_saved": {
            "expression": "(principal * r / (1 - (1 + r) ^ (-n_payments)) * n_payments - principal) - total_interest_new",
            "dependencies": [
              "principal",
              "r",
              "n_payments",
              "total_interest_new"
            ],
            "label": "Interest saved vs standard schedule",
            "unit": "",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "balance_after_extra",
            "label": "Balance immediately after extra payment",
            "variable": "balance_after_extra",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "n_after",
            "label": "Remaining payments after extra",
            "variable": "n_after",
            "unit": "payments",
            "format": "integer"
          },
          {
            "id": "total_interest_new",
            "label": "Total interest (with lump sum)",
            "variable": "total_interest_new",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "interest_saved",
            "label": "Interest saved vs standard",
            "variable": "interest_saved",
            "unit": "",
            "format": "currency"
          }
        ]
      },
      "biweekly_equivalent": {
        "label": "Biweekly payment approximation (26 pays/year)",
        "description": "Shows equivalent biweekly payment and the expected effect if you split monthly payment into biweekly (26) periods. Uses a 26-payments-per-year model; results are an approximation and may differ by lender.",
        "variables": {
          "payments_per_year_std": {
            "expression": "payments_per_year",
            "dependencies": [
              "payments_per_year"
            ],
            "label": "Original payments per year",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "r26": {
            "expression": "annual_rate_pct / 100 / 26",
            "dependencies": [
              "annual_rate_pct"
            ],
            "label": "Periodic rate (26)",
            "unit": "%",
            "format": "decimal",
            "display": false
          },
          "n26": {
            "expression": "term_years * 26",
            "dependencies": [
              "term_years"
            ],
            "label": "Number of biweekly payments (26/year)",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "payment26": {
            "expression": "principal * r26 / (1 - (1 + r26) ^ (-n26))",
            "dependencies": [
              "principal",
              "r26",
              "n26"
            ],
            "label": "Approximate biweekly payment",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "total_interest26": {
            "expression": "payment26 * n26 - principal",
            "dependencies": [
              "payment26",
              "n26",
              "principal"
            ],
            "label": "Approx total interest (26/year)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "interest_difference": {
            "expression": "(principal * (annual_rate_pct / 100 / payments_per_year) / (1 - (1 + (annual_rate_pct / 100 / payments_per_year)) ^ (-(term_years * payments_per_year))) * (term_years * payments_per_year) - principal) - total_interest26",
            "dependencies": [
              "principal",
              "annual_rate_pct",
              "payments_per_year",
              "term_years",
              "total_interest26"
            ],
            "label": "Interest difference (standard vs 26/year)",
            "unit": "",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "payment26",
            "label": "Approx biweekly payment",
            "variable": "payment26",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "total_interest26",
            "label": "Total interest (26/year approximation)",
            "variable": "total_interest26",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "interest_difference",
            "label": "Interest difference vs original schedule",
            "variable": "interest_difference",
            "unit": "",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "method",
        "label": "Calculation mode",
        "type": "select",
        "default": "recurring_extra",
        "options": [
          {
            "label": "Standard amortization",
            "value": "standard"
          },
          {
            "label": "Recurring extra payment",
            "value": "recurring_extra"
          },
          {
            "label": "One-time extra payment",
            "value": "one_time_extra"
          },
          {
            "label": "Biweekly equivalent (26/year)",
            "value": "biweekly_equivalent"
          }
        ]
      },
      {
        "id": "principal",
        "label": "Loan amount (principal)",
        "type": "number",
        "default": 25000,
        "min": 0,
        "step": 1
      },
      {
        "id": "annual_rate_pct",
        "label": "Annual interest rate (APR) (%)",
        "type": "number",
        "default": 5.0,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "term_years",
        "label": "Loan term (years)",
        "type": "integer",
        "default": 5,
        "min": 0,
        "step": 1
      },
      {
        "id": "payments_per_year",
        "label": "Payments per year (e.g., 12 = monthly, 26 = biweekly)",
        "type": "integer",
        "default": 12,
        "min": 1,
        "max": 365,
        "step": 1
      },
      {
        "id": "extra_payment_amount",
        "label": "Extra payment amount (per period for recurring mode)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "one_time_extra_payment_number",
        "label": "Payment number to apply one-time extra",
        "type": "integer",
        "default": 12,
        "min": 1,
        "step": 1
      },
      {
        "id": "one_time_extra_amount",
        "label": "One-time extra amount",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      }
    ],
    "sections": [
      {
        "id": "recurring_section",
        "label": "Recurring extra payment options",
        "show_when": {
          "field": "method",
          "is": "recurring_extra"
        },
        "fields": [
          {
            "id": "extra_payment_amount",
            "label": "Extra payment amount (each period)",
            "type": "number",
            "default": 50,
            "min": 0,
            "step": 1
          }
        ]
      },
      {
        "id": "one_time_section",
        "label": "One-time extra payment options",
        "show_when": {
          "field": "method",
          "is": "one_time_extra"
        },
        "fields": [
          {
            "id": "one_time_extra_payment_number",
            "label": "Apply extra at payment number",
            "type": "integer",
            "default": 12,
            "min": 1,
            "step": 1
          },
          {
            "id": "one_time_extra_amount",
            "label": "One-time extra amount",
            "type": "number",
            "default": 1000,
            "min": 0,
            "step": 1
          }
        ]
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator models auto loan amortization and the impact of extra payments. Choose a mode to compare the standard schedule against recurring extra payments, a single lump-sum prepayment, or an approximate biweekly plan.",
      "Results show scheduled payment, number of payments until payoff, total paid, total interest, and estimated interest saved. The tool is intended for planning and comparison; actual lender posting, rounding, compounding conventions, and prepayment rules may change the exact dates and cents-level amounts."
    ],
    "methodology": [
      "The calculator uses standard amortization mathematics: a periodic interest rate r = APR / payments_per_year; scheduled payment computed by the annuity formula. For recurring extra payments it solves for the number of payments required with a higher periodic payment using the analytic payoff formula.",
      "For one-time lump sums the outstanding balance before the extra is computed using the closed-form remaining-balance expression, the lump sum is subtracted, and the remaining payoff is recalculated. Biweekly results use a 26-payments-per-year model as an approximation; some lenders instead recompute monthly and apply splits differently.",
      "Numerical stability and rounding: computations round monetary outputs to typical currency precision when displayed, but internal calculations use higher precision. Users should treat results as estimates; consult your loan contract or lender for exact posting and prepayment policies."
    ],
    "how_is_calculated": [
      "Periodic rate r = annual_rate_pct / 100 / payments_per_year.",
      "Scheduled payment (annuity): payment = principal * r / (1 - (1 + r)^(-n)), where n = term_years * payments_per_year.",
      "Payoff with larger constant payment A: n_actual = ceil(-ln(1 - principal * r / A) / ln(1 + r)).",
      "Remaining balance before payment k: B_k-1 = principal*(1+r)^(k-1) - payment * (((1+r)^(k-1) - 1) / r). After a lump sum L: B_after = max(0, B_k-1 - L). Recompute remaining payments using the payoff formula."
    ],
    "examples": [
      "Example 1: $25,000 loan, 5.0% APR, 5 years (monthly). Scheduled payment ≈ computed by the annuity formula. Adding $50 per month reduces the number of payments and saves interest; the calculator returns estimated payments saved and interest saved.",
      "Example 2: Same loan, apply a $1,000 one-time payment at payment number 12. The tool computes the balance just before that payment, subtracts $1,000, recalculates remaining payments and total interest, and reports savings versus the standard plan."
    ],
    "summary": [
      "Use the recurring extra mode to see how consistent extra contributions accelerate payoff and reduce interest.",
      "Use the one-time extra mode to evaluate lump-sum prepayments at a particular payment number.",
      "Biweekly equivalent is an approximation; actual lender processing and rounding rules may create small differences."
    ],
    "faqs": [
      {
        "question": "Will the calculator match my lender's exact payoff amount?",
        "answer": "Not always. Lenders may post payments on specific dates, apply funds to different components first, compound interest on a different schedule, or apply rounding rules. Also verify if your loan has prepayment penalties or requires online/in-branch processing. Treat outputs as close estimates and confirm with the lender."
      },
      {
        "question": "How do zero-interest or extremely small interest rates affect results?",
        "answer": "When APR is zero or extremely close to zero, the annuity formula has singularities (division by near-zero periodic rate). In that case the scheduled payment simplifies to principal / n. The tool displays a warning and uses algebraically equivalent expressions to avoid numerical instability."
      },
      {
        "question": "Does the calculator include fees, taxes, or insurance?",
        "answer": "No. Enter only the financed principal amount. Fees, taxes, dealer add-ons, or insurance included in a payment must be modeled by increasing the principal or adjusting payment fields; consult your contract for precise amounts."
      },
      {
        "question": "Why do results differ when switching to biweekly?",
        "answer": "Biweekly approximation assumes 26 equal payments per year. Some lenders use accelerated posting or monthly-to-biweekly conversions differently. The approximation is useful for planning but may differ from your lender's exact schedule."
      },
      {
        "question": "What accuracy and standards guidance did you follow?",
        "answer": "Calculations use established financial formulas. For numeric reliability and software engineering best practices the tool follows guidance on numerical methods and precision from standards authorities and engineering best practices. See citations for links to standards organizations."
      }
    ],
    "glossary": [
      {
        "term": "Amortization",
        "definition": "The process of spreading loan repayments over time where each payment covers interest due and reduces principal."
      },
      {
        "term": "Periodic interest rate",
        "definition": "Interest rate applied each payment period: APR divided by the number of payments per year."
      },
      {
        "term": "Principal",
        "definition": "The original loan amount financed (excluding fees and interest)."
      },
      {
        "term": "Prepayment (extra payment)",
        "definition": "Any payment amount above the scheduled contractual payment that reduces principal and shortens the loan term or reduces interest."
      },
      {
        "term": "Biweekly equivalent",
        "definition": "An approximation that models 26 equal payments per year; actual lender implementations may vary."
      }
    ],
    "citations": [
      {
        "label": "NIST — Numerical Methods and Software Guidance",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO — International Organization for Standardization",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE Standards Association",
        "url": "https://standards.ieee.org"
      },
      {
        "label": "OSHA — Occupational Safety and Health Administration",
        "url": "https://www.osha.gov"
      }
    ]
  },
  "links": {
    "internal": [
      "/calculators/loan/mortgage-amortization",
      "/help/loan-terms/prepayment-and-payoff"
    ],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://standards.ieee.org",
        "label": "IEEE Standards",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo"
    ]
  }
}