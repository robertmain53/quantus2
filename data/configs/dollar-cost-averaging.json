{
  "version": "1.0.0",
  "metadata": {
    "title": "Dollar Cost Averaging (DCA) Projection & Comparison",
    "description": "Interactive calculator to project the future value of recurring contributions (DCA) and compare with a lump-sum approach. Includes fee and inflation adjustments, transparency notes, and conservative accuracy caveats tied to recognized standards."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "dca",
    "methods": {
      "dca": {
        "label": "Dollar-Cost Averaging (recurring contributions)",
        "description": "Projects future value assuming recurring fixed contributions at regular intervals and compound returns. Fees are applied as a simple periodic deduction; inflation-adjusted results are provided for purchasing-power context.",
        "variables": {
          "periods": {
            "expression": "duration_years * contribution_freq",
            "dependencies": [
              "duration_years",
              "contribution_freq"
            ],
            "label": "Total contribution periods",
            "unit": "periods",
            "format": "integer",
            "display": false
          },
          "r_period": {
            "expression": "pow(1 + annual_return_pct/100, 1 / contribution_freq) - 1",
            "dependencies": [
              "annual_return_pct",
              "contribution_freq"
            ],
            "label": "Nominal return per period",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "fee_period": {
            "expression": "annual_fee_pct/100 / contribution_freq",
            "dependencies": [
              "annual_fee_pct",
              "contribution_freq"
            ],
            "label": "Fee (approx) deducted per period",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "net_r": {
            "expression": "r_period - fee_period",
            "dependencies": [
              "r_period",
              "fee_period"
            ],
            "label": "Net periodic return after fees",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "fv_initial": {
            "expression": "initial_investment * pow(1 + net_r, periods)",
            "dependencies": [
              "initial_investment",
              "net_r",
              "periods"
            ],
            "label": "Future value of initial lump-sum",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "fv_contrib": {
            "expression": "recurring_contribution * ( (pow(1 + net_r, periods) - 1) / net_r )",
            "dependencies": [
              "recurring_contribution",
              "net_r",
              "periods"
            ],
            "label": "Future value of recurring contributions (end-of-period)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "fv_total": {
            "expression": "fv_initial + fv_contrib",
            "dependencies": [
              "fv_initial",
              "fv_contrib"
            ],
            "label": "Projected nominal future value",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "total_contributed": {
            "expression": "initial_investment + recurring_contribution * periods",
            "dependencies": [
              "initial_investment",
              "recurring_contribution",
              "periods"
            ],
            "label": "Total nominal contributions",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "real_fv": {
            "expression": "fv_total / pow(1 + inflation_pct/100, duration_years)",
            "dependencies": [
              "fv_total",
              "inflation_pct",
              "duration_years"
            ],
            "label": "Inflation-adjusted future value (real terms)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "approx_annualized_return_pct": {
            "expression": "(pow( fv_total / total_contributed, 1 / duration_years ) - 1) * 100",
            "dependencies": [
              "fv_total",
              "total_contributed",
              "duration_years"
            ],
            "label": "Approximate annualized return (geometric)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "fv_total",
            "label": "Projected nominal future value",
            "variable": "fv_total",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "real_fv",
            "label": "Inflation-adjusted future value",
            "variable": "real_fv",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_contributed",
            "label": "Total contributed",
            "variable": "total_contributed",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "approx_annualized_return_pct",
            "label": "Approx. annualized return",
            "variable": "approx_annualized_return_pct",
            "unit": "%",
            "format": "percent"
          }
        ]
      },
      "lump_sum": {
        "label": "Lump-sum comparison",
        "description": "Projects what the future value would be if the same total contributions were invested as a single lump sum at the start of the period. Useful for comparing DCA versus immediate full investment under the same return assumptions.",
        "variables": {
          "periods": {
            "expression": "duration_years * contribution_freq",
            "dependencies": [
              "duration_years",
              "contribution_freq"
            ],
            "label": "Total contribution periods",
            "unit": "periods",
            "format": "integer",
            "display": false
          },
          "r_period": {
            "expression": "pow(1 + annual_return_pct/100, 1 / contribution_freq) - 1",
            "dependencies": [
              "annual_return_pct",
              "contribution_freq"
            ],
            "label": "Nominal return per period",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "fee_period": {
            "expression": "annual_fee_pct/100 / contribution_freq",
            "dependencies": [
              "annual_fee_pct",
              "contribution_freq"
            ],
            "label": "Fee (approx) deducted per period",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "net_r": {
            "expression": "r_period - fee_period",
            "dependencies": [
              "r_period",
              "fee_period"
            ],
            "label": "Net periodic return after fees",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "total_contributed": {
            "expression": "initial_investment + recurring_contribution * periods",
            "dependencies": [
              "initial_investment",
              "recurring_contribution",
              "periods"
            ],
            "label": "Total nominal contributions",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "fv_lump": {
            "expression": "total_contributed * pow(1 + net_r, periods)",
            "dependencies": [
              "total_contributed",
              "net_r",
              "periods"
            ],
            "label": "Projected nominal future value (lump-sum invested at start)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "real_fv_lump": {
            "expression": "fv_lump / pow(1 + inflation_pct/100, duration_years)",
            "dependencies": [
              "fv_lump",
              "inflation_pct",
              "duration_years"
            ],
            "label": "Inflation-adjusted future value (lump-sum)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "approx_annualized_return_pct": {
            "expression": "(pow( fv_lump / total_contributed, 1 / duration_years ) - 1) * 100",
            "dependencies": [
              "fv_lump",
              "total_contributed",
              "duration_years"
            ],
            "label": "Approximate annualized return (lump-sum)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "fv_lump",
            "label": "Lump-sum projected nominal future value",
            "variable": "fv_lump",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "real_fv_lump",
            "label": "Lump-sum inflation-adjusted value",
            "variable": "real_fv_lump",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_contributed",
            "label": "Total contributed",
            "variable": "total_contributed",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "approx_annualized_return_pct",
            "label": "Approx. annualized return (lump-sum)",
            "variable": "approx_annualized_return_pct",
            "unit": "%",
            "format": "percent"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "initial_investment",
        "label": "Initial lump-sum investment (USD)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "recurring_contribution",
        "label": "Recurring contribution per period (USD)",
        "type": "number",
        "default": 100,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "contribution_freq",
        "label": "Contributions per year (periods per year)",
        "type": "integer",
        "default": 12,
        "min": 1,
        "max": 365,
        "step": 1
      },
      {
        "id": "duration_years",
        "label": "Investment duration (years)",
        "type": "integer",
        "default": 10,
        "min": 1,
        "max": 100,
        "step": 1
      },
      {
        "id": "annual_return_pct",
        "label": "Expected nominal annual return (%)",
        "type": "number",
        "default": 7,
        "min": -100,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "annual_volatility_pct",
        "label": "Estimated annual volatility (% — informational only)",
        "type": "number",
        "default": 15,
        "min": 0,
        "max": 500,
        "step": 0.01
      },
      {
        "id": "annual_fee_pct",
        "label": "Estimated annual fee (expense ratio) in percent",
        "type": "number",
        "default": 0.5,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "inflation_pct",
        "label": "Expected annual inflation (%)",
        "type": "number",
        "default": 2,
        "min": -50,
        "max": 100,
        "step": 0.01
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator projects the future value of a recurring-investment plan (dollar-cost averaging) and provides a lump-sum comparison under the same assumptions. It factors in periodic fees and converts nominal projections into inflation-adjusted (real) terms for purchasing-power perspective.",
      "Use the tool to explore sensitivities: change contribution frequency, assumed long-term return, fees, and inflation. Results are illustrative projections — not guarantees — and should be combined with professional advice for financial decisions."
    ],
    "methodology": [
      "Projections use discrete periodic compounding. Annual nominal return is converted to a per-period rate so contributions made at regular intervals can be accumulated.",
      "Fees are approximated as an even annual percentage (expense ratio) applied as a proportional reduction per period. Inflation adjustment divides the nominal future value by the cumulative inflation factor over the full horizon.",
      "This tool provides illustrative, deterministic outputs from user inputs. It does not perform stochastic simulations or tax calculations. Users should validate assumptions and consider backtesting against historical series where available."
    ],
    "how_is_calculated": [
      "Convert annual nominal return to periodic return: r_period = (1 + annual_return)^(1/periods_per_year) - 1.",
      "Approximate periodic fee: fee_period = annual_fee / periods_per_year. Net periodic return = r_period - fee_period.",
      "Future value of initial lump sum: FV_initial = initial * (1 + net_r)^(total_periods).",
      "Future value of recurring contributions (end-of-period): FV_contrib = contribution * (( (1 + net_r)^(total_periods) - 1 ) / net_r).",
      "Total nominal FV = FV_initial + FV_contrib. Inflation-adjusted FV = Total nominal FV / (1 + inflation)^(years). Approximate annualized return is derived geometrically from FV and total contributions."
    ],
    "examples": [
      "Example: $100 monthly for 20 years, 7% annual return, 0.5% fees, 2% inflation — compare projected nominal and real values to a lump-sum of the same total invested at the start.",
      "Use a shorter horizon and lower return to see the effect of fees and inflation on purchasing power; increase contribution frequency to observe compounding cadence effects."
    ],
    "faqs": [
      {
        "question": "Does this calculator guarantee investment performance?",
        "answer": "No. Outputs are deterministic projections based on user assumptions. Real market returns vary and can be negative. This tool does not predict future returns."
      },
      {
        "question": "How are fees and inflation handled?",
        "answer": "Fees are approximated as an annual percentage converted to a per-period deduction. Inflation adjustments divide nominal future value by the cumulative inflation factor over the full horizon to estimate real purchasing power."
      },
      {
        "question": "Should I always prefer DCA over lump-sum investing?",
        "answer": "Not necessarily. Historically, lump-sum investing often outperforms DCA when markets generally trend upward, but DCA can reduce short-term timing risk and help with behavioral consistency. Use this comparison alongside risk tolerance and time horizon."
      },
      {
        "question": "What are the limitations of these formulas?",
        "answer": "The model assumes constant periodic returns and fees, contributions of fixed size and timing, no taxes, and no transaction frictions. It does not model volatility drag, sequence-of-returns risk in full stochastic detail, or tax-optimized withdrawal strategies."
      },
      {
        "question": "How can I improve accuracy?",
        "answer": "Use historical total-return series for backtesting, run Monte Carlo scenarios for probabilistic outcomes, incorporate tax rules where relevant, and verify fee assumptions from fund documents."
      }
    ],
    "citations": [
      {
        "label": "NIST Risk Management Framework (general computational accuracy & model documentation practices)",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO 31000 Risk management — Guidelines",
        "url": "https://www.iso.org/iso-31000-risk-management.html"
      },
      {
        "label": "IEEE guidelines on numerical reproducibility and documentation",
        "url": "https://www.ieee.org"
      },
      {
        "label": "Occupational Safety and Health Administration (documentation and process control standards reference)",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Dollar-cost averaging (DCA)",
        "definition": "An investment technique in which an investor divides the total amount to be invested across periodic purchases, reducing the impact of volatility on the overall purchase."
      },
      {
        "term": "Future value (FV)",
        "definition": "The value of a current asset at a specified date in the future based on an assumed rate of growth or return."
      },
      {
        "term": "Real return",
        "definition": "Return adjusted for inflation; reflects change in purchasing power rather than nominal currency units."
      },
      {
        "term": "Annualized return (geometric)",
        "definition": "The constant rate at which an investment grows per year to reach the observed end value from the starting value, accounting for compounding."
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/iso-31000-risk-management.html",
        "label": "ISO 31000",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.osha.gov",
        "label": "OSHA",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "Finance"
    ]
  }
}