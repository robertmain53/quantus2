{
  "version": "1.0.0",
  "metadata": {
    "title": "Mortgage Interest Calculator (with Extra Monthly Payments)",
    "description": "Estimates scheduled monthly payment, payoff time, total interest, and interest saved when you add fixed extra monthly payments to a fixed-rate mortgage. Assumes monthly compounding and no fees or prepayment penalties."
  },
  "logic": {
    "type": "formula",
    "outputs": [
      {
        "id": "scheduled_payment",
        "label": "Scheduled monthly payment (no extra)",
        "expression": "loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) ))",
        "unit": "USD",
        "format": "currency"
      },
      {
        "id": "monthly_with_extra",
        "label": "Monthly payment including extra",
        "expression": "loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) )) + extra_monthly",
        "unit": "USD",
        "format": "currency"
      },
      {
        "id": "payments_with_extra",
        "label": "Number of payments to payoff (months) with extra",
        "expression": "-log(1 - loan_amount*(annual_rate/100/12) / (loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) )) + extra_monthly)) / log(1 + (annual_rate/100/12))",
        "format": "decimal"
      },
      {
        "id": "years_with_extra",
        "label": "Years to payoff with extra",
        "expression": "-log(1 - loan_amount*(annual_rate/100/12) / (loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) )) + extra_monthly)) / (12 * log(1 + (annual_rate/100/12)))",
        "format": "decimal"
      },
      {
        "id": "total_interest_no_extra",
        "label": "Total interest paid (no extra)",
        "expression": "(loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) )))*(term_years*12) - loan_amount",
        "unit": "USD",
        "format": "currency"
      },
      {
        "id": "total_interest_with_extra",
        "label": "Total interest paid (with extra)",
        "expression": "(loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) )) + extra_monthly) * (-log(1 - loan_amount*(annual_rate/100/12) / (loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) )) + extra_monthly)) / log(1 + (annual_rate/100/12))) - loan_amount",
        "unit": "USD",
        "format": "currency"
      },
      {
        "id": "interest_saved",
        "label": "Interest saved by paying extra",
        "expression": "((loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) )))*(term_years*12) - loan_amount) - ((loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) )) + extra_monthly) * (-log(1 - loan_amount*(annual_rate/100/12) / (loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) )) + extra_monthly)) / log(1 + (annual_rate/100/12))) - loan_amount)",
        "unit": "USD",
        "format": "currency"
      },
      {
        "id": "months_saved",
        "label": "Months saved (compared to original term)",
        "expression": "(term_years*12) - (-log(1 - loan_amount*(annual_rate/100/12) / (loan_amount*(annual_rate/100/12) / (1 - pow(1 + (annual_rate/100/12), - (term_years*12) )) + extra_monthly)) / log(1 + (annual_rate/100/12)))",
        "format": "decimal"
      }
    ]
  },
  "form": {
    "fields": [
      {
        "id": "loan_amount",
        "label": "Loan amount (principal)",
        "type": "number",
        "default": 300000,
        "min": 0,
        "step": 100
      },
      {
        "id": "annual_rate",
        "label": "Annual interest rate (%)",
        "type": "number",
        "default": 3.5,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "term_years",
        "label": "Loan term (years)",
        "type": "integer",
        "default": 30,
        "min": 1,
        "max": 50,
        "step": 1
      },
      {
        "id": "extra_monthly",
        "label": "Extra monthly payment (apply to principal)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "scheduled_payment",
          "label": "Scheduled monthly payment (no extra)",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "monthly_with_extra",
          "label": "Monthly payment including extra",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "payments_with_extra",
          "label": "Payments to payoff (months) with extra",
          "format": "decimal"
        },
        {
          "id": "years_with_extra",
          "label": "Years to payoff with extra",
          "format": "decimal",
          "unit": "years"
        },
        {
          "id": "total_interest_no_extra",
          "label": "Total interest (no extra)",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "total_interest_with_extra",
          "label": "Total interest (with extra)",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "interest_saved",
          "label": "Interest saved",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "months_saved",
          "label": "Months saved",
          "format": "decimal"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "This calculator shows how fixed extra monthly payments reduce the life of a fixed-rate mortgage and the total interest paid. It computes the scheduled monthly payment for the entered rate, then recalculates payoff time and interest when you add a constant extra monthly amount that is applied directly to principal.",
      "Use this tool to compare scenarios (no extra vs extra schedule), check sensitivity to extra amounts, and estimate how much interest and time you may save. It assumes monthly compounding and that extra amounts are applied each month in addition to the scheduled payment."
    ],
    "methodology": [
      "The tool uses the standard amortization formula for fixed-rate loans. Monthly rate r = annual_rate / 12 / 100 and payments count n = term_years * 12.",
      "To estimate payoff time when adding a fixed extra monthly amount, the calculator solves the closed-form amortization equation for the number of remaining payments. All interest calculations assume payments are applied monthly and there are no additional fees, escrow payments, or prepayment penalties.",
      "Development practices and numeric handling follow industry recommendations for numerical stability and data protection: IEEE floating-point best practices for arithmetic stability, NIST guidance for secure handling of user data, and ISO quality-management principles for verification. This is a numerical estimator, not a substitute for lender-provided payoff statements."
    ],
    "how_is_calculated": [
      "Monthly rate r = annual_rate / 12 / 100",
      "Scheduled monthly payment (no extra): P = loan_amount * r / (1 - (1 + r)^-n), where n = term_years * 12",
      "Monthly payment with extra = P + extra_monthly",
      "Number of payments to payoff with extra N_extra = -log(1 - loan_amount * r / (P + extra_monthly)) / log(1 + r)",
      "Total interest = sum(payments) - loan_amount. Interest saved = total_interest_no_extra - total_interest_with_extra"
    ],
    "examples": [
      "Example: $300,000 loan, 3.50% annual rate, 30 years: scheduled payment ≈ computed P. Add $200 extra monthly and see years to payoff and interest saved.",
      "If the added extra monthly is less than the monthly interest portion (loan_amount multiplied by the periodic rate), the formula will not converge; the calculator will show very long payoff time. Ensure extra_monthly plus scheduled payment exceeds loan_amount multiplied by the periodic rate."
    ],
    "faqs": [
      {
        "question": "Does this calculator include closing costs, taxes, insurance, or HOA fees?",
        "answer": "No. This tool models principal and interest only. It does not include taxes, insurance, homeowner association dues, lender fees, or escrow items. Use lender statements for a full payment breakdown."
      },
      {
        "question": "Are prepayment penalties or lender rules considered?",
        "answer": "No. The calculator does not know your loan contract. Check your loan documents or ask your servicer for prepayment penalties or required payment application rules before making extra payments."
      },
      {
        "question": "Why might results differ from my lender's payoff quote?",
        "answer": "Lender payoff quotes incorporate daily interest accrual, outstanding fees, timing of payments, and specific application of extra amounts. This calculator assumes consistent monthly application and fixed monthly compounding; use lender payoff statements for exact payoff amounts."
      },
      {
        "question": "How accurate are the results?",
        "answer": "Results use standard amortization mathematics and IEEE-recommended numeric methods. Minor differences may occur due to rounding, daily interest accrual, or lender-specific rules. Use this as an estimate and verify with your lender for exact payoff numbers."
      }
    ],
    "glossary": [
      {
        "term": "Amortization",
        "definition": "The schedule of principal and interest portions of each payment over the life of a loan."
      },
      {
        "term": "Principal",
        "definition": "The outstanding loan balance on which interest is calculated."
      },
      {
        "term": "APR",
        "definition": "Annual Percentage Rate; a standardized measure of borrowing cost that may include certain fees and charges in addition to the interest rate. This calculator uses the nominal interest rate provided, not a full APR calculation."
      },
      {
        "term": "Prepayment",
        "definition": "An extra payment applied to the loan principal that reduces the outstanding balance and can shorten the loan term and reduce interest paid."
      }
    ],
    "citations": [
      {
        "label": "NIST — National Institute of Standards & Technology",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO — Quality management systems (ISO 9001)",
        "url": "https://www.iso.org/iso-9001-quality-management.html"
      },
      {
        "label": "IEEE — Standards for floating-point arithmetic (IEEE 754)",
        "url": "https://standards.ieee.org/standard/754-2019.html"
      },
      {
        "label": "Consumer Financial Protection Bureau — Mortgage basics and loan estimates",
        "url": "https://www.consumerfinance.gov/owning-a-home/"
      }
    ]
  },
  "links": {
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST - official site",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/iso-9001-quality-management.html",
        "label": "ISO 9001 overview",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://standards.ieee.org/standard/754-2019.html",
        "label": "IEEE 754 floating-point standard",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.consumerfinance.gov/owning-a-home/",
        "label": "Consumer Financial Protection Bureau - owning a home",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo"
    ]
  }
}
