{
  "version": "1.0.0",
  "metadata": {
    "title": "Synthetic Position Calculator",
    "description": "Multi-method calculator to model synthetic long/short stock and synthetic futures using option pairs. Estimates net premium, notional exposure, breakeven, synthetic delta, initial outlay, and an indicative margin estimate. Includes accuracy guidance, regulatory and standards references, and a concise glossary."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "synthetic_long_stock",
    "methods": {
      "synthetic_long_stock": {
        "label": "Synthetic Long Stock (Long Call + Short Put at same strike)",
        "description": "Replicates a long underlying position using a long call and a short put at the same strike. Assumes European-style settlement for expiry calculations and same strike for both legs.",
        "variables": {
          "net_premium_per_share": {
            "expression": "call_premium - put_premium - (2 * commission_per_contract / contract_size)",
            "dependencies": [
              "call_premium",
              "put_premium",
              "commission_per_contract",
              "contract_size"
            ],
            "label": "Net premium per share (credit if negative)",
            "unit": "per share",
            "format": "currency",
            "display": true
          },
          "initial_outlay_total": {
            "expression": "net_premium_per_share * contracts * contract_size",
            "dependencies": [
              "net_premium_per_share",
              "contracts",
              "contract_size"
            ],
            "label": "Initial cash outlay (total)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "notional": {
            "expression": "underlying_price * contracts * contract_size",
            "dependencies": [
              "underlying_price",
              "contracts",
              "contract_size"
            ],
            "label": "Notional exposure",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "breakeven": {
            "expression": "strike_call + net_premium_per_share",
            "dependencies": [
              "strike_call",
              "net_premium_per_share"
            ],
            "label": "Breakeven price at expiry",
            "unit": "price",
            "format": "decimal",
            "display": true
          },
          "delta": {
            "expression": "call_delta - put_delta",
            "dependencies": [
              "call_delta",
              "put_delta"
            ],
            "label": "Synthetic delta (approximate)",
            "unit": "delta",
            "format": "decimal",
            "display": true
          },
          "margin_estimate": {
            "expression": "notional * margin_rate_percent / 100",
            "dependencies": [
              "notional",
              "margin_rate_percent"
            ],
            "label": "Indicative margin requirement",
            "unit": "currency",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "net_premium_per_share",
            "label": "Net premium per share",
            "variable": "net_premium_per_share",
            "format": "currency"
          },
          {
            "id": "initial_outlay_total",
            "label": "Initial outlay (total)",
            "variable": "initial_outlay_total",
            "format": "currency"
          },
          {
            "id": "notional",
            "label": "Notional exposure",
            "variable": "notional",
            "format": "currency"
          },
          {
            "id": "breakeven",
            "label": "Breakeven price",
            "variable": "breakeven",
            "format": "decimal"
          },
          {
            "id": "delta",
            "label": "Synthetic delta",
            "variable": "delta",
            "format": "decimal"
          },
          {
            "id": "margin_estimate",
            "label": "Indicative margin",
            "variable": "margin_estimate",
            "format": "currency"
          }
        ]
      },
      "synthetic_short_stock": {
        "label": "Synthetic Short Stock (Short Call + Long Put at same strike)",
        "description": "Replicates a short underlying position using a short call and a long put at the same strike. Assumes same strike for both legs; outcomes invert those of synthetic long.",
        "variables": {
          "net_premium_per_share": {
            "expression": "put_premium - call_premium - (2 * commission_per_contract / contract_size)",
            "dependencies": [
              "put_premium",
              "call_premium",
              "commission_per_contract",
              "contract_size"
            ],
            "label": "Net premium per share (credit if negative)",
            "unit": "per share",
            "format": "currency",
            "display": true
          },
          "initial_outlay_total": {
            "expression": "net_premium_per_share * contracts * contract_size",
            "dependencies": [
              "net_premium_per_share",
              "contracts",
              "contract_size"
            ],
            "label": "Initial cash outlay (total)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "notional": {
            "expression": "underlying_price * contracts * contract_size",
            "dependencies": [
              "underlying_price",
              "contracts",
              "contract_size"
            ],
            "label": "Notional exposure (absolute value)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "breakeven": {
            "expression": "strike_call - net_premium_per_share",
            "dependencies": [
              "strike_call",
              "net_premium_per_share"
            ],
            "label": "Breakeven price at expiry",
            "unit": "price",
            "format": "decimal",
            "display": true
          },
          "delta": {
            "expression": "call_delta - put_delta",
            "dependencies": [
              "call_delta",
              "put_delta"
            ],
            "label": "Synthetic delta (approximate)",
            "unit": "delta",
            "format": "decimal",
            "display": true
          },
          "margin_estimate": {
            "expression": "notional * margin_rate_percent / 100",
            "dependencies": [
              "notional",
              "margin_rate_percent"
            ],
            "label": "Indicative margin requirement",
            "unit": "currency",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "net_premium_per_share",
            "label": "Net premium per share",
            "variable": "net_premium_per_share",
            "format": "currency"
          },
          {
            "id": "initial_outlay_total",
            "label": "Initial outlay (total)",
            "variable": "initial_outlay_total",
            "format": "currency"
          },
          {
            "id": "notional",
            "label": "Notional exposure",
            "variable": "notional",
            "format": "currency"
          },
          {
            "id": "breakeven",
            "label": "Breakeven price",
            "variable": "breakeven",
            "format": "decimal"
          },
          {
            "id": "delta",
            "label": "Synthetic delta",
            "variable": "delta",
            "format": "decimal"
          },
          {
            "id": "margin_estimate",
            "label": "Indicative margin",
            "variable": "margin_estimate",
            "format": "currency"
          }
        ]
      },
      "synthetic_future": {
        "label": "Synthetic Future Approximation (cost to replicate forward)",
        "description": "Models a forward/future exposure approximated by option pair and financing/dividend carry. Uses a linearized forward price approximation; see methodology for assumptions.",
        "variables": {
          "forward_adj": {
            "expression": "(interest_rate_percent - dividend_yield_percent) * days_to_expiry / 36500",
            "dependencies": [
              "interest_rate_percent",
              "dividend_yield_percent",
              "days_to_expiry"
            ],
            "label": "Linearized forward adjustment factor",
            "unit": "multiplier",
            "format": "decimal",
            "display": true
          },
          "forward_price": {
            "expression": "underlying_price * (1 + forward_adj)",
            "dependencies": [
              "underlying_price",
              "forward_adj"
            ],
            "label": "Approximate forward price",
            "unit": "price",
            "format": "currency",
            "display": true
          },
          "net_premium_per_share": {
            "expression": "call_premium - put_premium - (2 * commission_per_contract / contract_size)",
            "dependencies": [
              "call_premium",
              "put_premium",
              "commission_per_contract",
              "contract_size"
            ],
            "label": "Net premium per share to establish synthetic forward",
            "unit": "per share",
            "format": "currency",
            "display": true
          },
          "synthetic_future_cost_total": {
            "expression": "net_premium_per_share * contracts * contract_size",
            "dependencies": [
              "net_premium_per_share",
              "contracts",
              "contract_size"
            ],
            "label": "Total net premium (cost to establish)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "notional": {
            "expression": "forward_price * contracts * contract_size",
            "dependencies": [
              "forward_price",
              "contracts",
              "contract_size"
            ],
            "label": "Forward notional exposure",
            "unit": "currency",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "forward_price",
            "label": "Approximate forward price",
            "variable": "forward_price",
            "format": "currency"
          },
          {
            "id": "synthetic_future_cost_total",
            "label": "Synthetic forward net premium (total)",
            "variable": "synthetic_future_cost_total",
            "format": "currency"
          },
          {
            "id": "notional",
            "label": "Forward notional exposure",
            "variable": "notional",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "underlying_price",
        "label": "Underlying price",
        "type": "number",
        "default": 100,
        "min": 0.01,
        "step": 0.01
      },
      {
        "id": "strike_call",
        "label": "Strike price (call leg)",
        "type": "number",
        "default": 100,
        "min": 0.01,
        "step": 0.01
      },
      {
        "id": "strike_put",
        "label": "Strike price (put leg)",
        "type": "number",
        "default": 100,
        "min": 0.01,
        "step": 0.01
      },
      {
        "id": "call_premium",
        "label": "Call premium (per share)",
        "type": "number",
        "default": 2.5,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "put_premium",
        "label": "Put premium (per share)",
        "type": "number",
        "default": 2.0,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "call_delta",
        "label": "Call delta (per contract, -1 to 1)",
        "type": "number",
        "default": 0.5,
        "min": -1,
        "max": 1,
        "step": 0.01
      },
      {
        "id": "put_delta",
        "label": "Put delta (per contract, -1 to 1)",
        "type": "number",
        "default": -0.5,
        "min": -1,
        "max": 1,
        "step": 0.01
      },
      {
        "id": "contracts",
        "label": "Number of option contracts",
        "type": "integer",
        "default": 1,
        "min": 1,
        "step": 1
      },
      {
        "id": "contract_size",
        "label": "Contract size (shares per contract)",
        "type": "integer",
        "default": 100,
        "min": 1,
        "step": 1
      },
      {
        "id": "commission_per_contract",
        "label": "Commission per contract (one leg)",
        "type": "number",
        "default": 1.0,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "days_to_expiry",
        "label": "Days to expiry",
        "type": "integer",
        "default": 30,
        "min": 0,
        "step": 1
      },
      {
        "id": "interest_rate_percent",
        "label": "Annual interest rate (percent)",
        "type": "number",
        "default": 0.0,
        "min": -100,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "dividend_yield_percent",
        "label": "Annual dividend yield (percent)",
        "type": "number",
        "default": 0.0,
        "min": -100,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "margin_rate_percent",
        "label": "Indicative margin rate (percent)",
        "type": "number",
        "default": 50,
        "min": 0,
        "max": 200,
        "step": 1
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator models common synthetic positions made from option pairs (long call + short put for synthetic long stock; short call + long put for synthetic short; option pair to approximate a forward). It provides net premium, notional exposure, breakeven price at expiry, an approximate synthetic delta, initial cash outlay, and an indicative margin estimate.",
      "The tool is for illustrative and planning purposes only. It uses explicit inputs for premiums, strikes, deltas, commissions, and simple financing/dividend adjustments. Real trading costs, assignment risk, liquidity, taxation, and broker margin rules vary and must be confirmed with your broker or compliance team."
    ],
    "methodology": [
      "Synthetic positions are modeled by algebraic combinations of the option legs. Net premium equals the premium paid for one leg minus the premium received for the other leg, adjusted for round-trip commissions converted to a per-share basis.",
      "Notional exposure equals underlying price multiplied by total shares (contracts × contract size). Breakeven is computed from the strike plus or minus the net premium per share depending on the construction.",
      "The synthetic forward uses a linearized forward-price approximation from simple carry: forward ≈ spot × (1 + (r - q) × T), where r is annual interest rate, q is dividend yield, and T is days to expiry divided by 365. This linearization is an approximation for short expiries; for larger T use a continuous-compounding forward model or a full options pricing model."
    ],
    "how_is_calculated": [
      "Net premium per share = call_premium - put_premium - (2 × commission_per_contract / contract_size) for long-synthetic; reverse signs for short-synthetic as appropriate.",
      "Notional = underlying_price × contracts × contract_size.",
      "Breakeven (synthetic long) = strike + net_premium_per_share. Breakeven (synthetic short) = strike - net_premium_per_share.",
      "Approximate forward price = underlying_price × (1 + (interest_rate_percent - dividend_yield_percent) × days_to_expiry / 36500).",
      "Indicative margin = notional × margin_rate_percent / 100. This is a user-supplied estimate; actual broker margins differ by instrument, account type, and jurisdiction."
    ],
    "examples": [
      "Example 1: Long call (2.50) + short put (2.00) at 100 strike, 1 contract of 100 shares, $1 commission per leg. Net premium per share = 2.50 - 2.00 - (2×1/100) = 0.48. Initial outlay = $48 for one contract. Breakeven ≈ 100 + 0.48 = 100.48.",
      "Example 2: To approximate a 30-day forward on a 100 underlying with 0.5% interest and 0% dividend, forward ≈ 100 × (1 + (0.5 - 0) × 30 / 36500) ≈ 100.041. Net premium then shows cash required to synthetically hold that forward exposure."
    ],
    "summary": [
      "This calculator provides rapid, transparent algebraic approximations for synthetic option constructions. It is intended for planning and risk-awareness, not as a substitute for broker margin calculators, option-pricing models, or professional advice.",
      "Verify results with live market data, confirm assignment and margin policies with your broker, and test critical workflows using controlled paper-trading before committing capital."
    ],
    "faqs": [
      {
        "question": "Is this a substitute for option pricing models (Black-Scholes, binomial)?",
        "answer": "No. This tool computes algebraic outcomes (premiums, breakevens, notional, simple forward approximations). For Greeks beyond delta, implied volatility effects, and pricing dynamics use a dedicated option-pricing model and market data."
      },
      {
        "question": "Does it account for early assignment on American options?",
        "answer": "No. Early assignment risk is not modeled. American-style options can be assigned prior to expiry and will change cashflow and position status; contact your broker for assignment procedures and risk management."
      },
      {
        "question": "Are margin estimates guaranteed?",
        "answer": "No. Margin estimates are indicative and based on a user-supplied percentage. Actual margin requirements depend on broker rules, account type, and regulatory jurisdiction and can change intraday."
      },
      {
        "question": "Can I use different strikes for the two legs?",
        "answer": "This calculator supports separate strike inputs but the synthetic long/short methods assume same-strike replication for classical equivalence. Different strikes produce spread exposures and will not perfectly replicate a stock position."
      },
      {
        "question": "Is this financial advice?",
        "answer": "No. This tool is educational and illustrative only and does not constitute investment, tax, or legal advice. Consult appropriate professionals before trading."
      }
    ],
    "glossary": [
      {
        "term": "Net premium",
        "definition": "The cash paid or received per share when combining option legs; premiums for bought options minus premiums for sold options, adjusted for commissions."
      },
      {
        "term": "Notional",
        "definition": "Market exposure measured as underlying price multiplied by total underlying shares represented by the option contracts (contracts × contract size)."
      },
      {
        "term": "Breakeven",
        "definition": "Underlying price at expiry at which the combined position yields zero profit/loss ignoring financing and transaction costs beyond included commissions."
      },
      {
        "term": "Synthetic long/short",
        "definition": "An options combination (long call + short put) or (short call + long put) at the same strike that, under specific conditions, replicates a long or short position in the underlying."
      },
      {
        "term": "Delta",
        "definition": "The approximate change in the option position's value per one-unit move in the underlying price. Synthetic delta approximates the net directional exposure of the combined options."
      }
    ],
    "citations": [
      {
        "label": "NIST Special Publication 800-53 (Security and privacy controls)",
        "url": "https://csrc.nist.gov/publications/detail/sp/800-53/rev-5/final"
      },
      {
        "label": "ISO 31000 — Risk management",
        "url": "https://www.iso.org/iso-31000-risk-management.html"
      },
      {
        "label": "IEEE Standards Association",
        "url": "https://standards.ieee.org"
      },
      {
        "label": "OSHA — Occupational Safety and Health Administration",
        "url": "https://www.osha.gov"
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://csrc.nist.gov/publications/detail/sp/800-53/rev-5/final",
        "label": "NIST SP 800-53",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/iso-31000-risk-management.html",
        "label": "ISO 31000",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://standards.ieee.org",
        "label": "IEEE Standards",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.osha.gov",
        "label": "OSHA",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialProduct"
    ]
  }
}