{
  "version": "1.0.0",
  "metadata": {
    "title": "Sortino Ratio Calculator",
    "description": "Calculate the Sortino ratio from annualized returns, a specified target (MAR), and an annualized downside deviation. Includes guidance on inputs, statistical reliability, and accuracy caveats tied to measurement standards."
  },
  "logic": {
    "type": "formula",
    "outputs": [
      {
        "id": "sortino_ratio",
        "label": "Sortino ratio",
        "expression": "(mean_return - target_return) / downside_deviation",
        "format": "decimal"
      },
      {
        "id": "annual_excess_return_pct",
        "label": "Annual excess return (mean − target)",
        "expression": "mean_return - target_return",
        "unit": "%",
        "format": "percent"
      }
    ]
  },
  "form": {
    "fields": [
      {
        "id": "mean_return",
        "label": "Annualized mean return (%)",
        "type": "number",
        "default": 8,
        "min": -100,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "target_return",
        "label": "Target / Minimum acceptable return (MAR) (%)",
        "type": "number",
        "default": 0,
        "min": -100,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "downside_deviation",
        "label": "Downside deviation (annualized %)",
        "type": "number",
        "default": 5,
        "min": 0.0001,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "observations",
        "label": "Number of return observations (for reliability)",
        "type": "integer",
        "default": 60,
        "min": 1,
        "max": 100000,
        "step": 1
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "sortino_ratio",
          "label": "Sortino ratio"
        },
        {
          "id": "annual_excess_return_pct",
          "label": "Annual excess return",
          "format": "percent",
          "unit": "%"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "The Sortino ratio measures risk-adjusted return where downside volatility is treated as the relevant risk. It compares the portfolio's excess return above a user-specified target (Minimum Acceptable Return, MAR) to the downside deviation of returns below that target.",
      "This calculator expects annualized inputs: an annualized mean return, an annualized downside deviation, and the chosen MAR. It returns the Sortino ratio and the annual excess return. Use the observations field to record the number of return points used to produce the annualized figures; this helps evaluate statistical reliability."
    ],
    "methodology": [
      "Formula: Sortino ratio = (Rp − MAR) / Downside deviation, where Rp is the portfolio return and MAR is the minimum acceptable return. Downside deviation is the square root of the mean squared negative deviations below MAR (semi-deviation).",
      "This implementation assumes the user supplies annualized mean return and an annualized downside deviation. If you have raw periodic returns (monthly/weekly), annualize both the mean and downside deviation consistently before using this tool.",
      "Statistical and measurement caveats follow best practices for uncertainty and repeatability. For guidance on measurement uncertainty, data handling, and algorithmic accuracy, consult standards such as NIST guidelines on measurement uncertainty and ISO/IEEE best practices for statistical reporting."
    ],
    "how_is_calculated": [
      "Step 1: Ensure mean_return and downside_deviation are on the same annualized basis (both in percent).",
      "Step 2: Compute annual excess return = mean_return − target_return (percent points).",
      "Step 3: Compute Sortino ratio = annual excess return / downside_deviation (both in same units so the percent cancels).",
      "Concise formula: Sortino = (mean_return − target_return) / downside_deviation"
    ],
    "examples": [
      "Example: mean_return = 10.0, target_return = 2.0, downside_deviation = 6.0 → annual excess return = 8.0%; Sortino = 8.0 / 6.0 = 1.333.",
      "If downside_deviation is very small (close to zero), the Sortino ratio can become extremely large or undefined; verify downside_deviation is positive and review raw returns for outliers or data errors."
    ],
    "summary": [
      "The Sortino ratio isolates downside risk and is useful when upside volatility is not a concern. It complements other measures such as the Sharpe ratio but focuses only on negative deviations from a specified target.",
      "Provide consistently annualized inputs and document the number of observations. Low observation counts increase sampling error; apply caution and consider bootstrap or robust estimation methods for small samples."
    ],
    "faqs": [
      {
        "question": "What input format should I use?",
        "answer": "Enter annualized percentages for mean return, target (MAR), and downside deviation. If you have periodic returns, annualize both the mean and the downside deviation with a consistent method before using this calculator."
      },
      {
        "question": "How is downside deviation different from standard deviation?",
        "answer": "Standard deviation measures variability both above and below the mean. Downside deviation (semi-deviation) measures only returns below the MAR or threshold; it penalizes negative outcomes relative to that target."
      },
      {
        "question": "Can I enter raw return series here?",
        "answer": "This simple version requires precomputed annualized mean return and downside deviation. For calculators that accept raw return series and compute annualization and semi-deviation internally, use a tool that supports series inputs or compute the statistics in a spreadsheet first."
      },
      {
        "question": "How reliable is the Sortino ratio with few observations?",
        "answer": "With small sample sizes the estimated mean and downside deviation have higher uncertainty. Document the observation count and consider applying bootstrap confidence intervals or referring to statistical standards for uncertainty estimation."
      },
      {
        "question": "What if downside deviation is zero?",
        "answer": "If downside deviation equals zero the ratio is undefined or infinite. Check for data errors, extremely infrequent negative returns, or a MAR set below all observed returns. Consider alternative risk metrics if downside deviation is not meaningful."
      }
    ],
    "citations": [
      {
        "label": "NIST - Measurement Science",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO - International Organization for Standardization",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE - Standards Association",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA - Data integrity and records guidance",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Sortino ratio",
        "definition": "A risk-adjusted performance measure that uses downside deviation (negative returns relative to a target) in the denominator instead of total standard deviation."
      },
      {
        "term": "Downside deviation",
        "definition": "The square root of the mean squared negative deviations of returns below the target (MAR). It captures only downside volatility."
      },
      {
        "term": "MAR (Minimum Acceptable Return)",
        "definition": "A user-specified threshold return; returns below this level are treated as downside in Sortino calculations."
      },
      {
        "term": "Annualized return",
        "definition": "A return expressed on a per-year basis. When inputs come from periodic returns (monthly/weekly), they must be annualized consistently before use."
      }
    ]
  }
}
