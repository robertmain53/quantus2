{
  "version": "1.0.0",
  "metadata": {
    "title": "Home Loan Interest Calculator with Extra Payments (Approximate)",
    "description": "Estimate scheduled payments, the effect of extra payments (monthly, annual, one-time) on payoff timing and total interest. Includes accuracy notes and method references to accepted standards."
  },
  "logic": {
    "type": "formula",
    "outputs": [
      {
        "id": "scheduled_payment",
        "label": "Scheduled periodic payment (no extras)",
        "expression": "principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year))",
        "unit": "currency",
        "format": "currency"
      },
      {
        "id": "approx_payment_with_recurring_extras",
        "label": "Approximate periodic payment including recurring extras",
        "expression": "principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)) + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / (term_years * payments_per_year))",
        "unit": "currency",
        "format": "currency"
      },
      {
        "id": "estimated_payoff_months",
        "label": "Estimated payoff time (months, approx.)",
        "expression": "-ln(1 - principal * ((annual_rate/100) / payments_per_year) / (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)) + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / (term_years * payments_per_year)))) / ln(1 + (annual_rate/100) / payments_per_year)",
        "unit": "months",
        "format": "integer"
      },
      {
        "id": "total_interest_without_extras",
        "label": "Total interest paid without extras (approx.)",
        "expression": "(principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year))) * (term_years * payments_per_year) - principal",
        "unit": "currency",
        "format": "currency"
      },
      {
        "id": "estimated_total_interest_with_extras",
        "label": "Estimated total interest paid with extras (approx.)",
        "expression": "( (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)) + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / (term_years * payments_per_year))) * ( -ln(1 - principal * ((annual_rate/100) / payments_per_year) / (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)) + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / (term_years * payments_per_year)))) / ln(1 + (annual_rate/100) / payments_per_year) ) - principal - (extra_monthly * ( -ln(1 - principal * ((annual_rate/100) / payments_per_year) / (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)) + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / (term_years * payments_per_year)))) / ln(1 + (annual_rate/100) / payments_per_year) )) - (extra_annual * (( -ln(1 - principal * ((annual_rate/100) / payments_per_year) / (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)) + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / (term_years * payments_per_year)))) / ln(1 + (annual_rate/100) / payments_per_year)) / payments_per_year)) - one_time_amount",
        "unit": "currency",
        "format": "currency"
      },
      {
        "id": "estimated_interest_saved",
        "label": "Estimated interest saved (approx.)",
        "expression": "( (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year))) * (term_years * payments_per_year) - principal ) - ( ( (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)) + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / (term_years * payments_per_year))) * ( -ln(1 - principal * ((annual_rate/100) / payments_per_year) / (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)) + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / (term_years * payments_per_year)))) / ln(1 + (annual_rate/100) / payments_per_year) ) - principal - (extra_monthly * ( -ln(1 - principal * ((annual_rate/100) / payments_per_year) / (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)) + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / (term_years * payments_per_year)))) / ln(1 + (annual_rate/100) / payments_per_year) )) - (extra_annual * (( -ln(1 - principal * ((annual_rate/100) / payments_per_year) / (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)))) / ln(1 + (annual_rate/100) / payments_per_year)) / payments_per_year)) - one_time_amount )",
        "unit": "currency",
        "format": "currency"
      },
      {
        "id": "months_saved",
        "label": "Estimated months saved (approx.)",
        "expression": "term_years * payments_per_year - ( -ln(1 - principal * ((annual_rate/100) / payments_per_year) / (principal * ((annual_rate/100) / payments_per_year) / (1 - (1 + (annual_rate/100) / payments_per_year)^(-term_years * payments_per_year)) + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / (term_years * payments_per_year)))) / ln(1 + (annual_rate/100) / payments_per_year) )",
        "unit": "months",
        "format": "integer"
      }
    ]
  },
  "form": {
    "fields": [
      {
        "id": "principal",
        "label": "Loan principal",
        "type": "number",
        "default": 300000,
        "min": 0,
        "step": 100
      },
      {
        "id": "annual_rate",
        "label": "Annual interest rate (%)",
        "type": "number",
        "default": 3.5,
        "min": 0.01,
        "max": 25,
        "step": 0.01
      },
      {
        "id": "term_years",
        "label": "Loan term (years)",
        "type": "integer",
        "default": 30,
        "min": 1,
        "max": 50,
        "step": 1
      },
      {
        "id": "payments_per_year",
        "label": "Payments per year",
        "type": "integer",
        "default": 12,
        "min": 1,
        "max": 12,
        "step": 1
      },
      {
        "id": "extra_monthly",
        "label": "Extra monthly payment (recurring)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "extra_annual",
        "label": "Extra annual lump sum (once per year)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "one_time_amount",
        "label": "One-time extra payment amount",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "one_time_month",
        "label": "One-time payment occurs at month (0 = loan start)",
        "type": "integer",
        "default": 0,
        "min": 0,
        "step": 1
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "scheduled_payment",
          "label": "Scheduled periodic payment (no extras)",
          "format": "currency",
          "unit": "currency"
        },
        {
          "id": "approx_payment_with_recurring_extras",
          "label": "Approx. payment including recurring extras",
          "format": "currency",
          "unit": "currency"
        },
        {
          "id": "estimated_payoff_months",
          "label": "Estimated payoff time (months)",
          "format": "integer",
          "unit": "months"
        },
        {
          "id": "months_saved",
          "label": "Estimated months saved",
          "format": "integer",
          "unit": "months"
        },
        {
          "id": "total_interest_without_extras",
          "label": "Total interest without extras",
          "format": "currency",
          "unit": "currency"
        },
        {
          "id": "estimated_total_interest_with_extras",
          "label": "Estimated total interest with extras",
          "format": "currency",
          "unit": "currency"
        },
        {
          "id": "estimated_interest_saved",
          "label": "Estimated interest saved",
          "format": "currency",
          "unit": "currency"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "This calculator estimates how recurring extra payments (monthly or annual) and single one-time payments can reduce total interest and shorten the life of a home loan. It produces approximate payoff timing and interest figures based on standard amortization mathematics.",
      "Results are intended for planning and comparison. They are approximations; for an exact amortization schedule and legally binding APR disclosures, consult your lender or a licensed financial professional."
    ],
    "methodology": [
      "Scheduled periodic payment is computed using the standard fixed-rate amortization formula with periodic rate r = annual_rate/100 / payments_per_year and N = term_years * payments_per_year.",
      "Recurring extras are treated as additions to the periodic payment (extra monthly and an annual sum divided across the payment periods). One-time extra payments are distributed across the original number of payments for approximation. The payoff time with extras is estimated by solving the closed-form equation for number of periods: N' = -ln(1 - P*r / M_total) / ln(1 + r), where M_total includes recurring extras.",
      "This tool follows engineering and information-quality best practices for calculators and provides accuracy caveats. It is not a replacement for a full-period amortization schedule that tracks balance changes month-by-month when extras start later or vary over time."
    ],
    "how_is_calculated": [
      "Periodic rate: r = (annual_rate / 100) / payments_per_year",
      "Scheduled payment: M = P * r / (1 - (1 + r)^(-N)), where N = term_years * payments_per_year",
      "Payment with recurring extras (approx): M_total = M + extra_monthly + (extra_annual / payments_per_year) + (one_time_amount / N)",
      "Estimated payoff periods: N' = -ln(1 - P * r / M_total) / ln(1 + r)",
      "Total interest (approx): total_paid - principal, where total_paid is approximated as M_total * N'"
    ],
    "faqs": [
      {
        "question": "Are the results exact?",
        "answer": "No. Results are approximations. Recurring extras and one-time payments are folded into the periodic payment for a closed-form estimate. Exact schedules require stepwise amortization (period-by-period balance updates) which this quick calculator does not perform."
      },
      {
        "question": "Does this calculator use APR or nominal rate?",
        "answer": "This tool uses the nominal annual interest rate you enter. APR may include fees and other costs; use lender-provided APR disclosures for legally required comparisons."
      },
      {
        "question": "How should I enter an annual extra paid once per year?",
        "answer": "Enter the total extra amount you plan to pay each year in the 'Extra annual lump sum' field. The calculator approximates that amount spread evenly across payment periods for the estimate."
      },
      {
        "question": "What if extra payments start later in the loan?",
        "answer": "This calculator approximates extras as if applied throughout. If extras begin later, results will overstate interest saved and months saved. For precision, generate a full amortization schedule that applies extras starting at the specific month."
      }
    ],
    "citations": [
      {
        "label": "NIST - National Institute of Standards and Technology",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO - International Organization for Standardization",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE - Institute of Electrical and Electronics Engineers",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA - Occupational Safety and Health Administration",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Principal",
        "definition": "The original loan amount borrowed, not including interest."
      },
      {
        "term": "Periodic rate",
        "definition": "The interest rate per payment period: annual rate divided by number of payments per year."
      },
      {
        "term": "Scheduled payment",
        "definition": "The fixed payment computed by the amortization formula that covers interest and principal without extras."
      },
      {
        "term": "Extra payment (recurring)",
        "definition": "An additional amount added to each periodic payment to reduce principal faster."
      },
      {
        "term": "One-time extra payment",
        "definition": "A single additional payment applied to reduce principal at a specified point in time."
      },
      {
        "term": "Approximation",
        "definition": "A simplified calculation that estimates results; exact schedules require period-by-period iteration."
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.osha.gov",
        "label": "OSHA",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialProduct"
    ]
  }
}