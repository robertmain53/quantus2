{
  "version": "1.0.0",
  "metadata": {
    "title": "Sharpe Ratio Calculator (annualized, multi-method)",
    "description": "Compute an annualized Sharpe ratio from periodic statistics or annualized inputs. Supports periodic-to-annual conversion, excess-return inputs, and direct annual inputs. Includes guidance on assumptions, calibration, and regulatory-quality accuracy caveats."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "periodic_stats",
    "methods": {
      "periodic_stats": {
        "label": "Periodic stats (mean & std dev)",
        "description": "Use when you have periodic mean return and periodic standard deviation (e.g., daily mean and daily std). The tool annualizes both using the provided periods-per-year.",
        "variables": {
          "mean_annual": {
            "expression": "mean_return * periods_per_year",
            "dependencies": [
              "mean_return",
              "periods_per_year"
            ],
            "label": "Annualized mean return",
            "unit": null,
            "format": "percent",
            "display": true
          },
          "std_annual": {
            "expression": "std_dev * sqrt(periods_per_year)",
            "dependencies": [
              "std_dev",
              "periods_per_year"
            ],
            "label": "Annualized standard deviation",
            "unit": null,
            "format": "percent",
            "display": true
          },
          "excess_annual": {
            "expression": "mean_annual - risk_free_rate",
            "dependencies": [
              "mean_annual",
              "risk_free_rate"
            ],
            "label": "Annualized excess return (mean − risk-free)",
            "unit": null,
            "format": "percent",
            "display": true
          },
          "sharpe_ratio_var": {
            "expression": "excess_annual / std_annual",
            "dependencies": [
              "excess_annual",
              "std_annual"
            ],
            "label": "Sharpe ratio (annualized)",
            "unit": null,
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "sharpe_ratio",
            "label": "Sharpe ratio (annualized)",
            "variable": "sharpe_ratio_var",
            "unit": null,
            "format": "decimal"
          },
          {
            "id": "annual_mean",
            "label": "Annualized mean return",
            "variable": "mean_annual",
            "unit": null,
            "format": "percent"
          },
          {
            "id": "annual_std",
            "label": "Annualized standard deviation",
            "variable": "std_annual",
            "unit": null,
            "format": "percent"
          }
        ]
      },
      "annual_inputs": {
        "label": "Direct annual inputs",
        "description": "Use when you already have annualized mean and annualized standard deviation. The calculator applies the risk-free rate directly.",
        "variables": {
          "sharpe_ratio_var": {
            "expression": "(mean_annual_input - risk_free_rate) / std_annual_input",
            "dependencies": [
              "mean_annual_input",
              "risk_free_rate",
              "std_annual_input"
            ],
            "label": "Sharpe ratio (annualized)",
            "unit": null,
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "sharpe_ratio",
            "label": "Sharpe ratio (annualized)",
            "variable": "sharpe_ratio_var",
            "unit": null,
            "format": "decimal"
          }
        ]
      },
      "excess_stats": {
        "label": "Periodic excess-return input",
        "description": "Use when you have periodic mean excess return (mean minus risk-free) and periodic standard deviation. Annualizes excess return and standard deviation to compute Sharpe.",
        "variables": {
          "mean_excess_annual": {
            "expression": "mean_excess_return * periods_per_year",
            "dependencies": [
              "mean_excess_return",
              "periods_per_year"
            ],
            "label": "Annualized mean excess return",
            "unit": null,
            "format": "percent",
            "display": true
          },
          "std_annual": {
            "expression": "std_dev * sqrt(periods_per_year)",
            "dependencies": [
              "std_dev",
              "periods_per_year"
            ],
            "label": "Annualized standard deviation",
            "unit": null,
            "format": "percent",
            "display": true
          },
          "sharpe_ratio_var": {
            "expression": "mean_excess_annual / std_annual",
            "dependencies": [
              "mean_excess_annual",
              "std_annual"
            ],
            "label": "Sharpe ratio (annualized)",
            "unit": null,
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "sharpe_ratio",
            "label": "Sharpe ratio (annualized)",
            "variable": "sharpe_ratio_var",
            "unit": null,
            "format": "decimal"
          },
          {
            "id": "excess_annual",
            "label": "Annualized mean excess return",
            "variable": "mean_excess_annual",
            "unit": null,
            "format": "percent"
          },
          {
            "id": "annual_std",
            "label": "Annualized standard deviation",
            "variable": "std_annual",
            "unit": null,
            "format": "percent"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "mean_return",
        "label": "Periodic mean return (decimal, e.g. 0.001 for 0.1%)",
        "type": "number",
        "default": 0.001,
        "min": -10,
        "max": 10,
        "step": 1e-06
      },
      {
        "id": "std_dev",
        "label": "Periodic standard deviation (decimal, e.g. 0.02 for 2%)",
        "type": "number",
        "default": 0.02,
        "min": 0,
        "max": 10,
        "step": 1e-06
      },
      {
        "id": "risk_free_rate",
        "label": "Risk-free rate (annual decimal, e.g. 0.02 for 2%)",
        "type": "number",
        "default": 0.02,
        "min": -1,
        "max": 10,
        "step": 0.0001
      },
      {
        "id": "periods_per_year",
        "label": "Periods per year (e.g. 252 for daily, 52 for weekly, 12 for monthly)",
        "type": "integer",
        "default": 252,
        "min": 1,
        "max": 365,
        "step": 1
      },
      {
        "id": "mean_annual_input",
        "label": "Annualized mean return (decimal, e.g. 0.10 for 10%)",
        "type": "number",
        "default": 0.1,
        "min": -10,
        "max": 10,
        "step": 0.0001
      },
      {
        "id": "std_annual_input",
        "label": "Annualized standard deviation (decimal)",
        "type": "number",
        "default": 0.15,
        "min": 0,
        "max": 10,
        "step": 0.0001
      },
      {
        "id": "mean_excess_return",
        "label": "Periodic mean excess return (mean − risk-free, decimal)",
        "type": "number",
        "default": 0.0005,
        "min": -10,
        "max": 10,
        "step": 1e-06
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This Sharpe ratio calculator computes an annualized Sharpe ratio from either periodic statistics or direct annual inputs. You can provide periodic mean and standard deviation and let the calculator annualize them, or supply already-annualized values.",
      "The tool focuses on transparency and reproducibility: it exposes the intermediate annualized mean and annualized standard deviation, and documents assumptions and known limitations so you can evaluate model fit and data quality."
    ],
    "methodology": [
      "The Sharpe ratio is defined as the expected excess return over the risk-free rate divided by the return standard deviation. This implementation supports three practical workflows: (1) periodic statistics converted to annualized measures, (2) direct annual inputs, and (3) periodic excess-return inputs.",
      "Annualization follows standard financial practice: mean is multiplied by the number of periods per year; standard deviation is scaled by the square root of the number of periods per year. Users must ensure the risk-free rate and return inputs share the same periodic basis before annualizing."
    ],
    "how_is_calculated": [
      "When using periodic inputs: annualized mean = periodic mean × periods_per_year.",
      "When using periodic inputs: annualized standard deviation = periodic std_dev × sqrt(periods_per_year).",
      "Sharpe ratio (annualized) = (annualized mean − annual risk-free rate) ÷ annualized standard deviation."
    ],
    "examples": [
      "Example 1: Daily mean return = 0.001 (0.1%), daily std = 0.02 (2%), periods_per_year = 252, risk-free = 0.02 (2%). Annualized mean = 0.252, annualized std = 0.02 × sqrt(252) ≈ 0.317, Sharpe ≈ (0.252 − 0.02) / 0.317 ≈ 0.73.",
      "Example 2: If you already have annualized inputs: mean_annual = 0.10, std_annual = 0.15, risk-free = 0.02, Sharpe = (0.10 − 0.02)/0.15 = 0.533."
    ],
    "faqs": [
      {
        "question": "Do I need to annualize my inputs?",
        "answer": "You can either provide periodic statistics plus the number of periods per year or provide annualized statistics directly. If you supply periodic numbers, set periods_per_year to match your data frequency (e.g., 252 for daily). Make sure the risk-free rate is on the same annual basis as the annualized returns."
      },
      {
        "question": "What are common pitfalls and assumptions?",
        "answer": "Sharpe ratio assumes stationarity and symmetric dispersion of returns; it is sensitive to sample size and outliers. For short return series or heavy-tailed return distributions, the ratio can be misleading. Use additional diagnostics such as skewness, kurtosis, and confidence intervals when possible."
      },
      {
        "question": "How accurate is the result?",
        "answer": "Numerical accuracy depends on the quality of inputs, the chosen periods_per_year, and whether returns are independent and identically distributed. Small samples increase estimation error. Treat the Sharpe ratio as a point estimate and consider its sampling variability before making decisions."
      },
      {
        "question": "Are there regulatory or industry standards I should consider?",
        "answer": "This calculator is intended for analysis and decision support; it is not a substitute for formal model validation. Follow applicable organizational and regulatory guidelines for model risk management and operational controls such as those from NIST, ISO, and industry best-practice frameworks. Maintain reproducible records of inputs and provenance."
      }
    ],
    "glossary": [
      {
        "term": "Sharpe ratio",
        "definition": "A risk-adjusted performance measure: excess return over the risk-free rate divided by return standard deviation."
      },
      {
        "term": "Periodic mean return",
        "definition": "Average return measured over the data frequency (for example daily mean)."
      },
      {
        "term": "Annualization",
        "definition": "Conversion of periodic statistics to an annual basis: mean × periods_per_year, std × sqrt(periods_per_year)."
      },
      {
        "term": "Excess return",
        "definition": "Return minus the risk-free rate."
      }
    ],
    "citations": [
      {
        "label": "National Institute of Standards and Technology (NIST) - Risk Management",
        "url": "https://www.nist.gov/topics/risk-management"
      },
      {
        "label": "International Organization for Standardization (ISO) - Risk Management Standards",
        "url": "https://www.iso.org/iso-31000-risk-management.html"
      },
      {
        "label": "Institute of Electrical and Electronics Engineers (IEEE)",
        "url": "https://www.ieee.org"
      },
      {
        "label": "Occupational Safety and Health Administration (OSHA)",
        "url": "https://www.osha.gov"
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov/topics/risk-management",
        "label": "NIST - Risk Management",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/iso-31000-risk-management.html",
        "label": "ISO 31000 - Risk Management",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "Calculation"
    ]
  }
}