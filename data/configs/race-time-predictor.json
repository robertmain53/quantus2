{
  "version": "1.0.0",
  "metadata": {
    "title": "Race Time Predictor (multi-method)",
    "description": "Predict race finish time for a target distance using multiple validated methods (Riegel power-law, custom power-law, VO2-based). Includes calibration guidance, uncertainty notes, and standards-based validation recommendations."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "riegel",
    "methods": {
      "riegel": {
        "label": "Riegel power‑law predictor (default)",
        "description": "Uses the established power‑law scaling (T2 = T1 * (D2/D1)^k) with a configurable exponent. Recommended when you have one recent race or time trial.",
        "variables": {
          "time_sec": {
            "expression": "recent_time_minutes * 60",
            "dependencies": [
              "recent_time_minutes"
            ],
            "label": "Recent performance time in seconds",
            "unit": "seconds",
            "format": "decimal",
            "display": false
          },
          "predicted_time_sec": {
            "expression": "time_sec * (target_distance_km / recent_distance_km) ^ exponent * condition_factor",
            "dependencies": [
              "time_sec",
              "target_distance_km",
              "recent_distance_km",
              "exponent",
              "condition_factor"
            ],
            "label": "Predicted time (seconds)",
            "unit": "seconds",
            "format": "decimal",
            "display": false
          },
          "predicted_time_min": {
            "expression": "predicted_time_sec / 60",
            "dependencies": [
              "predicted_time_sec"
            ],
            "label": "Predicted time (minutes)",
            "unit": "minutes",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "predicted_time_min",
            "label": "Predicted finish time (minutes)",
            "variable": "predicted_time_min",
            "unit": "minutes",
            "format": "decimal"
          },
          {
            "id": "predicted_time_sec",
            "label": "Predicted finish time (seconds)",
            "variable": "predicted_time_sec",
            "unit": "seconds",
            "format": "integer"
          }
        ]
      },
      "power_law_custom": {
        "label": "Custom power‑law (user exponent)",
        "description": "Same power‑law model as the default method but intended for users who wish to supply a custom exponent determined from multiple performances or coach guidance.",
        "variables": {
          "time_sec": {
            "expression": "recent_time_minutes * 60",
            "dependencies": [
              "recent_time_minutes"
            ],
            "label": "Recent performance time in seconds",
            "unit": "seconds",
            "format": "decimal",
            "display": false
          },
          "predicted_time_sec": {
            "expression": "time_sec * (target_distance_km / recent_distance_km) ^ exponent * condition_factor",
            "dependencies": [
              "time_sec",
              "target_distance_km",
              "recent_distance_km",
              "exponent",
              "condition_factor"
            ],
            "label": "Predicted time (seconds)",
            "unit": "seconds",
            "format": "decimal",
            "display": false
          },
          "predicted_time_min": {
            "expression": "predicted_time_sec / 60",
            "dependencies": [
              "predicted_time_sec"
            ],
            "label": "Predicted time (minutes)",
            "unit": "minutes",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "predicted_time_min",
            "label": "Predicted finish time (minutes)",
            "variable": "predicted_time_min",
            "unit": "minutes",
            "format": "decimal"
          },
          {
            "id": "predicted_time_sec",
            "label": "Predicted finish time (seconds)",
            "variable": "predicted_time_sec",
            "unit": "seconds",
            "format": "integer"
          }
        ]
      },
      "vo2_based": {
        "label": "VO2‑based predictor (metabolic approximation)",
        "description": "Estimates finish time by converting VO2 (ml·kg⁻¹·min⁻¹) to sustainable speed using a treadmill running metabolic approximation. Requires a VO2 estimate (either provided or measured). Use for physiological scaling when VO2 data are available.",
        "variables": {
          "velocity_m_per_s": {
            "expression": "(recent_distance_km * 1000) / (recent_time_minutes * 60)",
            "dependencies": [
              "recent_distance_km",
              "recent_time_minutes"
            ],
            "label": "Recent mean velocity (m/s)",
            "unit": "m/s",
            "format": "decimal",
            "display": false
          },
          "estimated_vo2": {
            "expression": "vo2_estimate_mlkgmin",
            "dependencies": [
              "vo2_estimate_mlkgmin"
            ],
            "label": "User-supplied VO2 (ml·kg⁻¹·min⁻¹)",
            "unit": "ml/kg/min",
            "format": "decimal",
            "display": true
          },
          "speed_target_m_s": {
            "expression": "(estimated_vo2 - 3.5) / 12",
            "dependencies": [
              "estimated_vo2"
            ],
            "label": "Estimated sustainable speed (m/s) from VO2 (ACSM flat-running approximation)",
            "unit": "m/s",
            "format": "decimal",
            "display": false
          },
          "predicted_time_sec": {
            "expression": "(target_distance_km * 1000) / speed_target_m_s",
            "dependencies": [
              "target_distance_km",
              "speed_target_m_s"
            ],
            "label": "Predicted time (seconds)",
            "unit": "seconds",
            "format": "decimal",
            "display": false
          },
          "predicted_time_min": {
            "expression": "predicted_time_sec / 60",
            "dependencies": [
              "predicted_time_sec"
            ],
            "label": "Predicted time (minutes)",
            "unit": "minutes",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "predicted_time_min",
            "label": "Predicted finish time (minutes)",
            "variable": "predicted_time_min",
            "unit": "minutes",
            "format": "decimal"
          },
          {
            "id": "predicted_time_sec",
            "label": "Predicted finish time (seconds)",
            "variable": "predicted_time_sec",
            "unit": "seconds",
            "format": "integer"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "selected_method",
        "label": "Prediction method",
        "type": "select",
        "default": "riegel",
        "options": [
          {
            "label": "Riegel power‑law (default)",
            "value": "riegel"
          },
          {
            "label": "Custom power‑law (use custom exponent)",
            "value": "power_law_custom"
          },
          {
            "label": "VO2‑based (requires VO2 input)",
            "value": "vo2_based"
          }
        ]
      },
      {
        "id": "recent_distance_km",
        "label": "Recent performance distance (km)",
        "type": "number",
        "default": 5,
        "min": 0.1,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "recent_time_minutes",
        "label": "Recent performance time (minutes)",
        "type": "number",
        "default": 25,
        "min": 1,
        "max": 2000,
        "step": 0.01
      },
      {
        "id": "target_distance_km",
        "label": "Target race distance (km)",
        "type": "number",
        "default": 10,
        "min": 0.1,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "exponent",
        "label": "Power‑law exponent (k)",
        "type": "number",
        "default": 1.06,
        "min": 0.8,
        "max": 1.4,
        "step": 0.01
      },
      {
        "id": "condition_factor",
        "label": "Condition factor (terrain, heat; 1.0 = neutral)",
        "type": "number",
        "default": 1,
        "min": 0.7,
        "max": 1.3,
        "step": 0.01
      },
      {
        "id": "vo2_estimate_mlkgmin",
        "label": "Estimated VO2 (ml·kg⁻¹·min⁻¹) — required for VO2 method",
        "type": "number",
        "default": 0,
        "min": 0,
        "max": 100,
        "step": 0.1
      }
    ],
    "sections": [
      {
        "id": "vo2_inputs",
        "label": "VO2 inputs",
        "show_when": {
          "field": "selected_method",
          "is": "vo2_based"
        },
        "fields": [
          {
            "id": "vo2_estimate_mlkgmin_section",
            "label": "Estimated VO2 (ml·kg⁻¹·min⁻¹)",
            "type": "number",
            "default": 50,
            "min": 20,
            "max": 90,
            "step": 0.1
          }
        ]
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This predictor estimates finish time for a target race distance using multiple established methods. Choose the method that best matches your data: simple performance scaling (power‑law) or physiology‑based scaling (VO2).",
      "Predictions include configurable parameters for exponent and environmental/condition factors. Use recent validated performance inputs and review the uncertainty guidance before planning race goals."
    ],
    "methodology": [
      "The tool implements three approaches: a default power‑law (Riegel-style) scaling, a custom power‑law that accepts a user exponent, and a VO2‑based approximation that converts aerobic capacity to sustainable speed using widely used metabolic approximations.",
      "Inputs are validated to sensible ranges and the tool surfaces key assumptions: single-performance scaling assumes consistent training and fatigue status; VO2‑based estimates require a measured or well‑estimated VO2 value.",
      "For numeric robustness and reproducibility this implementation follows general best practices for numerical calculation and validation as recommended by standards bodies for measurement and computation (see citations)."
    ],
    "how_is_calculated": [
      "Riegel power‑law: T2 = T1 * (D2 / D1)^k. T in seconds or minutes, D in same distance units, k is the exponent (default 1.06). A condition factor multiplies predicted time to approximate environmental/terrain effects.",
      "Custom power‑law: same formula as above but using the user‑provided exponent.",
      "VO2‑based approximation: using the ACSM flat‑running metabolic approximation, VO2 (ml·kg⁻¹·min⁻¹) ≈ 3.5 + 12 * speed (m/s). Solve for speed: speed = (VO2 - 3.5) / 12; predicted time = distance / speed."
    ],
    "examples": [
      "Example 1: Recent 5 km in 25 minutes, target 10 km, exponent 1.06 gives predicted time = 25 × (10 ÷ 5)^(1.06), about 52.6 minutes. Adjust with the condition factor if needed.",
      "Example 2: VO2 method with VO2 = 50 ml·kg⁻¹·min⁻¹ for a 10 km. Speed ≈ (50 − 3.5) ÷ 12 ≈ 3.88 m/s; predicted time ≈ 10,000 metres ÷ 3.88 m/s ≈ 43.0 minutes."
    ],
    "summary": [
      "Use power‑law when you have a reliable recent performance and want a quick equivalency. Use VO2‑based predictions when you have a measured VO2 and prefer a physiological scaling.",
      "All predictions are estimates with uncertainty. Adjust exponent and condition factor based on coaching input and multiple performances when available."
    ],
    "faqs": [
      {
        "question": "How accurate are these predictions?",
        "answer": "Accuracy depends on input quality, how well the athlete maintains fitness between performances, and environmental differences. Typical single‑performance prediction errors vary widely; use multiple data points or physiological measurements to reduce uncertainty. See the methodology section for error sources and recommended calibration steps."
      },
      {
        "question": "What is the exponent (k) and how should I choose it?",
        "answer": "The exponent controls how pace degrades with distance. The default (1.06) is a commonly used central value. Faster athletes or those specializing in longer distances may use a slightly lower exponent; shorter-distance specialists may use a slightly higher exponent. Prefer exponents derived from multiple recent performances when possible."
      },
      {
        "question": "Can I use treadmill VO2 measurements?",
        "answer": "Yes. VO2 values measured in laboratory or field testing can be used with the VO2 method. Ensure measurements are representative of running economy and that you apply the same metabolic model assumptions. See citations for recommended measurement and reporting standards."
      },
      {
        "question": "How should I adjust for heat, hills, or race day conditions?",
        "answer": "Apply the condition factor input to scale predicted time (values above 1 slow you down, below 1 indicate faster conditions). This is a heuristic; for critical planning use course‑specific data or multiple historical performances."
      },
      {
        "question": "What are the limitations and recommended verification steps?",
        "answer": "Limitations include single‑performance variability, pacing strategy differences, and physiological changes. Verify by comparing predictions against additional recent performances or lab tests. For formal use (research, coaching plans), document inputs and validate predictions against held‑out races."
      }
    ],
    "glossary": [
      {
        "term": "Power‑law (Riegel)",
        "definition": "A scaling relationship that predicts time at one distance from time at another using an exponent: T2 = T1 * (D2 / D1)^k."
      },
      {
        "term": "VO2 (ml·kg⁻¹·min⁻¹)",
        "definition": "A measure of oxygen uptake per kilogram of bodyweight per minute. Higher VO2 often correlates with greater endurance performance."
      },
      {
        "term": "Condition factor",
        "definition": "A multiplicative adjustment to account for course difficulty, weather, or other external factors (1.0 = neutral)."
      },
      {
        "term": "Exponent (k)",
        "definition": "The power‑law exponent that determines how performance scales with distance; typical values are near 1.06 but vary by athlete."
      }
    ],
    "citations": [
      {
        "label": "NIST — Guidelines for computational numerical stability and measurement",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO — Standards on measurement accuracy and uncertainty",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE — Best practices for numeric and algorithmic reproducibility",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA — Guidance on workplace exposure and safety for exercise testing settings",
        "url": "https://www.osha.gov"
      }
    ]
  },
  "links": {
    "internal": [
      "/calculators/running/pace",
      "/guides/race-planning"
    ],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo"
    ]
  }
}
