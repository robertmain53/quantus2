{
  "version": "1.0.0",
  "metadata": {
    "title": "Price to Earnings (P/E) Ratio Calculator — Multi‑Method",
    "description": "Calculate Price-to-Earnings (P/E) using multiple accepted methods: per-share EPS (trailing, diluted, forward) or derived EPS from net income and shares outstanding. Includes guidance on limits, negative earnings, and accuracy considerations aligned with relevant standards."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "using_trailing_eps",
    "methods": {
      "using_trailing_eps": {
        "label": "P/E using Trailing EPS (per share)",
        "description": "Standard P/E calculated by dividing current market price per share by trailing earnings per share (EPS, typically TTM). Use when reliable EPS per share is available.",
        "variables": {
          "price": {
            "expression": "market_price_per_share",
            "dependencies": [
              "market_price_per_share"
            ],
            "label": "Market price per share",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "eps_trailing": {
            "expression": "eps_trailing",
            "dependencies": [
              "eps_trailing"
            ],
            "label": "Trailing EPS (per share)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "pe_value": {
            "expression": "price / eps_trailing",
            "dependencies": [
              "price",
              "eps_trailing"
            ],
            "label": "P/E (Trailing)",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "pe_value",
            "label": "P/E (Trailing)",
            "variable": "pe_value",
            "format": "decimal"
          }
        ]
      },
      "using_diluted_eps": {
        "label": "P/E using Diluted EPS",
        "description": "P/E based on diluted EPS to reflect potential share dilution from options, convertibles, and other dilutive instruments.",
        "variables": {
          "price": {
            "expression": "market_price_per_share",
            "dependencies": [
              "market_price_per_share"
            ],
            "label": "Market price per share",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "eps_diluted": {
            "expression": "eps_diluted",
            "dependencies": [
              "eps_diluted"
            ],
            "label": "Diluted EPS (per share)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "pe_value_diluted": {
            "expression": "price / eps_diluted",
            "dependencies": [
              "price",
              "eps_diluted"
            ],
            "label": "P/E (Diluted)",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "pe_value_diluted",
            "label": "P/E (Diluted)",
            "variable": "pe_value_diluted",
            "format": "decimal"
          }
        ]
      },
      "using_forward_eps": {
        "label": "Forward P/E (using projected EPS)",
        "description": "Forward P/E uses analysts' or company guidance for future EPS. Useful for growth expectations but sensitive to forecast accuracy.",
        "variables": {
          "price": {
            "expression": "market_price_per_share",
            "dependencies": [
              "market_price_per_share"
            ],
            "label": "Market price per share",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "eps_forward": {
            "expression": "eps_forward",
            "dependencies": [
              "eps_forward"
            ],
            "label": "Forward EPS (per share, forecast)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "pe_forward": {
            "expression": "price / eps_forward",
            "dependencies": [
              "price",
              "eps_forward"
            ],
            "label": "Forward P/E",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "pe_forward",
            "label": "Forward P/E",
            "variable": "pe_forward",
            "format": "decimal"
          }
        ]
      },
      "from_net_income": {
        "label": "P/E from Net Income and Shares Outstanding",
        "description": "Derive EPS by dividing net income (TTM) by diluted shares outstanding, then compute P/E. Use if EPS per share is not provided or to reconcile differences.",
        "variables": {
          "price": {
            "expression": "market_price_per_share",
            "dependencies": [
              "market_price_per_share"
            ],
            "label": "Market price per share",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "eps_from_income": {
            "expression": "net_income_ttm / shares_outstanding",
            "dependencies": [
              "net_income_ttm",
              "shares_outstanding"
            ],
            "label": "Derived EPS (net income / shares outstanding)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "pe_from_income": {
            "expression": "price / eps_from_income",
            "dependencies": [
              "price",
              "eps_from_income"
            ],
            "label": "P/E (derived from net income)",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "pe_from_income",
            "label": "P/E (from net income)",
            "variable": "pe_from_income",
            "format": "decimal"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "market_price_per_share",
        "label": "Market price per share",
        "type": "number",
        "default": 100,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "eps_trailing",
        "label": "Trailing EPS (per share, TTM)",
        "type": "number",
        "default": 5,
        "step": 0.01
      },
      {
        "id": "eps_diluted",
        "label": "Diluted EPS (per share, TTM)",
        "type": "number",
        "default": 4.8,
        "step": 0.01
      },
      {
        "id": "eps_forward",
        "label": "Forward EPS (per share, forecast)",
        "type": "number",
        "default": 6,
        "step": 0.01
      },
      {
        "id": "net_income_ttm",
        "label": "Net income (TTM, company currency)",
        "type": "number",
        "default": 1000000,
        "step": 1
      },
      {
        "id": "shares_outstanding",
        "label": "Shares outstanding (diluted)",
        "type": "number",
        "default": 100000,
        "min": 1,
        "step": 1
      },
      {
        "id": "display_decimals",
        "label": "Displayed decimal places for P/E",
        "type": "integer",
        "default": 2,
        "min": 0,
        "max": 6,
        "step": 1
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator computes the Price-to-Earnings (P/E) ratio using multiple commonly used methods: dividing market price per share by trailing EPS, diluted EPS, forward EPS, or by deriving EPS from net income and shares outstanding. Choose the method that matches the data you have and your analysis purpose.",
      "P/E is a dimensionless multiple that indicates how much investors are willing to pay per unit of reported earnings. It is meaningful only when earnings are positive and measured on a consistent basis (same currency, same share-count basis)."
    ],
    "methodology": [
      "We provide four distinct computation workflows because financial statements and analyst data can present earnings differently. Selecting the wrong EPS base (basic vs diluted, trailing vs forward, per-share vs derived) leads to inconsistent comparisons.",
      "Calculations assume inputs are in the same currency and that shares outstanding reflect the same dilution basis as the EPS input. When EPS is unavailable, deriving EPS from net income and diluted shares outstanding offers a reproducible alternative."
    ],
    "how_is_calculated": [
      "P/E (Trailing EPS) = Market price per share / Trailing EPS (TTM)",
      "P/E (Diluted EPS) = Market price per share / Diluted EPS (TTM)",
      "P/E (Forward) = Market price per share / Forward EPS (analyst or company forecast)",
      "P/E (from net income) = Market price per share / (Net income (TTM) / Shares outstanding)"
    ],
    "examples": [
      "Example 1: Market price = 50, Trailing EPS = 2.5 → P/E (Trailing) = 50 / 2.5 = 20.00",
      "Example 2: Market price = 50, Net income = 1,000,000, Shares outstanding = 100,000 → Derived EPS = 10.00, P/E = 50 / 10 = 5.00"
    ],
    "faqs": [
      {
        "question": "What if EPS is negative or zero?",
        "answer": "If EPS is zero the P/E is undefined. If EPS is negative, the P/E is not meaningful as a positive multiple; we report the computed value but flag that negative earnings make standard P/E comparisons unreliable. Consider alternative metrics such as price-to-sales, EV/EBITDA, or analyzing the causes of negative earnings."
      },
      {
        "question": "Which EPS should I use: basic, diluted, trailing, or forward?",
        "answer": "Use the EPS series that matches your analysis goal. Trailing EPS is objective and based on reported results. Diluted EPS accounts for potential share dilution and is conservative. Forward EPS reflects expectations but depends on forecast accuracy. Always ensure consistency across comparisons."
      },
      {
        "question": "Do currency and share-count differences matter?",
        "answer": "Yes. Inputs must be in the same currency and shares outstanding should match the EPS basis (basic vs diluted). Mismatched bases create incorrect P/E results."
      },
      {
        "question": "How accurate are these calculations?",
        "answer": "The arithmetic is straightforward; however, input accuracy, rounding, and floating-point representation affect displayed results. We follow numeric handling guidance consistent with IEEE floating-point best practices and recommend verifying material calculations against audited figures."
      },
      {
        "question": "Are there regulatory or standards considerations?",
        "answer": "This tool provides calculations only and is not a substitute for financial advice. Users should follow accounting standards and disclosures applicable in their jurisdiction and verify non-GAAP adjustments. See listed standards for guidance on software quality and numeric handling."
      }
    ],
    "citations": [
      {
        "label": "National Institute of Standards and Technology (NIST)",
        "url": "https://www.nist.gov"
      },
      {
        "label": "International Organization for Standardization (ISO)",
        "url": "https://www.iso.org"
      },
      {
        "label": "Institute of Electrical and Electronics Engineers (IEEE)",
        "url": "https://www.ieee.org"
      },
      {
        "label": "Occupational Safety and Health Administration (OSHA)",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "P/E ratio",
        "definition": "Price-to-Earnings ratio: market price per share divided by earnings per share; a valuation multiple."
      },
      {
        "term": "EPS",
        "definition": "Earnings per share: company earnings attributable to each share of common stock, reported as basic or diluted."
      },
      {
        "term": "Trailing (TTM)",
        "definition": "Trailing twelve months: sum of the last four reported quarters, used for historical EPS."
      },
      {
        "term": "Forward EPS",
        "definition": "Projected earnings per share for a future period, typically based on analyst consensus or company guidance."
      },
      {
        "term": "Diluted EPS",
        "definition": "EPS calculated assuming conversion of dilutive instruments such as options and convertible securities."
      },
      {
        "term": "Shares outstanding",
        "definition": "Number of shares currently held by all shareholders, used as the divisor when deriving EPS from net income."
      },
      {
        "term": "Negative earnings",
        "definition": "When net income is negative, EPS is negative and traditional P/E multiples are not meaningful for valuation comparisons."
      }
    ]
  }
}