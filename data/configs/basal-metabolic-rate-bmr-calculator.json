{
  "version": "1.0.0",
  "metadata": {
    "title": "Basal Metabolic Rate (BMR) Calculator — Multiple Methods",
    "description": "Multi-method BMR and TDEE estimator with Mifflin–St Jeor, Revised Harris–Benedict, and Katch–McArdle options. Supports kg/cm or lb/ft+in input, optional body fat for lean-mass method, and clear accuracy notes referencing measurement and software standards."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "mifflin_st_jeor",
    "methods": {
      "mifflin_st_jeor": {
        "label": "Mifflin–St Jeor",
        "description": "Modern widely recommended equation for estimating resting energy expenditure using weight, height, age, and sex.",
        "variables": {
          "weight_kg_calc": {
            "expression": "(weight_kg>0?weight_kg:weight_lb*0.45359237)",
            "dependencies": [
              "weight_kg",
              "weight_lb"
            ],
            "label": "Weight (kg, computed)",
            "unit": "kg",
            "format": "decimal",
            "display": false
          },
          "height_cm_calc": {
            "expression": "(height_cm>0?height_cm:(height_ft*12 + height_in)*2.54)",
            "dependencies": [
              "height_cm",
              "height_ft",
              "height_in"
            ],
            "label": "Height (cm, computed)",
            "unit": "cm",
            "format": "decimal",
            "display": false
          },
          "bmr": {
            "expression": "10*weight_kg_calc + 6.25*height_cm_calc - 5*age + (sex=='male'?5:-161)",
            "dependencies": [
              "weight_kg_calc",
              "height_cm_calc",
              "age",
              "sex"
            ],
            "label": "BMR (Mifflin–St Jeor)",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_sedentary": {
            "expression": "bmr*1.2",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Sedentary (little or no exercise)",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_light": {
            "expression": "bmr*1.375",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Lightly active (light exercise 1–3 days/week)",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_moderate": {
            "expression": "bmr*1.55",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Moderately active (moderate exercise 3–5 days/week)",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_active": {
            "expression": "bmr*1.725",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Very active (hard exercise 6–7 days/week)",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_very_active": {
            "expression": "bmr*1.9",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Extra active (very hard exercise / physical job)",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "bmr_mifflin",
            "label": "BMR (Mifflin–St Jeor)",
            "variable": "bmr",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_mifflin_sedentary",
            "label": "Estimated Daily Calories — Sedentary",
            "variable": "tdee_sedentary",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_mifflin_light",
            "label": "Estimated Daily Calories — Lightly active",
            "variable": "tdee_light",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_mifflin_moderate",
            "label": "Estimated Daily Calories — Moderately active",
            "variable": "tdee_moderate",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_mifflin_active",
            "label": "Estimated Daily Calories — Very active",
            "variable": "tdee_active",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_mifflin_very_active",
            "label": "Estimated Daily Calories — Extra active",
            "variable": "tdee_very_active",
            "unit": "kcal/day",
            "format": "integer"
          }
        ]
      },
      "harris_benedict_revised": {
        "label": "Revised Harris–Benedict",
        "description": "Updated revision of the original Harris–Benedict equation; provides an alternative estimate to compare with Mifflin–St Jeor.",
        "variables": {
          "weight_kg_calc": {
            "expression": "(weight_kg>0?weight_kg:weight_lb*0.45359237)",
            "dependencies": [
              "weight_kg",
              "weight_lb"
            ],
            "label": "Weight (kg, computed)",
            "unit": "kg",
            "format": "decimal",
            "display": false
          },
          "height_cm_calc": {
            "expression": "(height_cm>0?height_cm:(height_ft*12 + height_in)*2.54)",
            "dependencies": [
              "height_cm",
              "height_ft",
              "height_in"
            ],
            "label": "Height (cm, computed)",
            "unit": "cm",
            "format": "decimal",
            "display": false
          },
          "bmr": {
            "expression": "(sex=='male'?13.397*weight_kg_calc + 4.799*height_cm_calc - 5.677*age + 88.362:9.247*weight_kg_calc + 3.098*height_cm_calc - 4.330*age + 447.593)",
            "dependencies": [
              "weight_kg_calc",
              "height_cm_calc",
              "age",
              "sex"
            ],
            "label": "BMR (Revised Harris–Benedict)",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_sedentary": {
            "expression": "bmr*1.2",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Sedentary",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_light": {
            "expression": "bmr*1.375",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Lightly active",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_moderate": {
            "expression": "bmr*1.55",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Moderately active",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_active": {
            "expression": "bmr*1.725",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Very active",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_very_active": {
            "expression": "bmr*1.9",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Extra active",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "bmr_harris",
            "label": "BMR (Revised Harris–Benedict)",
            "variable": "bmr",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_harris_sedentary",
            "label": "Estimated Daily Calories — Sedentary",
            "variable": "tdee_sedentary",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_harris_light",
            "label": "Estimated Daily Calories — Lightly active",
            "variable": "tdee_light",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_harris_moderate",
            "label": "Estimated Daily Calories — Moderately active",
            "variable": "tdee_moderate",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_harris_active",
            "label": "Estimated Daily Calories — Very active",
            "variable": "tdee_active",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_harris_very_active",
            "label": "Estimated Daily Calories — Extra active",
            "variable": "tdee_very_active",
            "unit": "kcal/day",
            "format": "integer"
          }
        ]
      },
      "katch_mcardle": {
        "label": "Katch–McArdle (lean mass)",
        "description": "Estimates BMR from lean body mass; requires body fat percentage for best results.",
        "variables": {
          "weight_kg_calc": {
            "expression": "(weight_kg>0?weight_kg:weight_lb*0.45359237)",
            "dependencies": [
              "weight_kg",
              "weight_lb"
            ],
            "label": "Weight (kg, computed)",
            "unit": "kg",
            "format": "decimal",
            "display": false
          },
          "lean_mass_kg": {
            "expression": "weight_kg_calc*(1 - (body_fat_pct/100))",
            "dependencies": [
              "weight_kg_calc",
              "body_fat_pct"
            ],
            "label": "Estimated lean body mass (kg)",
            "unit": "kg",
            "format": "decimal",
            "display": false
          },
          "bmr": {
            "expression": "370 + 21.6*lean_mass_kg",
            "dependencies": [
              "lean_mass_kg"
            ],
            "label": "BMR (Katch–McArdle)",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_sedentary": {
            "expression": "bmr*1.2",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Sedentary",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_light": {
            "expression": "bmr*1.375",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Lightly active",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_moderate": {
            "expression": "bmr*1.55",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Moderately active",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_active": {
            "expression": "bmr*1.725",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Very active",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          },
          "tdee_very_active": {
            "expression": "bmr*1.9",
            "dependencies": [
              "bmr"
            ],
            "label": "Estimated calories — Extra active",
            "unit": "kcal/day",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "bmr_katch",
            "label": "BMR (Katch–McArdle)",
            "variable": "bmr",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_katch_sedentary",
            "label": "Estimated Daily Calories — Sedentary",
            "variable": "tdee_sedentary",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_katch_light",
            "label": "Estimated Daily Calories — Lightly active",
            "variable": "tdee_light",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_katch_moderate",
            "label": "Estimated Daily Calories — Moderately active",
            "variable": "tdee_moderate",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_katch_active",
            "label": "Estimated Daily Calories — Very active",
            "variable": "tdee_active",
            "unit": "kcal/day",
            "format": "integer"
          },
          {
            "id": "tdee_katch_very_active",
            "label": "Estimated Daily Calories — Extra active",
            "variable": "tdee_very_active",
            "unit": "kcal/day",
            "format": "integer"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "weight_kg",
        "label": "Weight (kg)",
        "type": "number",
        "default": 70,
        "min": 20,
        "max": 500,
        "step": 0.1
      },
      {
        "id": "weight_lb",
        "label": "Weight (lb)",
        "type": "number",
        "default": 154,
        "min": 44,
        "max": 1100,
        "step": 0.1
      },
      {
        "id": "height_cm",
        "label": "Height (cm)",
        "type": "number",
        "default": 175,
        "min": 50,
        "max": 272,
        "step": 0.1
      },
      {
        "id": "height_ft",
        "label": "Height — feet",
        "type": "integer",
        "default": 5,
        "min": 0,
        "max": 10,
        "step": 1
      },
      {
        "id": "height_in",
        "label": "Height — inches",
        "type": "number",
        "default": 9,
        "min": 0,
        "max": 11.9,
        "step": 0.1
      },
      {
        "id": "age",
        "label": "Age (years)",
        "type": "integer",
        "default": 30,
        "min": 10,
        "max": 120,
        "step": 1
      },
      {
        "id": "sex",
        "label": "Sex",
        "type": "select",
        "default": "male",
        "options": [
          {
            "label": "Male",
            "value": "male"
          },
          {
            "label": "Female",
            "value": "female"
          }
        ]
      },
      {
        "id": "body_fat_pct",
        "label": "Body fat percentage (optional, %)",
        "type": "number",
        "default": 20,
        "min": 2,
        "max": 75,
        "step": 0.1
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This tool estimates Basal Metabolic Rate (BMR) — the calories your body requires at rest to maintain basic physiological functions. It offers multiple validated equations so you can compare estimates and choose the one most appropriate for your situation.",
      "Use SI inputs (kg and cm) or imperial inputs (lb and ft+in). For the lean-mass method (Katch–McArdle), provide an objective body fat percentage for best accuracy. All outputs are presented as kcal/day and include typical activity multipliers for estimated daily energy expenditure (TDEE)."
    ],
    "methodology": [
      "Three established formulas are implemented: Mifflin–St Jeor, Revised Harris–Benedict, and Katch–McArdle. Each uses different predictors (mass/height/age/sex or lean mass) and yields slightly different estimates.",
      "Unit handling: if both metric and imperial fields are provided, metric fields are used for calculation. Imperial inputs are converted to metric using exact conversion factors: 1 lb = 0.45359237 kg and 1 in = 2.54 cm.",
      "Quality and safety: numeric inputs are validated with sensible limits. Results include clear caveats about measurement uncertainty and are intended for informational and planning purposes, not for clinical diagnosis."
    ],
    "how_is_calculated": [
      "Mifflin–St Jeor: BMR = 10 × weight(kg) + 6.25 × height(cm) − 5 × age + 5 (men) or −161 (women).",
      "Revised Harris–Benedict: men: 13.397×weight(kg) + 4.799×height(cm) − 5.677×age + 88.362; women: 9.247×weight(kg) + 3.098×height(cm) − 4.330×age + 447.593.",
      "Katch–McArdle: BMR = 370 + 21.6 × lean_mass(kg), where lean_mass = weight(kg) × (1 − body_fat_pct/100).",
      "TDEE (rough estimates) are derived by multiplying the chosen BMR by standard activity factors: sedentary 1.2, lightly active 1.375, moderately active 1.55, very active 1.725, extra active 1.9."
    ],
    "examples": [
      "Example: 70 kg, 175 cm, 30 years, male gives different BMRs: Mifflin–St Jeor typically near 1665 kcal/day; Harris–Benedict may differ by a few percent; Katch–McArdle depends on body fat used to compute lean mass.",
      "If you only have imperial inputs, enter weight in lb and height in ft+in; the tool converts to metric before applying formulas."
    ],
    "summary": [
      "Choose Mifflin–St Jeor for a general-purpose estimate, Revised Harris–Benedict for historical comparison, and Katch–McArdle when an accurate body fat percentage is available.",
      "Treat outputs as model estimates. Use measured resting metabolic rate from indirect calorimetry if clinical precision is required."
    ],
    "faqs": [
      {
        "question": "How accurate are these estimates?",
        "answer": "These equations provide population-level estimates and may vary from measured resting metabolic rate by 5–15% or more depending on individual factors. Accuracy depends on input precision (weight, height, age, body fat) and biological variability."
      },
      {
        "question": "Which method should I use?",
        "answer": "Use Mifflin–St Jeor for most adults. Use Katch–McArdle when you have a reliable body fat percentage; it can be more accurate for athletic or low-body-fat individuals. Compare across methods to understand the estimate range."
      },
      {
        "question": "Can I use this for clinical decisions or medical dosing?",
        "answer": "No. This calculator is for informational and planning purposes only. For clinical or dosing decisions, rely on direct measurement and professional medical guidance."
      },
      {
        "question": "What are the main sources of error?",
        "answer": "Measurement error in weight/height/body fat, inappropriate equation choice for an individual's physiology, and activity multiplier selection for TDEE introduce the largest uncertainties."
      },
      {
        "question": "How does the tool manage units?",
        "answer": "If metric fields (weight_kg or height_cm) are supplied and greater than zero they are used. If metric fields are empty or zero, the tool converts imperial inputs (weight_lb, height_ft + height_in) to metric using exact conversion constants."
      },
      {
        "question": "Are these results compliant with any standards?",
        "answer": "This tool follows recognized software and measurement guidance for traceability and user-facing accuracy statements. See citations for standards and guidance on software quality, measurement uncertainty, and workplace safety."
      }
    ],
    "glossary": [
      {
        "term": "Basal Metabolic Rate (BMR)",
        "definition": "Estimated number of calories required to maintain vital body functions at complete rest, typically expressed in kcal/day."
      },
      {
        "term": "Total Daily Energy Expenditure (TDEE)",
        "definition": "Estimated total calories burned per day, calculated by multiplying BMR by an activity factor to account for daily activity and exercise."
      },
      {
        "term": "Lean body mass",
        "definition": "Body mass excluding fat; used in lean-mass equations such as Katch–McArdle."
      },
      {
        "term": "Activity factor",
        "definition": "Multipliers applied to BMR to estimate TDEE (examples: 1.2 sedentary, 1.55 moderate activity)."
      },
      {
        "term": "Mifflin–St Jeor",
        "definition": "An equation commonly recommended for estimating resting metabolic rate from weight, height, age, and sex."
      },
      {
        "term": "Katch–McArdle",
        "definition": "An equation that estimates BMR from lean body mass; requires body fat percentage to compute lean mass."
      }
    ],
    "citations": [
      {
        "label": "National Institute of Standards and Technology (NIST) — Software and measurement guidance",
        "url": "https://www.nist.gov"
      },
      {
        "label": "International Organization for Standardization (ISO) — Standards on measurement and uncertainty",
        "url": "https://www.iso.org"
      },
      {
        "label": "Institute of Electrical and Electronics Engineers (IEEE) — Software engineering and quality guidance",
        "url": "https://www.ieee.org"
      },
      {
        "label": "Occupational Safety and Health Administration (OSHA) — Guidance on measurement and workplace safety",
        "url": "https://www.osha.gov"
      },
      {
        "label": "PubMed/NIH — Research literature on resting metabolic rate and predictive equations",
        "url": "https://pubmed.ncbi.nlm.nih.gov"
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.osha.gov",
        "label": "OSHA",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo"
    ]
  }
}