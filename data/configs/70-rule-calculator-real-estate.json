{
  "version": "1.0.0",
  "metadata": {
    "title": "70% Rule (Real Estate) — Multi‑Method Investment Calculator",
    "description": "Interactive calculator to estimate maximum purchase price and implied margins using the 70% rule and customizable variants. Includes contingency, acquisition, holding costs, and fees. Provides clear caveats and references to authoritative standards for accuracy and software quality."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "standard_70",
    "methods": {
      "standard_70": {
        "label": "Standard 70% Rule",
        "description": "Classic 70% rule: Max Purchase = (ARV × Rule%) − Repairs − Acquisition/holding costs − Target profit − Fees. Uses a rehab contingency added to repair estimate.",
        "variables": {
          "effective_repair": {
            "expression": "repair_costs * (1 + rehab_contingency_pct / 100)",
            "dependencies": [
              "repair_costs",
              "rehab_contingency_pct"
            ],
            "label": "Repairs (with contingency)",
            "unit": "$",
            "format": "currency",
            "display": true
          },
          "fee_on_arv": {
            "expression": "arv * (purchase_fees_pct / 100)",
            "dependencies": [
              "arv",
              "purchase_fees_pct"
            ],
            "label": "Estimated fees (applied to ARV)",
            "unit": "$",
            "format": "currency",
            "display": false
          },
          "rule_base": {
            "expression": "arv * (rule_pct / 100)",
            "dependencies": [
              "arv",
              "rule_pct"
            ],
            "label": "Rule base (ARV × Rule%)",
            "unit": "$",
            "format": "currency",
            "display": true
          },
          "max_purchase": {
            "expression": "rule_base - effective_repair - acquisition_costs - holding_costs - desired_profit - fee_on_arv",
            "dependencies": [
              "rule_base",
              "effective_repair",
              "acquisition_costs",
              "holding_costs",
              "desired_profit",
              "fee_on_arv"
            ],
            "label": "Max Purchase Price (per rule)",
            "unit": "$",
            "format": "currency",
            "display": true
          },
          "implied_profit_margin_pct": {
            "expression": "((arv - (max_purchase + effective_repair + acquisition_costs + holding_costs + fee_on_arv)) / arv) * 100",
            "dependencies": [
              "arv",
              "max_purchase",
              "effective_repair",
              "acquisition_costs",
              "holding_costs",
              "fee_on_arv"
            ],
            "label": "Implied Profit Margin",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "max_purchase",
            "label": "Max Purchase Price (per rule)",
            "variable": "max_purchase",
            "unit": "$",
            "format": "currency"
          },
          {
            "id": "implied_profit_margin_pct",
            "label": "Implied Profit Margin (%)",
            "variable": "implied_profit_margin_pct",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "effective_repair",
            "label": "Repairs (with contingency)",
            "variable": "effective_repair",
            "unit": "$",
            "format": "currency"
          },
          {
            "id": "rule_base",
            "label": "Rule Base (ARV × Rule%)",
            "variable": "rule_base",
            "unit": "$",
            "format": "currency"
          }
        ]
      },
      "custom_pct": {
        "label": "Custom Percentage Rule",
        "description": "Same calculation but intended for markets where you choose a custom rule percentage (for example 65% in very expensive/competitive markets). Change Rule% to test sensitivity.",
        "variables": {
          "effective_repair": {
            "expression": "repair_costs * (1 + rehab_contingency_pct / 100)",
            "dependencies": [
              "repair_costs",
              "rehab_contingency_pct"
            ],
            "label": "Repairs (with contingency)",
            "unit": "$",
            "format": "currency",
            "display": true
          },
          "fee_on_arv": {
            "expression": "arv * (purchase_fees_pct / 100)",
            "dependencies": [
              "arv",
              "purchase_fees_pct"
            ],
            "label": "Estimated fees (applied to ARV)",
            "unit": "$",
            "format": "currency",
            "display": false
          },
          "rule_base_custom": {
            "expression": "arv * (rule_pct / 100)",
            "dependencies": [
              "arv",
              "rule_pct"
            ],
            "label": "Custom rule base (ARV × Rule%)",
            "unit": "$",
            "format": "currency",
            "display": true
          },
          "max_purchase_custom": {
            "expression": "rule_base_custom - effective_repair - acquisition_costs - holding_costs - desired_profit - fee_on_arv",
            "dependencies": [
              "rule_base_custom",
              "effective_repair",
              "acquisition_costs",
              "holding_costs",
              "desired_profit",
              "fee_on_arv"
            ],
            "label": "Max Purchase Price (custom rule)",
            "unit": "$",
            "format": "currency",
            "display": true
          },
          "implied_profit_margin_pct_custom": {
            "expression": "((arv - (max_purchase_custom + effective_repair + acquisition_costs + holding_costs + fee_on_arv)) / arv) * 100",
            "dependencies": [
              "arv",
              "max_purchase_custom",
              "effective_repair",
              "acquisition_costs",
              "holding_costs",
              "fee_on_arv"
            ],
            "label": "Implied Profit Margin (custom)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "max_purchase_custom",
            "label": "Max Purchase Price (custom rule)",
            "variable": "max_purchase_custom",
            "unit": "$",
            "format": "currency"
          },
          {
            "id": "implied_profit_margin_pct_custom",
            "label": "Implied Profit Margin (%)",
            "variable": "implied_profit_margin_pct_custom",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "rule_base_custom",
            "label": "Custom Rule Base",
            "variable": "rule_base_custom",
            "unit": "$",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "arv",
        "label": "After Repair Value (ARV)",
        "type": "number",
        "default": 200000,
        "min": 1000,
        "step": 100
      },
      {
        "id": "repair_costs",
        "label": "Estimated Repair Costs (material + labor)",
        "type": "number",
        "default": 20000,
        "min": 0,
        "step": 100
      },
      {
        "id": "rehab_contingency_pct",
        "label": "Rehab Contingency (%)",
        "type": "number",
        "default": 10,
        "min": 0,
        "max": 100,
        "step": 0.1
      },
      {
        "id": "acquisition_costs",
        "label": "Acquisition & Closing Costs",
        "type": "number",
        "default": 5000,
        "min": 0,
        "step": 50
      },
      {
        "id": "holding_costs",
        "label": "Holding Costs (insurance, taxes, utilities)",
        "type": "number",
        "default": 2000,
        "min": 0,
        "step": 50
      },
      {
        "id": "desired_profit",
        "label": "Target Profit (pre‑tax)",
        "type": "number",
        "default": 15000,
        "min": 0,
        "step": 100
      },
      {
        "id": "purchase_fees_pct",
        "label": "Estimated Fees (% of ARV)",
        "type": "number",
        "default": 2,
        "min": 0,
        "max": 20,
        "step": 0.1
      },
      {
        "id": "rule_pct",
        "label": "Rule Percentage (e.g. 70 for 70%)",
        "type": "number",
        "default": 70,
        "min": 0,
        "max": 100,
        "step": 0.1
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator helps investors quickly estimate a safe maximum purchase price using the 70% rule and customizable percentage variants. It includes repair contingency, acquisition/closing costs, holding costs, target profit, and estimated fees to produce a defensible maximum offer.",
      "Use the standard 70% rule as a guideline; change the rule percentage and cost assumptions to reflect local market conditions and your specific risk tolerance. Results are estimates and should be validated with detailed scope-of-work bids, title and closing estimates, and lender terms."
    ],
    "methodology": [
      "The core principle: Max Purchase Price = (ARV × Rule%) − Repairs (with contingency) − Acquisition/holding costs − Target profit − Estimated fees. The calculator adds a percentage contingency to repair estimates to account for unknowns.",
      "This tool is designed for rapid screening. For production use and accounting compliance, validate inputs and results against formal cost estimates and financial controls. Software development and testing practices referenced: NIST SP 800 series for secure computing processes and IEEE software engineering best practices for correctness and testing."
    ],
    "how_is_calculated": [
      "Step 1: Compute Repairs (with contingency) = repair_costs × (1 + rehab_contingency_pct/100).",
      "Step 2: Compute Rule Base = ARV × (rule_pct/100).",
      "Step 3: Subtract Repairs, Acquisition/holding costs, Target profit, and Estimated fees (fees applied to ARV) from the Rule Base to get the Max Purchase Price.",
      "Step 4: Implied Profit Margin (%) = (ARV − (Max Purchase + Repairs + Acquisition + Holding + Fees)) ÷ ARV × 100."
    ],
    "examples": [
      "Example 1 (standard): ARV $200,000; Repairs $20,000; Contingency 10%; Acquisition $5,000; Holding $2,000; Target profit $15,000; Fees 2%. Rule% 70 → Max Purchase ≈ (200,000×0.7) − 22,000 − 5,000 − 2,000 − 15,000 − 4,000 = $99,000 (approx).",
      "Example 2 (market adjustment): Using a 65% rule in a hot market will reduce the Rule Base and therefore the Max Purchase price, helping preserve margin when ARV estimates are uncertain."
    ],
    "summary": [
      "Use the standard 70% rule as a starting guideline but adjust the rule percentage and all cost inputs to reflect localized data and verified estimates.",
      "This calculator is for screening and preliminary offer planning. Always corroborate with third-party estimates, title commitments, and lender approval before finalizing a purchase."
    ],
    "faqs": [
      {
        "question": "Is the 70% rule a strict rule I must follow?",
        "answer": "No. The 70% rule is a heuristic to protect margin during renovations and sale. Market dynamics, financing terms, and verified cost estimates may justify deviations. Use this tool to test sensitivity but do on-site due diligence before committing capital."
      },
      {
        "question": "Why include a rehab contingency?",
        "answer": "Contingency accounts for unforeseen issues discovered during renovation. Including a contingency reduces downside risk and improves accuracy of the Max Purchase calculation."
      },
      {
        "question": "How accurate are the results?",
        "answer": "Results are estimates based on your inputs. Accuracy depends on input quality (ARV appraisal validity, contractor bids, fee estimates). For software quality and data handling we recommend following IEEE and NIST best practices for input validation and testing. Do not treat outputs as audited financial advice."
      },
      {
        "question": "Are safety or workplace regulations considered?",
        "answer": "This calculator does not replace compliance checks. For onsite work, follow applicable occupational safety regulations such as OSHA standards and local building codes when estimating labor, timelines, and costs."
      }
    ],
    "citations": [
      {
        "label": "NIST — National Institute of Standards and Technology",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO — International Organization for Standardization",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE — Institute of Electrical and Electronics Engineers",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA — Occupational Safety and Health Administration",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "ARV (After Repair Value)",
        "definition": "Estimated market value of the property after renovations are completed and comparable properties are considered."
      },
      {
        "term": "Rule Base",
        "definition": "The portion of ARV used as a buying benchmark (ARV multiplied by the chosen percentage, e.g., 70%)."
      },
      {
        "term": "Rehab Contingency",
        "definition": "A percentage added to the repair estimate to cover unexpected costs discovered during renovation."
      },
      {
        "term": "Acquisition & Closing Costs",
        "definition": "Expenses associated with purchasing the property, including title, escrow, transfer taxes, and lender fees that occur at or near closing."
      },
      {
        "term": "Implied Profit Margin",
        "definition": "Percent of ARV remaining as profit after accounting for purchase, repair, acquisition, holding costs, and fees."
      }
    ]
  }
}