{
  "version": "1.0.0",
  "metadata": {
    "title": "Personal Loan Refinance & Bi‑Weekly Payments Calculator (Advanced)",
    "description": "Compare your current personal loan to a refinance offer and see the impact of switching to bi‑weekly payments. Calculates payment amounts, total interest, interest savings, and comparative schedules for monthly and bi‑weekly frequencies."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "refinance_comparison",
    "methods": {
      "refinance_comparison": {
        "label": "Refinance comparison (monthly and bi‑weekly)",
        "description": "Compare current loan and refinance offer across both monthly and bi‑weekly schedules, showing payments, total interest paid, and interest savings.",
        "variables": {
          "curr_n_m": {
            "expression": "current_term_years * 12",
            "dependencies": [
              "current_term_years"
            ],
            "label": "Current term (months)",
            "unit": "months",
            "format": "integer",
            "display": false
          },
          "curr_r_m": {
            "expression": "current_interest_rate / 100 / 12",
            "dependencies": [
              "current_interest_rate"
            ],
            "label": "Current periodic rate (monthly)",
            "format": "decimal",
            "display": false
          },
          "curr_monthly_payment": {
            "expression": "(curr_r_m * current_principal) / (1 - pow(1 + curr_r_m, -curr_n_m))",
            "dependencies": [
              "curr_r_m",
              "curr_n_m",
              "current_principal"
            ],
            "label": "Current monthly payment",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "curr_n_bi": {
            "expression": "current_term_years * 26",
            "dependencies": [
              "current_term_years"
            ],
            "label": "Current term (bi‑weekly periods)",
            "unit": "periods",
            "format": "integer",
            "display": false
          },
          "curr_r_bi": {
            "expression": "current_interest_rate / 100 / 26",
            "dependencies": [
              "current_interest_rate"
            ],
            "label": "Current periodic rate (bi‑weekly)",
            "format": "decimal",
            "display": false
          },
          "curr_biweekly_payment": {
            "expression": "(curr_r_bi * current_principal) / (1 - pow(1 + curr_r_bi, -curr_n_bi))",
            "dependencies": [
              "curr_r_bi",
              "curr_n_bi",
              "current_principal"
            ],
            "label": "Current bi‑weekly payment",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "curr_total_paid_m": {
            "expression": "curr_monthly_payment * curr_n_m",
            "dependencies": [
              "curr_monthly_payment",
              "curr_n_m"
            ],
            "label": "Current total paid (monthly schedule)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "curr_total_interest_m": {
            "expression": "curr_total_paid_m - current_principal",
            "dependencies": [
              "curr_total_paid_m",
              "current_principal"
            ],
            "label": "Current total interest (monthly)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "curr_total_paid_bi": {
            "expression": "curr_biweekly_payment * curr_n_bi",
            "dependencies": [
              "curr_biweekly_payment",
              "curr_n_bi"
            ],
            "label": "Current total paid (bi‑weekly schedule)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "curr_total_interest_bi": {
            "expression": "curr_total_paid_bi - current_principal",
            "dependencies": [
              "curr_total_paid_bi",
              "current_principal"
            ],
            "label": "Current total interest (bi‑weekly)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "ref_effective_principal": {
            "expression": "refinance_principal + refinance_fees",
            "dependencies": [
              "refinance_principal",
              "refinance_fees"
            ],
            "label": "Refinance effective principal (includes fees)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "ref_n_m": {
            "expression": "refinance_term_years * 12",
            "dependencies": [
              "refinance_term_years"
            ],
            "label": "Refinance term (months)",
            "unit": "months",
            "format": "integer",
            "display": false
          },
          "ref_r_m": {
            "expression": "refinance_interest_rate / 100 / 12",
            "dependencies": [
              "refinance_interest_rate"
            ],
            "label": "Refinance periodic rate (monthly)",
            "format": "decimal",
            "display": false
          },
          "ref_monthly_payment": {
            "expression": "(ref_r_m * ref_effective_principal) / (1 - pow(1 + ref_r_m, -ref_n_m))",
            "dependencies": [
              "ref_r_m",
              "ref_n_m",
              "ref_effective_principal"
            ],
            "label": "Refinance monthly payment",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "ref_n_bi": {
            "expression": "refinance_term_years * 26",
            "dependencies": [
              "refinance_term_years"
            ],
            "label": "Refinance term (bi‑weekly periods)",
            "unit": "periods",
            "format": "integer",
            "display": false
          },
          "ref_r_bi": {
            "expression": "refinance_interest_rate / 100 / 26",
            "dependencies": [
              "refinance_interest_rate"
            ],
            "label": "Refinance periodic rate (bi‑weekly)",
            "format": "decimal",
            "display": false
          },
          "ref_biweekly_payment": {
            "expression": "(ref_r_bi * ref_effective_principal) / (1 - pow(1 + ref_r_bi, -ref_n_bi))",
            "dependencies": [
              "ref_r_bi",
              "ref_n_bi",
              "ref_effective_principal"
            ],
            "label": "Refinance bi‑weekly payment",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "ref_total_paid_m": {
            "expression": "ref_monthly_payment * ref_n_m",
            "dependencies": [
              "ref_monthly_payment",
              "ref_n_m"
            ],
            "label": "Refinance total paid (monthly)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "ref_total_interest_m": {
            "expression": "ref_total_paid_m - ref_effective_principal",
            "dependencies": [
              "ref_total_paid_m",
              "ref_effective_principal"
            ],
            "label": "Refinance total interest (monthly)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "ref_total_paid_bi": {
            "expression": "ref_biweekly_payment * ref_n_bi",
            "dependencies": [
              "ref_biweekly_payment",
              "ref_n_bi"
            ],
            "label": "Refinance total paid (bi‑weekly)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "ref_total_interest_bi": {
            "expression": "ref_total_paid_bi - ref_effective_principal",
            "dependencies": [
              "ref_total_paid_bi",
              "ref_effective_principal"
            ],
            "label": "Refinance total interest (bi‑weekly)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "interest_savings_monthly": {
            "expression": "curr_total_interest_m - ref_total_interest_m",
            "dependencies": [
              "curr_total_interest_m",
              "ref_total_interest_m"
            ],
            "label": "Interest savings (monthly comparison)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "interest_savings_biweekly": {
            "expression": "curr_total_interest_bi - ref_total_interest_bi",
            "dependencies": [
              "curr_total_interest_bi",
              "ref_total_interest_bi"
            ],
            "label": "Interest savings (bi‑weekly comparison)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "term_difference_months_monthly": {
            "expression": "curr_n_m - ref_n_m",
            "dependencies": [
              "curr_n_m",
              "ref_n_m"
            ],
            "label": "Term difference (months, monthly schedules)",
            "unit": "months",
            "format": "integer",
            "display": true
          },
          "term_difference_periods_bi": {
            "expression": "curr_n_bi - ref_n_bi",
            "dependencies": [
              "curr_n_bi",
              "ref_n_bi"
            ],
            "label": "Term difference (periods, bi‑weekly schedules)",
            "unit": "periods",
            "format": "integer",
            "display": false
          }
        },
        "outputs": [
          {
            "id": "curr_monthly_payment",
            "label": "Current monthly payment",
            "variable": "curr_monthly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "curr_biweekly_payment",
            "label": "Current bi‑weekly payment",
            "variable": "curr_biweekly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "ref_monthly_payment",
            "label": "Refinance monthly payment",
            "variable": "ref_monthly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "ref_biweekly_payment",
            "label": "Refinance bi‑weekly payment",
            "variable": "ref_biweekly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "curr_total_interest_m",
            "label": "Current total interest (monthly)",
            "variable": "curr_total_interest_m",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "ref_total_interest_m",
            "label": "Refinance total interest (monthly)",
            "variable": "ref_total_interest_m",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "interest_savings_monthly",
            "label": "Interest savings (monthly)",
            "variable": "interest_savings_monthly",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "curr_total_interest_bi",
            "label": "Current total interest (bi‑weekly)",
            "variable": "curr_total_interest_bi",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "ref_total_interest_bi",
            "label": "Refinance total interest (bi‑weekly)",
            "variable": "ref_total_interest_bi",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "interest_savings_biweekly",
            "label": "Interest savings (bi‑weekly)",
            "variable": "interest_savings_biweekly",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "term_difference_months_monthly",
            "label": "Term difference (months, monthly)",
            "variable": "term_difference_months_monthly",
            "unit": "months",
            "format": "integer"
          }
        ]
      },
      "biweekly_impact": {
        "label": "Bi‑weekly payment impact for a single loan",
        "description": "Shows how switching from monthly to bi‑weekly payments affects payment amount, total interest, and payoff duration for the same principal, rate, and term.",
        "variables": {
          "n_m": {
            "expression": "term_years * 12",
            "dependencies": [
              "term_years"
            ],
            "label": "Term (months)",
            "unit": "months",
            "format": "integer",
            "display": false
          },
          "r_m": {
            "expression": "interest_rate / 100 / 12",
            "dependencies": [
              "interest_rate"
            ],
            "label": "Periodic rate (monthly)",
            "format": "decimal",
            "display": false
          },
          "monthly_payment": {
            "expression": "(r_m * principal) / (1 - pow(1 + r_m, -n_m))",
            "dependencies": [
              "r_m",
              "n_m",
              "principal"
            ],
            "label": "Monthly payment",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "n_bi": {
            "expression": "term_years * 26",
            "dependencies": [
              "term_years"
            ],
            "label": "Term (bi‑weekly periods)",
            "unit": "periods",
            "format": "integer",
            "display": false
          },
          "r_bi": {
            "expression": "interest_rate / 100 / 26",
            "dependencies": [
              "interest_rate"
            ],
            "label": "Periodic rate (bi‑weekly)",
            "format": "decimal",
            "display": false
          },
          "biweekly_payment": {
            "expression": "(r_bi * principal) / (1 - pow(1 + r_bi, -n_bi))",
            "dependencies": [
              "r_bi",
              "n_bi",
              "principal"
            ],
            "label": "Bi‑weekly payment",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_interest_monthly": {
            "expression": "monthly_payment * n_m - principal",
            "dependencies": [
              "monthly_payment",
              "n_m",
              "principal"
            ],
            "label": "Total interest (monthly)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_interest_biweekly": {
            "expression": "biweekly_payment * n_bi - principal",
            "dependencies": [
              "biweekly_payment",
              "n_bi",
              "principal"
            ],
            "label": "Total interest (bi‑weekly)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "interest_savings": {
            "expression": "total_interest_monthly - total_interest_biweekly",
            "dependencies": [
              "total_interest_monthly",
              "total_interest_biweekly"
            ],
            "label": "Interest savings by switching to bi‑weekly",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "monthly_payment",
            "label": "Monthly payment",
            "variable": "monthly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "biweekly_payment",
            "label": "Bi‑weekly payment",
            "variable": "biweekly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_interest_monthly",
            "label": "Total interest (monthly)",
            "variable": "total_interest_monthly",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_interest_biweekly",
            "label": "Total interest (bi‑weekly)",
            "variable": "total_interest_biweekly",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "interest_savings",
            "label": "Interest savings (monthly → bi‑weekly)",
            "variable": "interest_savings",
            "unit": "USD",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "current_principal",
        "label": "Current loan principal",
        "type": "number",
        "default": 10000,
        "min": 0,
        "step": 1
      },
      {
        "id": "current_interest_rate",
        "label": "Current annual interest rate (%)",
        "type": "number",
        "default": 7,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "current_term_years",
        "label": "Current remaining term (years)",
        "type": "number",
        "default": 5,
        "min": 0.1,
        "step": 0.25
      },
      {
        "id": "current_payment_frequency",
        "label": "Current payment frequency",
        "type": "select",
        "default": "monthly",
        "options": [
          {
            "label": "Monthly",
            "value": "monthly"
          },
          {
            "label": "Bi‑weekly",
            "value": "biweekly"
          }
        ]
      },
      {
        "id": "refinance_principal",
        "label": "Refinance principal (requested)",
        "type": "number",
        "default": 10000,
        "min": 0,
        "step": 1
      },
      {
        "id": "refinance_interest_rate",
        "label": "Refinance annual interest rate (%)",
        "type": "number",
        "default": 5,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "refinance_term_years",
        "label": "Refinance term (years)",
        "type": "number",
        "default": 5,
        "min": 0.1,
        "step": 0.25
      },
      {
        "id": "refinance_payment_frequency",
        "label": "Refinance payment frequency",
        "type": "select",
        "default": "monthly",
        "options": [
          {
            "label": "Monthly",
            "value": "monthly"
          },
          {
            "label": "Bi‑weekly",
            "value": "biweekly"
          }
        ]
      },
      {
        "id": "refinance_fees",
        "label": "Refinance fees and closing costs (added to principal)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "principal",
        "label": "Loan principal (for bi‑weekly impact)",
        "type": "number",
        "default": 10000,
        "min": 0,
        "step": 1
      },
      {
        "id": "interest_rate",
        "label": "Annual interest rate (%) (for bi‑weekly impact)",
        "type": "number",
        "default": 7,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "term_years",
        "label": "Term (years) (for bi‑weekly impact)",
        "type": "number",
        "default": 5,
        "min": 0.1,
        "step": 0.25
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "curr_monthly_payment",
          "label": "Current monthly payment",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "curr_biweekly_payment",
          "label": "Current bi‑weekly payment",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "ref_monthly_payment",
          "label": "Refinance monthly payment",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "ref_biweekly_payment",
          "label": "Refinance bi‑weekly payment",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "interest_savings_monthly",
          "label": "Interest savings (monthly)",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "interest_savings_biweekly",
          "label": "Interest savings (bi‑weekly)",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "term_difference_months_monthly",
          "label": "Term difference (months, monthly)",
          "format": "integer",
          "unit": "months"
        },
        {
          "id": "monthly_payment",
          "label": "Monthly payment (single loan)",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "biweekly_payment",
          "label": "Bi‑weekly payment (single loan)",
          "format": "currency",
          "unit": "USD"
        },
        {
          "id": "interest_savings",
          "label": "Interest savings (monthly → bi‑weekly, single loan)",
          "format": "currency",
          "unit": "USD"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "This calculator helps you compare an existing personal loan to a refinance offer and shows the effects of switching between monthly and bi‑weekly payments. It reports payment amounts, total interest paid, estimated interest savings, and term differences for both schedules.",
      "Use the refinance comparison when you want a side‑by‑side view of current vs refinance under monthly and bi‑weekly frequency. Use the bi‑weekly impact method to evaluate how changing the payment cadence on a single loan affects interest and payoff timing."
    ],
    "methodology": [
      "Payments are computed using standard amortizing loan formulas. For a payment period rate r and number of periods n, payment = (r * principal) / (1 - (1 + r)^(-n)). Annual rates are converted to period rates by dividing by 12 for monthly schedules and 26 for bi‑weekly schedules.",
      "Total interest paid is computed as total payments (payment × number of periods) minus the principal (or effective principal when fees are added). Interest savings are the difference in total interest between scenarios. Calculations assume fixed interest rates and that payments are made on schedule with no prepayments unless reflected in inputs."
    ],
    "how_is_calculated": [
      "Convert annual rate (%) to periodic rate: r_period = annual_rate / 100 / periods_per_year.",
      "Number of periods: n = term_years × periods_per_year (12 for monthly, 26 for bi‑weekly).",
      "Periodic payment: payment = (r_period × principal) / (1 - (1 + r_period)^(-n)).",
      "Total interest = (payment × n) - principal (or effective principal when fees are capitalized).",
      "Interest savings = total_interest_current - total_interest_refinance (computed per schedule)."
    ],
    "faqs": [
      {
        "question": "Does dividing a monthly payment by two give the correct bi‑weekly payment?",
        "answer": "No. A true bi‑weekly schedule uses 26 payments per year and a per‑period interest rate based on 26 periods annually. Simply halving the monthly payment is an approximation and can misstate interest and payoff timing."
      },
      {
        "question": "Are closing costs included in the refinance principal?",
        "answer": "This tool includes a field for refinance fees. If you add fees, they are added to the refinance principal for calculation. Consider whether fees are financed or paid up front when interpreting results."
      },
      {
        "question": "What should I watch for when comparing offers?",
        "answer": "Compare effective principal (including financed fees), the annual percentage rate (APR) where available, the total interest over the term, and any prepayment penalties or differences in term length. This calculator assumes fixed nominal rates and does not model APR adjustments, fees outside financed principal, or lender‑specific terms."
      },
      {
        "question": "How accurate are the results?",
        "answer": "Results use standard amortization math. They are suitable for estimates and decision support but not a substitute for lender disclosures. See the accuracy caveats and standards references provided."
      }
    ],
    "citations": [
      {
        "label": "NIST - Numerical Methods and Validation Guidance",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO - Standards for software and numerical accuracy",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE - Best practices for algorithm validation",
        "url": "https://standards.ieee.org"
      },
      {
        "label": "OSHA - Guidance on trustworthy system processes",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Principal",
        "definition": "The outstanding loan balance or amount financed before interest."
      },
      {
        "term": "Periodic rate",
        "definition": "The interest rate applied for each payment period: annual rate divided by number of payment periods per year (12 for monthly, 26 for bi‑weekly)."
      },
      {
        "term": "Bi‑weekly payment",
        "definition": "A payment schedule with 26 payments per year; uses a per‑period rate of annual_rate/26."
      },
      {
        "term": "Effective principal",
        "definition": "Principal plus any financed fees or costs included in the loan balance for the refinance scenario."
      },
      {
        "term": "Total interest",
        "definition": "Sum of interest paid over the life of the loan: (payment × number of periods) − principal."
      }
    ],
    "summary": [
      "This advanced calculator produces comparable outputs for monthly and bi‑weekly schedules and for current versus refinance offers. Use it to quantify payment differences, estimated interest savings, and term differences.",
      "For regulatory or contract precision, rely on official lender disclosures (including APR and amortization schedules). This tool is for planning and comparative use only."
    ]
  },
  "links": {
    "internal": [
      "/calculators/loan/mortgage-basics",
      "/help/loan-terms-glossary"
    ],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialProduct"
    ]
  }
}