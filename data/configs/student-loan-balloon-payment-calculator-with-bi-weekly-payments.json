{
  "version": "1.0.0",
  "metadata": {
    "title": "Student Loan Balloon Payment Calculator — Bi‑Weekly & Monthly Scenarios",
    "description": "Compare bi‑weekly and monthly payment schedules for loans with a balloon payment. Calculates periodic payment, total paid, and interest for a given principal, interest rate, term, payment frequency, and balloon amount and timing. Includes calibration notes, accuracy caveats, and references to numerical and security standards."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "biweekly_with_balloon",
    "methods": {
      "biweekly_with_balloon": {
        "label": "Bi‑weekly payments with balloon",
        "description": "Calculates the bi‑weekly periodic payment when a balloon payment remains at a specified future time. Uses 26 payments per year.",
        "variables": {
          "periods_per_year": {
            "expression": "26",
            "dependencies": [],
            "label": "Payments per year",
            "unit": "per year",
            "format": "integer",
            "display": false
          },
          "r_period": {
            "expression": "(annual_rate_percent/100)/periods_per_year",
            "dependencies": [
              "annual_rate_percent",
              "periods_per_year"
            ],
            "label": "Periodic interest rate",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "n": {
            "expression": "term_years*periods_per_year",
            "dependencies": [
              "term_years",
              "periods_per_year"
            ],
            "label": "Total number of payments",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "k": {
            "expression": "min(balloon_at_years, term_years)*periods_per_year",
            "dependencies": [
              "balloon_at_years",
              "term_years",
              "periods_per_year"
            ],
            "label": "Payments until balloon",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "discounted_balloon_present_value": {
            "expression": "balloon_amount / pow(1 + r_period, k)",
            "dependencies": [
              "balloon_amount",
              "r_period",
              "k"
            ],
            "label": "Present value of balloon",
            "unit": "currency",
            "format": "currency",
            "display": false
          },
          "payment": {
            "expression": "if(annual_rate_percent==0, principal / n, (principal - discounted_balloon_present_value) * (r_period / (1 - pow(1 + r_period, -n))))",
            "dependencies": [
              "principal",
              "annual_rate_percent",
              "n",
              "discounted_balloon_present_value",
              "r_period"
            ],
            "label": "Bi‑weekly payment (excluding balloon)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "total_paid": {
            "expression": "payment * n + balloon_amount",
            "dependencies": [
              "payment",
              "n",
              "balloon_amount"
            ],
            "label": "Total amount paid over loan life",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "interest_paid": {
            "expression": "total_paid - principal",
            "dependencies": [
              "total_paid",
              "principal"
            ],
            "label": "Total interest paid",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "effective_apr_estimate": {
            "expression": "((pow(1 + r_period, periods_per_year) - 1) * 100)",
            "dependencies": [
              "r_period",
              "periods_per_year"
            ],
            "label": "Estimated APR (effective annual rate)",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "remaining_balloon": {
            "expression": "balloon_amount",
            "dependencies": [
              "balloon_amount"
            ],
            "label": "Balloon payment due at specified time",
            "unit": "currency",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "payment",
            "label": "Bi‑weekly payment (excl. balloon)",
            "variable": "payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "remaining_balloon",
            "label": "Balloon payment due",
            "variable": "remaining_balloon",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_paid",
            "label": "Total paid (payments + balloon)",
            "variable": "total_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "interest_paid",
            "label": "Total interest paid",
            "variable": "interest_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "effective_apr_estimate",
            "label": "Estimated effective APR",
            "variable": "effective_apr_estimate",
            "unit": "%",
            "format": "percent"
          }
        ]
      },
      "monthly_with_balloon": {
        "label": "Monthly payments with balloon",
        "description": "Calculates the monthly periodic payment when a balloon payment remains at a specified future time. Uses 12 payments per year.",
        "variables": {
          "periods_per_year": {
            "expression": "12",
            "dependencies": [],
            "label": "Payments per year",
            "unit": "per year",
            "format": "integer",
            "display": false
          },
          "r_period": {
            "expression": "(annual_rate_percent/100)/periods_per_year",
            "dependencies": [
              "annual_rate_percent",
              "periods_per_year"
            ],
            "label": "Periodic interest rate",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "n": {
            "expression": "term_years*periods_per_year",
            "dependencies": [
              "term_years",
              "periods_per_year"
            ],
            "label": "Total number of payments",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "k": {
            "expression": "min(balloon_at_years, term_years)*periods_per_year",
            "dependencies": [
              "balloon_at_years",
              "term_years",
              "periods_per_year"
            ],
            "label": "Payments until balloon",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "discounted_balloon_present_value": {
            "expression": "balloon_amount / pow(1 + r_period, k)",
            "dependencies": [
              "balloon_amount",
              "r_period",
              "k"
            ],
            "label": "Present value of balloon",
            "unit": "currency",
            "format": "currency",
            "display": false
          },
          "payment": {
            "expression": "if(annual_rate_percent==0, principal / n, (principal - discounted_balloon_present_value) * (r_period / (1 - pow(1 + r_period, -n))))",
            "dependencies": [
              "principal",
              "annual_rate_percent",
              "n",
              "discounted_balloon_present_value",
              "r_period"
            ],
            "label": "Monthly payment (excluding balloon)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "total_paid": {
            "expression": "payment * n + balloon_amount",
            "dependencies": [
              "payment",
              "n",
              "balloon_amount"
            ],
            "label": "Total amount paid over loan life",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "interest_paid": {
            "expression": "total_paid - principal",
            "dependencies": [
              "total_paid",
              "principal"
            ],
            "label": "Total interest paid",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "effective_apr_estimate": {
            "expression": "((pow(1 + r_period, periods_per_year) - 1) * 100)",
            "dependencies": [
              "r_period",
              "periods_per_year"
            ],
            "label": "Estimated APR (effective annual rate)",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "remaining_balloon": {
            "expression": "balloon_amount",
            "dependencies": [
              "balloon_amount"
            ],
            "label": "Balloon payment due at specified time",
            "unit": "currency",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "payment",
            "label": "Monthly payment (excl. balloon)",
            "variable": "payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "remaining_balloon",
            "label": "Balloon payment due",
            "variable": "remaining_balloon",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_paid",
            "label": "Total paid (payments + balloon)",
            "variable": "total_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "interest_paid",
            "label": "Total interest paid",
            "variable": "interest_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "effective_apr_estimate",
            "label": "Estimated effective APR",
            "variable": "effective_apr_estimate",
            "unit": "%",
            "format": "percent"
          }
        ]
      },
      "compare_monthly_biweekly": {
        "label": "Side‑by‑side comparison (monthly vs bi‑weekly)",
        "description": "Produces both monthly and bi‑weekly payment schedules and key totals for quick comparison using the same principal, term, balloon amount, and balloon timing.",
        "variables": {
          "monthly_n": {
            "expression": "term_years*12",
            "dependencies": [
              "term_years"
            ],
            "label": "Monthly total payments",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "biweekly_n": {
            "expression": "term_years*26",
            "dependencies": [
              "term_years"
            ],
            "label": "Bi‑weekly total payments",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "monthly_r": {
            "expression": "(annual_rate_percent/100)/12",
            "dependencies": [
              "annual_rate_percent"
            ],
            "label": "Monthly periodic rate",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "biweekly_r": {
            "expression": "(annual_rate_percent/100)/26",
            "dependencies": [
              "annual_rate_percent"
            ],
            "label": "Bi‑weekly periodic rate",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "monthly_discounted_balloon_pv": {
            "expression": "balloon_amount / pow(1 + monthly_r, min(balloon_at_years, term_years)*12)",
            "dependencies": [
              "balloon_amount",
              "monthly_r",
              "balloon_at_years",
              "term_years"
            ],
            "label": "Monthly discounted balloon PV",
            "unit": "currency",
            "format": "currency",
            "display": false
          },
          "biweekly_discounted_balloon_pv": {
            "expression": "balloon_amount / pow(1 + biweekly_r, min(balloon_at_years, term_years)*26)",
            "dependencies": [
              "balloon_amount",
              "biweekly_r",
              "balloon_at_years",
              "term_years"
            ],
            "label": "Bi‑weekly discounted balloon PV",
            "unit": "currency",
            "format": "currency",
            "display": false
          },
          "monthly_payment": {
            "expression": "if(annual_rate_percent==0, principal/monthly_n, (principal - monthly_discounted_balloon_pv)*(monthly_r/(1 - pow(1 + monthly_r, -monthly_n))))",
            "dependencies": [
              "annual_rate_percent",
              "principal",
              "monthly_n",
              "monthly_discounted_balloon_pv",
              "monthly_r"
            ],
            "label": "Monthly payment (excl. balloon)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "biweekly_payment": {
            "expression": "if(annual_rate_percent==0, principal/biweekly_n, (principal - biweekly_discounted_balloon_pv)*(biweekly_r/(1 - pow(1 + biweekly_r, -biweekly_n))))",
            "dependencies": [
              "annual_rate_percent",
              "principal",
              "biweekly_n",
              "biweekly_discounted_balloon_pv",
              "biweekly_r"
            ],
            "label": "Bi‑weekly payment (excl. balloon)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "monthly_total_paid": {
            "expression": "monthly_payment * monthly_n + balloon_amount",
            "dependencies": [
              "monthly_payment",
              "monthly_n",
              "balloon_amount"
            ],
            "label": "Monthly total paid",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "biweekly_total_paid": {
            "expression": "biweekly_payment * biweekly_n + balloon_amount",
            "dependencies": [
              "biweekly_payment",
              "biweekly_n",
              "balloon_amount"
            ],
            "label": "Bi‑weekly total paid",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "monthly_interest_paid": {
            "expression": "monthly_total_paid - principal",
            "dependencies": [
              "monthly_total_paid",
              "principal"
            ],
            "label": "Monthly interest paid",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "biweekly_interest_paid": {
            "expression": "biweekly_total_paid - principal",
            "dependencies": [
              "biweekly_total_paid",
              "principal"
            ],
            "label": "Bi‑weekly interest paid",
            "unit": "currency",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "monthly_payment",
            "label": "Monthly payment (excl. balloon)",
            "variable": "monthly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "biweekly_payment",
            "label": "Bi‑weekly payment (excl. balloon)",
            "variable": "biweekly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "monthly_total_paid",
            "label": "Monthly total paid (payments + balloon)",
            "variable": "monthly_total_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "biweekly_total_paid",
            "label": "Bi‑weekly total paid (payments + balloon)",
            "variable": "biweekly_total_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "monthly_interest_paid",
            "label": "Monthly interest paid",
            "variable": "monthly_interest_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "biweekly_interest_paid",
            "label": "Bi‑weekly interest paid",
            "variable": "biweekly_interest_paid",
            "unit": "USD",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "principal",
        "label": "Loan principal",
        "type": "number",
        "default": 30000,
        "min": 0,
        "step": 100
      },
      {
        "id": "annual_rate_percent",
        "label": "Annual interest rate (APR %)",
        "type": "number",
        "default": 5,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "term_years",
        "label": "Loan term (years)",
        "type": "number",
        "default": 10,
        "min": 0.1,
        "max": 100,
        "step": 0.1
      },
      {
        "id": "payment_frequency",
        "label": "Payment frequency (for single-method mode)",
        "type": "select",
        "default": "biweekly",
        "options": [
          {
            "label": "Bi‑weekly (26/year)",
            "value": "biweekly"
          },
          {
            "label": "Monthly (12/year)",
            "value": "monthly"
          }
        ]
      },
      {
        "id": "balloon_amount",
        "label": "Balloon payment amount due at specified time",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 100
      },
      {
        "id": "balloon_at_years",
        "label": "Years until balloon payment is due",
        "type": "number",
        "default": 10,
        "min": 0,
        "max": 100,
        "step": 0.1
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator estimates periodic payments, total amount paid, and total interest for student loans that include a balloon payment at a specified time. It supports comparison between bi‑weekly and monthly payment schedules and allows the balloon payment to occur before the nominal loan term ends.",
      "Use the form to enter your loan principal, annual interest rate (APR), loan term, the balloon amount, and the years until the balloon is due. The tool reports periodic payment amounts excluding the balloon, the balloon amount due, total amount paid, and estimated interest."
    ],
    "methodology": [
      "Calculations use standard time‑value‑of‑money formulas for installment loans with a future lump sum (balloon). The payment is solved such that the present value of all periodic payments plus the present value of the balloon equals the principal.",
      "Bi‑weekly schedules assume 26 payments per year. Monthly schedules assume 12 payments per year. The calculator discounts the balloon to present value using the periodic rate and uses either closed‑form annuity formulas or a zero‑rate fallback.",
      "Numerical behavior and rounding follow common financial computing practice. For zero interest rates the payment is principal divided evenly by the number of periods. For positive rates the annuity formula is used: payment = (principal - PV(balloon)) * (r / (1-(1+r)^-n))."
    ],
    "how_is_calculated": [
      "Convert APR to periodic rate: r_period = (APR/100) / payments_per_year.",
      "Compute number of payments: n = term_years * payments_per_year and payments until balloon k = balloon_at_years * payments_per_year.",
      "Present value of balloon: PV_balloon = balloon_amount / (1 + r_period)^k.",
      "Periodic payment (excluding balloon): if APR == 0 then payment = principal / n else payment = (principal - PV_balloon) * (r_period / (1 - (1 + r_period)^-n)).",
      "Totals: total_paid = payment * n + balloon_amount. interest_paid = total_paid - principal."
    ],
    "examples": [
      "Example 1: $30,000 principal, 5% APR, 10 years, $5,000 balloon at year 10. Bi‑weekly payment computed using 26 periods/year yields a lower per‑period payment and different total interest than monthly.",
      "Example 2: Zero APR scenario: the payment equals principal divided by total number of payments; balloon amount is added to the final payment as specified."
    ],
    "summary": [
      "This tool helps compare how payment frequency and the presence/timing of a balloon payment affect periodic payments and the total cost of a loan.",
      "For planning, always confirm contract terms with your lender and consider cash flow for the balloon date."
    ],
    "faqs": [
      {
        "question": "Does switching to bi‑weekly always save interest?",
        "answer": "Not always. Bi‑weekly schedules increase the number of payments per year relative to monthly, which can reduce compound interest if the lender applies payments more frequently and treats each as reducing principal; however, contractual treatment varies. Use the comparison method here and confirm with your lender whether they reapply payments immediately or hold them."
      },
      {
        "question": "How does the balloon timing affect payments?",
        "answer": "A balloon due earlier reduces the present value of the balloon less, which typically increases the periodic payment required to reach the same principal amortization. Later balloons discount more and lower periodic payments but leave a larger lump sum due at the balloon date."
      },
      {
        "question": "How accurate are the results?",
        "answer": "Results use exact closed‑form financial formulas and common floating‑point arithmetic. Rounding and lender billing rules vary. See accuracy caveats below and verify exact figures with your loan servicer."
      },
      {
        "question": "What if my lender compounds differently or applies payments irregularly?",
        "answer": "This calculator assumes consistent periodic compounding at the APR converted to the payment period. If your lender uses different compounding, mid‑period application, or imposes fees, the actual amounts may differ. Confirm specifics with the lender."
      }
    ],
    "citations": [
      {
        "label": "NIST Computer Security and Privacy Standards and Guidance",
        "url": "https://www.nist.gov/standards"
      },
      {
        "label": "ISO — Quality Management Standards (re: process quality assurance)",
        "url": "https://www.iso.org/standards.html"
      },
      {
        "label": "IEEE 754 — Standard for Floating‑Point Arithmetic (numerical accuracy reference)",
        "url": "https://standards.ieee.org/standard/754-2019.html"
      },
      {
        "label": "OSHA — general workplace safety and process guidance",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Balloon payment",
        "definition": "A lump sum payment scheduled at a specified time during or at the end of a loan that is larger than regular periodic payments."
      },
      {
        "term": "Bi‑weekly payments",
        "definition": "Payments made every two weeks; typically results in 26 payments per year."
      },
      {
        "term": "Periodic rate",
        "definition": "The loan interest rate applicable to each payment period; APR divided by number of periods per year."
      },
      {
        "term": "Present value of balloon",
        "definition": "The current value of the future balloon payment discounted at the periodic rate to the present."
      },
      {
        "term": "Effective APR (estimate)",
        "definition": "An estimate of the annualized effective interest considering the periodic rate: (1 + r_period)^{periods_per_year} - 1."
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov/standards",
        "label": "NIST standards",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/standards.html",
        "label": "ISO standards",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://standards.ieee.org/standard/754-2019.html",
        "label": "IEEE 754 floating point standard",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialProduct"
    ]
  }
}