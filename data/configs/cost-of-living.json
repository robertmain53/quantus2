{
  "version": "1.0.0",
  "metadata": {
    "title": "Cost of Living Calculator (Advanced)",
    "description": "Compare cost of living between locations, estimate the equivalent salary required in a target location, and produce a living-wage style estimate. Multiple methods let you use a simple index ratio or a budget-weighted approach; includes inflation and tax adjustments."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "city_comparison",
    "methods": {
      "city_comparison": {
        "label": "City-to-City Salary Equivalent",
        "description": "Estimate the gross salary you would need in a target location to maintain your current standard of living, using cost indices and optional inflation and tax adjustments.",
        "variables": {
          "cost_ratio": {
            "expression": "target_city_index / current_city_index",
            "dependencies": [
              "target_city_index",
              "current_city_index"
            ],
            "label": "Target-to-current cost index ratio",
            "format": "decimal",
            "display": true
          },
          "inflation_multiplier": {
            "expression": "(1 + inflation_rate_pct/100) ** years",
            "dependencies": [
              "inflation_rate_pct",
              "years"
            ],
            "label": "Inflation multiplier over timeframe",
            "format": "decimal",
            "display": false
          },
          "nominal_required_salary": {
            "expression": "current_salary * cost_ratio * inflation_multiplier",
            "dependencies": [
              "current_salary",
              "cost_ratio",
              "inflation_multiplier"
            ],
            "label": "Estimated required salary (nominal, before tax adjustment)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "required_gross_salary": {
            "expression": "nominal_required_salary / (1 - tax_rate_pct/100)",
            "dependencies": [
              "nominal_required_salary",
              "tax_rate_pct"
            ],
            "label": "Estimated required gross salary in target location",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "required_gross_salary",
            "label": "Estimated required gross salary (target)",
            "variable": "required_gross_salary",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "nominal_required_salary",
            "label": "Estimated required salary (nominal, before tax)",
            "variable": "nominal_required_salary",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "cost_ratio",
            "label": "Target / Current cost index",
            "variable": "cost_ratio",
            "format": "decimal"
          }
        ]
      },
      "budget_weighted": {
        "label": "Budget-weighted Salary Equivalent",
        "description": "Use category-specific cost multipliers and your household budget shares to produce a more tailored estimate when certain expense categories (housing, food, transport, other) diverge from the overall index.",
        "variables": {
          "inflation_multiplier": {
            "expression": "(1 + inflation_rate_pct/100) ** years",
            "dependencies": [
              "inflation_rate_pct",
              "years"
            ],
            "label": "Inflation multiplier over timeframe",
            "format": "decimal",
            "display": false
          },
          "weighted_multiplier": {
            "expression": "(housing_share_pct/100)*housing_multiplier + (transport_share_pct/100)*transport_multiplier + (food_share_pct/100)*food_multiplier + (other_share_pct/100)*other_multiplier",
            "dependencies": [
              "housing_share_pct",
              "transport_share_pct",
              "food_share_pct",
              "other_share_pct",
              "housing_multiplier",
              "transport_multiplier",
              "food_multiplier",
              "other_multiplier"
            ],
            "label": "Budget-weighted cost multiplier",
            "format": "decimal",
            "display": true
          },
          "nominal_required_salary": {
            "expression": "current_salary * weighted_multiplier * inflation_multiplier",
            "dependencies": [
              "current_salary",
              "weighted_multiplier",
              "inflation_multiplier"
            ],
            "label": "Estimated required salary (nominal, budget-weighted)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "required_gross_salary": {
            "expression": "nominal_required_salary / (1 - tax_rate_pct/100)",
            "dependencies": [
              "nominal_required_salary",
              "tax_rate_pct"
            ],
            "label": "Estimated required gross salary in target location (budget-weighted)",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "required_gross_salary",
            "label": "Estimated required gross salary (budget-weighted)",
            "variable": "required_gross_salary",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "weighted_multiplier",
            "label": "Budget-weighted multiplier",
            "variable": "weighted_multiplier",
            "format": "decimal"
          }
        ]
      },
      "living_wage_estimate": {
        "label": "Living-Wage Style Estimate",
        "description": "Produce a basic living-wage style annual amount per household member based on current spending scaled to the target location. This is an estimate for planning, not a legally binding wage determination.",
        "variables": {
          "per_person_monthly": {
            "expression": "(current_salary / 12) * (target_city_index / current_city_index) / household_size",
            "dependencies": [
              "current_salary",
              "target_city_index",
              "current_city_index",
              "household_size"
            ],
            "label": "Estimated monthly spending per household member (target location)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "inflation_multiplier": {
            "expression": "(1 + inflation_rate_pct/100) ** years",
            "dependencies": [
              "inflation_rate_pct",
              "years"
            ],
            "label": "Inflation multiplier over timeframe",
            "format": "decimal",
            "display": false
          },
          "annual_living_wage_per_person": {
            "expression": "per_person_monthly * 12 * inflation_multiplier",
            "dependencies": [
              "per_person_monthly",
              "inflation_multiplier"
            ],
            "label": "Estimated annual living-wage style amount per person (target)",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "annual_living_wage_per_person",
            "label": "Estimated annual living-wage style amount per person",
            "variable": "annual_living_wage_per_person",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "per_person_monthly",
            "label": "Estimated monthly spending per person (target)",
            "variable": "per_person_monthly",
            "unit": "USD",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "current_salary",
        "label": "Your current gross annual salary (local currency)",
        "type": "number",
        "default": 60000,
        "min": 0,
        "step": 100
      },
      {
        "id": "current_city_index",
        "label": "Current location cost index (baseline = 100)",
        "type": "number",
        "default": 100,
        "min": 1,
        "step": 0.1
      },
      {
        "id": "target_city_index",
        "label": "Target location cost index (baseline = 100)",
        "type": "number",
        "default": 120,
        "min": 1,
        "step": 0.1
      },
      {
        "id": "inflation_rate_pct",
        "label": "Expected annual inflation (%)",
        "type": "number",
        "default": 2,
        "min": 0,
        "step": 0.1
      },
      {
        "id": "years",
        "label": "Years until move or planning horizon",
        "type": "integer",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "tax_rate_pct",
        "label": "Approximate combined tax rate on wages (%)",
        "type": "number",
        "default": 20,
        "min": 0,
        "max": 100,
        "step": 0.1
      },
      {
        "id": "housing_share_pct",
        "label": "Housing share of your budget (%)",
        "type": "number",
        "default": 30,
        "min": 0,
        "max": 100,
        "step": 1
      },
      {
        "id": "transport_share_pct",
        "label": "Transport share of your budget (%)",
        "type": "number",
        "default": 10,
        "min": 0,
        "max": 100,
        "step": 1
      },
      {
        "id": "food_share_pct",
        "label": "Food share of your budget (%)",
        "type": "number",
        "default": 15,
        "min": 0,
        "max": 100,
        "step": 1
      },
      {
        "id": "other_share_pct",
        "label": "Other expenses share of your budget (%)",
        "type": "number",
        "default": 45,
        "min": 0,
        "max": 100,
        "step": 1
      },
      {
        "id": "household_size",
        "label": "Number of people in household",
        "type": "integer",
        "default": 1,
        "min": 1,
        "step": 1
      },
      {
        "id": "housing_multiplier",
        "label": "Target vs current multiplier for housing costs (use 1 if unknown)",
        "type": "number",
        "default": 1.2,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "transport_multiplier",
        "label": "Target vs current multiplier for transport costs (use 1 if unknown)",
        "type": "number",
        "default": 1.0,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "food_multiplier",
        "label": "Target vs current multiplier for food costs (use 1 if unknown)",
        "type": "number",
        "default": 1.1,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "other_multiplier",
        "label": "Target vs current multiplier for other costs (use 1 if unknown)",
        "type": "number",
        "default": 1.05,
        "min": 0,
        "step": 0.01
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator helps you estimate how much salary you would need in a different location to maintain your current standard of living. It supports both a straightforward index-ratio method and a budget-weighted method that adjusts for differences in housing, transport, food, and other expenses.",
      "Use the inflation and timeframe fields to project forward, and include an approximate tax rate to convert nominal estimates into a gross salary requirement. Results are planning estimates, not legal or tax advice."
    ],
    "methodology": [
      "The tool uses location cost indices as the primary scaler. A cost index is a relative number (baseline 100) that summarizes typical local prices across representative spending categories. Where available, use published indices from national statistics offices or reputable economic research sources.",
      "For higher fidelity, the budget-weighted method applies category-specific multipliers to reflect that housing, food, and transport can change at different rates than the overall index. The living-wage style estimate divides scaled household spending by household size to provide a per-person annual figure.",
      "This implementation follows software and data handling best practices drawn from NIST and ISO guidance for data integrity and system reliability, and applies engineering quality principles consistent with IEEE recommendations for numerical software. Results are estimates and should be validated against local official sources for compliance or formal decision-making."
    ],
    "how_is_calculated": [
      "City-to-City Salary Equivalent: 1) compute cost_ratio = target_city_index / current_city_index; 2) apply inflation_multiplier = (1 + inflation_rate%)^years; 3) nominal_required_salary = current_salary * cost_ratio * inflation_multiplier; 4) required_gross_salary = nominal_required_salary / (1 - tax_rate%).",
      "Budget-weighted method: 1) form a weighted_multiplier from budget shares and category multipliers; 2) nominal_required_salary = current_salary * weighted_multiplier * inflation_multiplier; 3) adjust for taxes as above.",
      "Living-wage style estimate: scale current per-person spending to the target location using the index ratio, adjust for inflation, and annualize."
    ],
    "examples": [
      "If you earn 60,000 locally, your current city index is 100 and the target city is 120, with zero planning years and a 20% tax rate: cost_ratio=1.2, nominal_required=72,000, required_grossâ‰ˆ90,000.",
      "If housing in the target city is much higher relative to other categories, increase the housing_multiplier and use the budget-weighted method to reflect that your housing-driven budget will require a larger salary uplift than the simple index implies."
    ],
    "faqs": [
      {
        "question": "Are these numbers exact or guaranteed?",
        "answer": "No. Outputs are estimates based on inputs and the chosen method. Local taxes, benefits, one-time relocation costs, insurance, and non-standard compensation are not fully modeled. Use figures for planning and verify with local data."
      },
      {
        "question": "Where should I get the cost index values?",
        "answer": "Use official national or regional consumer price indices, city cost-of-living indices from reputable research institutions, or published salary-adjustment indices. The tool expects relative indices where 100 is a baseline."
      },
      {
        "question": "Does the calculator account for income taxes and social contributions?",
        "answer": "You provide an approximate combined tax rate to convert nominal required salary into a gross salary estimate. This is a simplified approach and does not replace detailed tax calculations or professional tax advice."
      },
      {
        "question": "Can I model inflation over time?",
        "answer": "Yes. The inflation field and years let you project a multiplier of (1 + inflation_rate)^(years). For long horizons, consider using scenario ranges because inflation rates vary."
      },
      {
        "question": "Is this a living wage determination?",
        "answer": "No. The living-wage style estimate is a planning metric that scales observable spending. Formal living wage determinations require detailed local cost studies and legal definitions."
      }
    ],
    "citations": [
      {
        "label": "NIST - Frameworks and guidance for system and data integrity",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO/IEC standards for information security management (ISO 27001)",
        "url": "https://www.iso.org/isoiec-27001-information-security.html"
      },
      {
        "label": "IEEE guidance for software and numerical methods quality",
        "url": "https://www.ieee.org"
      },
      {
        "label": "Bureau of Labor Statistics - Consumer Price Index and regional price parities (example source for indices)",
        "url": "https://www.bls.gov"
      },
      {
        "label": "OECD - Price level and purchasing power parity reference data",
        "url": "https://www.oecd.org"
      }
    ],
    "glossary": [
      {
        "term": "Cost index",
        "definition": "A relative measure (baseline 100) representing the general price level in a location compared to a reference. Used to scale incomes and expenses between locations."
      },
      {
        "term": "Cost ratio",
        "definition": "The quotient target_city_index / current_city_index indicating how much more or less expensive the target location is relative to the current location."
      },
      {
        "term": "Inflation multiplier",
        "definition": "The factor (1 + inflation_rate) ^ years used to project nominal amounts forward over a number of years."
      },
      {
        "term": "Nominal vs gross salary",
        "definition": "Nominal required salary is the pre-tax amount estimated to match spending. Gross salary here refers to the pre-tax salary the employer would need to pay to yield that nominal amount after taxes are considered."
      }
    ]
  }
}