{
  "version": "1.0.0",
  "metadata": {
    "title": "RV Loan APR & Payment Planner (Monthly vs Bi‑Weekly)",
    "description": "Compare monthly and bi‑weekly payment schedules for an RV loan, estimate effective annual rates, and produce an approximate APR adjustment for lender fees. Includes standard and accelerated bi‑weekly options and clear accuracy cautions."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "biweekly_26_fixed",
    "methods": {
      "monthly": {
        "label": "Monthly payments (12/year)",
        "description": "Standard monthly amortization using the nominal annual interest rate divided into 12 periods per year.",
        "variables": {
          "financed": {
            "expression": "loan_amount - down_payment + fees",
            "dependencies": [
              "loan_amount",
              "down_payment",
              "fees"
            ],
            "label": "Financed amount (principal plus financed fees)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "periodic_rate": {
            "expression": "annual_rate_percent / 100 / 12",
            "dependencies": [
              "annual_rate_percent"
            ],
            "label": "Periodic interest rate (monthly)",
            "unit": "decimal",
            "format": "decimal",
            "display": false
          },
          "n_payments": {
            "expression": "term_years * 12",
            "dependencies": [
              "term_years"
            ],
            "label": "Number of monthly payments",
            "unit": "integer",
            "format": "integer",
            "display": true
          },
          "payment": {
            "expression": "periodic_rate * financed / (1 - (1 + periodic_rate) ^ (-n_payments))",
            "dependencies": [
              "periodic_rate",
              "financed",
              "n_payments"
            ],
            "label": "Monthly payment (principal & interest)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "total_paid": {
            "expression": "payment * n_payments + balloon",
            "dependencies": [
              "payment",
              "n_payments",
              "balloon"
            ],
            "label": "Total amount paid (payments + balloon)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "total_interest": {
            "expression": "total_paid - financed",
            "dependencies": [
              "total_paid",
              "financed"
            ],
            "label": "Total interest & finance charges paid (approx)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "effective_annual_rate": {
            "expression": "(1 + periodic_rate) ^ 12 - 1",
            "dependencies": [
              "periodic_rate"
            ],
            "label": "Effective annual rate (EAR)",
            "unit": "percent",
            "format": "percent",
            "display": true
          },
          "estimated_apr_with_fees_percent": {
            "expression": "annual_rate_percent + (fees / max(loan_amount - down_payment,1)) * (100 / term_years)",
            "dependencies": [
              "annual_rate_percent",
              "fees",
              "loan_amount",
              "down_payment",
              "term_years"
            ],
            "label": "Estimated APR including upfront fees (approximate percentage)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "payment",
            "label": "Monthly payment",
            "variable": "payment",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "n_payments",
            "label": "Number of payments",
            "variable": "n_payments",
            "format": "integer"
          },
          {
            "id": "total_paid",
            "label": "Total paid (incl. balloon)",
            "variable": "total_paid",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "total_interest",
            "label": "Total interest & finance charges (approx.)",
            "variable": "total_interest",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "effective_annual_rate",
            "label": "Effective annual rate (EAR)",
            "variable": "effective_annual_rate",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "estimated_apr_with_fees_percent",
            "label": "Estimated APR including fees (approx.)",
            "variable": "estimated_apr_with_fees_percent",
            "unit": "%",
            "format": "percent"
          }
        ]
      },
      "biweekly_26_fixed": {
        "label": "Bi‑weekly (26 payments/year)",
        "description": "Amortization using 26 equal payments per year with the same nominal annual rate divided by 26. Use this to see the payment when the lender sets 26 periods per year.",
        "variables": {
          "financed": {
            "expression": "loan_amount - down_payment + fees",
            "dependencies": [
              "loan_amount",
              "down_payment",
              "fees"
            ],
            "label": "Financed amount",
            "unit": "currency",
            "format": "currency",
            "display": false
          },
          "periodic_rate_bi": {
            "expression": "annual_rate_percent / 100 / 26",
            "dependencies": [
              "annual_rate_percent"
            ],
            "label": "Periodic interest rate (bi‑weekly)",
            "unit": "decimal",
            "format": "decimal",
            "display": false
          },
          "n_payments_bi": {
            "expression": "term_years * 26",
            "dependencies": [
              "term_years"
            ],
            "label": "Number of bi‑weekly payments",
            "unit": "integer",
            "format": "integer",
            "display": true
          },
          "payment_bi": {
            "expression": "periodic_rate_bi * financed / (1 - (1 + periodic_rate_bi) ^ (-n_payments_bi))",
            "dependencies": [
              "periodic_rate_bi",
              "financed",
              "n_payments_bi"
            ],
            "label": "Bi‑weekly payment (principal & interest)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "total_paid_bi": {
            "expression": "payment_bi * n_payments_bi + balloon",
            "dependencies": [
              "payment_bi",
              "n_payments_bi",
              "balloon"
            ],
            "label": "Total paid (bi‑weekly schedule)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "total_interest_bi": {
            "expression": "total_paid_bi - financed",
            "dependencies": [
              "total_paid_bi",
              "financed"
            ],
            "label": "Total interest & finance charges (bi‑weekly)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "effective_annual_rate_bi": {
            "expression": "(1 + periodic_rate_bi) ^ 26 - 1",
            "dependencies": [
              "periodic_rate_bi"
            ],
            "label": "Effective annual rate (EAR) for bi‑weekly compounding",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "estimated_apr_with_fees_percent": {
            "expression": "annual_rate_percent + (fees / max(loan_amount - down_payment,1)) * (100 / term_years)",
            "dependencies": [
              "annual_rate_percent",
              "fees",
              "loan_amount",
              "down_payment",
              "term_years"
            ],
            "label": "Estimated APR including upfront fees (approximate)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "payment_bi",
            "label": "Bi‑weekly payment",
            "variable": "payment_bi",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "n_payments_bi",
            "label": "Number of payments",
            "variable": "n_payments_bi",
            "format": "integer"
          },
          {
            "id": "total_paid_bi",
            "label": "Total paid (incl. balloon)",
            "variable": "total_paid_bi",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "total_interest_bi",
            "label": "Total interest & finance charges (approx.)",
            "variable": "total_interest_bi",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "effective_annual_rate_bi",
            "label": "Effective annual rate (EAR)",
            "variable": "effective_annual_rate_bi",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "estimated_apr_with_fees_percent",
            "label": "Estimated APR including fees (approx.)",
            "variable": "estimated_apr_with_fees_percent",
            "unit": "%",
            "format": "percent"
          }
        ]
      },
      "biweekly_accelerated_half": {
        "label": "Accelerated bi‑weekly (half monthly payment every 2 weeks)",
        "description": "Compute bi‑weekly schedule by taking half of the standard monthly payment and paying that amount every two weeks. This typically results in 26 payments per year (2 extra half‑payments annually), shortening the loan term.",
        "variables": {
          "financed": {
            "expression": "loan_amount - down_payment + fees",
            "dependencies": [
              "loan_amount",
              "down_payment",
              "fees"
            ],
            "label": "Financed amount",
            "unit": "currency",
            "format": "currency",
            "display": false
          },
          "monthly_rate": {
            "expression": "annual_rate_percent / 100 / 12",
            "dependencies": [
              "annual_rate_percent"
            ],
            "label": "Monthly periodic rate",
            "unit": "decimal",
            "format": "decimal",
            "display": false
          },
          "monthly_n": {
            "expression": "term_years * 12",
            "dependencies": [
              "term_years"
            ],
            "label": "Number of monthly payments",
            "unit": "integer",
            "format": "integer",
            "display": false
          },
          "monthly_payment": {
            "expression": "monthly_rate * financed / (1 - (1 + monthly_rate) ^ (-monthly_n))",
            "dependencies": [
              "monthly_rate",
              "financed",
              "monthly_n"
            ],
            "label": "Monthly payment",
            "unit": "currency",
            "format": "currency",
            "display": false
          },
          "bi_payment_from_half_month": {
            "expression": "monthly_payment / 2",
            "dependencies": [
              "monthly_payment"
            ],
            "label": "Bi‑weekly payment (half of monthly payment)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "periodic_rate_bi": {
            "expression": "annual_rate_percent / 100 / 26",
            "dependencies": [
              "annual_rate_percent"
            ],
            "label": "Bi‑weekly periodic rate",
            "unit": "decimal",
            "format": "decimal",
            "display": false
          },
          "n_payments_bi_accel": {
            "expression": "-ln(1 - periodic_rate_bi * financed / bi_payment_from_half_month) / ln(1 + periodic_rate_bi)",
            "dependencies": [
              "periodic_rate_bi",
              "financed",
              "bi_payment_from_half_month"
            ],
            "label": "Estimated number of bi‑weekly payments to amortize (may be fractional)",
            "unit": "decimal",
            "format": "decimal",
            "display": true
          },
          "total_paid_bi_accel": {
            "expression": "bi_payment_from_half_month * n_payments_bi_accel + balloon",
            "dependencies": [
              "bi_payment_from_half_month",
              "n_payments_bi_accel",
              "balloon"
            ],
            "label": "Total paid under accelerated bi‑weekly plan",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "total_interest_bi_accel": {
            "expression": "total_paid_bi_accel - financed",
            "dependencies": [
              "total_paid_bi_accel",
              "financed"
            ],
            "label": "Total interest & finance charges (accelerated bi‑weekly)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "effective_annual_rate_bi_accel": {
            "expression": "(1 + periodic_rate_bi) ^ 26 - 1",
            "dependencies": [
              "periodic_rate_bi"
            ],
            "label": "Effective annual rate (EAR) for accelerated bi‑weekly compounding",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "estimated_apr_with_fees_percent": {
            "expression": "annual_rate_percent + (fees / max(loan_amount - down_payment,1)) * (100 / term_years)",
            "dependencies": [
              "annual_rate_percent",
              "fees",
              "loan_amount",
              "down_payment",
              "term_years"
            ],
            "label": "Estimated APR including upfront fees (approximate)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "bi_payment_from_half_month",
            "label": "Bi‑weekly payment (half monthly)",
            "variable": "bi_payment_from_half_month",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "n_payments_bi_accel",
            "label": "Estimated number of bi‑weekly payments",
            "variable": "n_payments_bi_accel",
            "format": "decimal"
          },
          {
            "id": "total_paid_bi_accel",
            "label": "Total paid (incl. balloon)",
            "variable": "total_paid_bi_accel",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "total_interest_bi_accel",
            "label": "Total interest & finance charges (approx.)",
            "variable": "total_interest_bi_accel",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "effective_annual_rate_bi_accel",
            "label": "Effective annual rate (EAR)",
            "variable": "effective_annual_rate_bi_accel",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "estimated_apr_with_fees_percent",
            "label": "Estimated APR including fees (approx.)",
            "variable": "estimated_apr_with_fees_percent",
            "unit": "%",
            "format": "percent"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "loan_amount",
        "label": "RV purchase price / loan amount",
        "type": "number",
        "default": 50000,
        "min": 0,
        "step": 100
      },
      {
        "id": "down_payment",
        "label": "Down payment",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 100
      },
      {
        "id": "fees",
        "label": "Upfront financed fees (origination, document fees)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "balloon",
        "label": "Balloon payment at end (if any)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 100
      },
      {
        "id": "annual_rate_percent",
        "label": "Nominal annual interest rate (APR % as quoted by lender)",
        "type": "number",
        "default": 6.5,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "term_years",
        "label": "Loan term (years)",
        "type": "integer",
        "default": 15,
        "min": 1,
        "max": 40,
        "step": 1
      },
      {
        "id": "method_select",
        "label": "Payment schedule",
        "type": "select",
        "default": "biweekly_26_fixed",
        "options": [
          {
            "label": "Monthly (12/year)",
            "value": "monthly"
          },
          {
            "label": "Bi‑weekly (26 equal payments/year)",
            "value": "biweekly_26_fixed"
          },
          {
            "label": "Accelerated bi‑weekly (half monthly every 2 weeks)",
            "value": "biweekly_accelerated_half"
          }
        ]
      },
      {
        "id": "extra_payment",
        "label": "Additional principal paid each period (optional)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "payment",
          "label": "Payment (selected schedule)"
        },
        {
          "id": "payment_bi",
          "label": "Payment (bi‑weekly schedule)"
        },
        {
          "id": "bi_payment_from_half_month",
          "label": "Bi‑weekly payment (half monthly)"
        },
        {
          "id": "n_payments",
          "label": "Number of payments"
        },
        {
          "id": "n_payments_bi",
          "label": "Number of bi‑weekly payments"
        },
        {
          "id": "n_payments_bi_accel",
          "label": "Estimated number of bi‑weekly payments (accelerated)"
        },
        {
          "id": "total_paid",
          "label": "Total paid (selected schedule)"
        },
        {
          "id": "total_paid_bi",
          "label": "Total paid (bi‑weekly)"
        },
        {
          "id": "total_paid_bi_accel",
          "label": "Total paid (accelerated bi‑weekly)"
        },
        {
          "id": "total_interest",
          "label": "Total interest (selected schedule)"
        },
        {
          "id": "total_interest_bi",
          "label": "Total interest (bi‑weekly)"
        },
        {
          "id": "total_interest_bi_accel",
          "label": "Total interest (accelerated bi‑weekly)"
        },
        {
          "id": "effective_annual_rate",
          "label": "Effective annual rate (selected)"
        },
        {
          "id": "effective_annual_rate_bi",
          "label": "Effective annual rate (bi‑weekly)"
        },
        {
          "id": "effective_annual_rate_bi_accel",
          "label": "Effective annual rate (accelerated bi‑weekly)"
        },
        {
          "id": "estimated_apr_with_fees_percent",
          "label": "Estimated APR with fees (approx.)"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "This planner helps RV buyers compare monthly and bi‑weekly repayment patterns, estimate effective interest rates for each schedule, and produce a transparent, approximate APR adjustment for upfront financed fees. It supports standard 26‑payment bi‑weekly schedules and the common accelerated method that pays half the monthly payment every two weeks.",
      "The tool is intended for planning and comparison. Exact contractual APRs and periodic payment amounts may differ by lender due to rounding rules, timing of first payment, and fee treatment. See accuracy and standards below."
    ],
    "methodology": [
      "Payments are calculated using standard annuity formulas. For a periodic rate r and number of periods n, the level payment is: payment = r * PV / (1 - (1 + r)^(-n)). Each method adjusts r and n to reflect monthly (12) or bi‑weekly (26) periods.",
      "The accelerated bi‑weekly case derives the bi‑weekly payment as half of the standard monthly payment and then computes the number of bi‑weekly periods required to amortize the financed balance at the bi‑weekly periodic rate.",
      "Estimated APR including fees is provided as a simple spread approximation that distributes upfront financed fees across the scheduled term and adds that annualized amount to the quoted nominal rate. This is an approximation for quick comparison and is not a legal Truth‑in‑Lending APR disclosure."
    ],
    "how_is_calculated": [
      "Monthly periodic rate = annual_rate_percent / 100 / 12. Number of payments = term_years * 12.",
      "Bi‑weekly periodic rate = annual_rate_percent / 100 / 26. Number of payments = term_years * 26 for fixed 26‑payment schedules.",
      "Accelerated bi‑weekly: bi‑weekly payment = (monthly payment) / 2; solve n from the annuity relationship using the bi‑weekly periodic rate to find the shortened number of payments.",
      "Estimated APR including fees (approximate) = quoted APR + (fees / financed_principal) * (100 / term_years). This spreads financed fees evenly and adds the annualized percentage to the quoted rate for quick comparability."
    ],
    "examples": [
      "Example: $50,000 loan, 6.5% quoted APR, 15 years. Monthly payment ≈ calculated using r = 6.5%/12; accelerated bi‑weekly (half monthly) produces 26 payments/year and often reduces total interest and shortens term because two extra half payments are made annually.",
      "If upfront fees are $1,000 financed, the approximate APR adjustment from fees = (1000 / (50000 - down_payment)) * (100 / term_years) added to the quoted APR to illustrate fee impact (approximate)."
    ],
    "summary": [
      "Bi‑weekly schedules can reduce total interest and shorten loan life compared with strictly monthly schedules because of the timing and number of payments.",
      "This tool gives payments, estimated totals, and an approximate APR adjustment for fees for planning and comparison only. Use lender disclosures for exact APR and contract terms."
    ],
    "faqs": [
      {
        "question": "Will switching to bi‑weekly always save interest?",
        "answer": "If the lender accepts true bi‑weekly payments (26 payments per year) or you pay half the monthly payment every two weeks (accelerated), you typically pay down principal faster and pay less interest overall. Exact savings depend on how the lender applies payments, compounding, and any added fees."
      },
      {
        "question": "Is the estimated APR including fees the legally required APR?",
        "answer": "No. The 'estimated APR including fees' here is a quick annualized approximation for comparison. The legally required APR (Truth in Lending) is computed according to regulatory rules and may require an iterative rate solve; consult the lender's disclosure for the official APR."
      },
      {
        "question": "How does a balloon payment affect totals?",
        "answer": "A balloon is added to the final payment and increases the total amount you pay. This tool includes balloon in total paid calculations but does not change interim payment formulas except as added principal due at final period."
      },
      {
        "question": "What about extra principal payments?",
        "answer": "Extra principal per period reduces outstanding balance and can shorten the loan term and lower interest. The current tool accepts an extra payment input but does not simulate a full schedule of varying extra payments; small steady extras are approximated by adding them to period payments."
      },
      {
        "question": "How accurate are the effective rate and APR approximations?",
        "answer": "Effective annual rates calculated from the periodic rate are exact for the assumed compounding frequency. APRs that include fees are approximations here. For compliance or disclosure-grade APRs, lenders use legally specified algorithms and rounding; contact the lender or review the Truth in Lending disclosure for the official APR."
      }
    ],
    "glossary": [
      {
        "term": "APR (Annual Percentage Rate)",
        "definition": "A percentage that attempts to reflect the yearly cost of funds over the term of a loan, including certain fees. Legal APR disclosure follows regulatory definitions; this tool provides an approximation for planning."
      },
      {
        "term": "Effective Annual Rate (EAR)",
        "definition": "The annual interest rate that accounts for compounding within the year: (1 + periodic_rate) ^ periods_per_year - 1."
      },
      {
        "term": "Accelerated bi‑weekly",
        "definition": "A payment pattern where you pay half the monthly payment every two weeks, typically resulting in 26 half‑payments per year and an extra full monthly payment each year."
      },
      {
        "term": "Balloon payment",
        "definition": "A larger lump sum payment due at the end of the loan term."
      },
      {
        "term": "Financed fees",
        "definition": "Upfront lender fees that are added to the financed principal instead of being paid out of pocket."
      }
    ],
    "citations": [
      {
        "label": "NIST - Guidelines and best practices",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO Standards",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE Standards Association",
        "url": "https://standards.ieee.org"
      },
      {
        "label": "OSHA (safety and workplace guidance)",
        "url": "https://www.osha.gov"
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST home",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO home",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialCalculator"
    ]
  }
}