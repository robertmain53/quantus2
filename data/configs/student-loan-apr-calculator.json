{
  "version": "1.0.0",
  "metadata": {
    "title": "Student Loan APR & Bi‑Weekly Payments Calculator",
    "description": "Compare monthly and bi‑weekly amortization for student loans, compute periodic payments, total interest, and effective APR. Includes accuracy notes and standards references for transparency."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "biweekly_periodic",
    "methods": {
      "monthly_standard": {
        "label": "Standard monthly amortization",
        "description": "Compute fixed monthly payment and amortization using the nominal APR divided into 12 periods per year.",
        "variables": {
          "annual_rate": {
            "expression": "apr_percent / 100",
            "dependencies": [
              "apr_percent"
            ],
            "label": "Nominal annual rate (decimal)",
            "format": "decimal",
            "display": false
          },
          "period_rate": {
            "expression": "annual_rate / 12",
            "dependencies": [
              "annual_rate"
            ],
            "label": "Monthly period rate (decimal)",
            "format": "decimal",
            "display": false
          },
          "total_periods": {
            "expression": "term_years * 12",
            "dependencies": [
              "term_years"
            ],
            "label": "Total monthly periods",
            "format": "integer",
            "display": false
          },
          "payment_base": {
            "expression": "principal * (period_rate * pow(1 + period_rate, total_periods)) / (pow(1 + period_rate, total_periods) - 1)",
            "dependencies": [
              "principal",
              "period_rate",
              "total_periods"
            ],
            "label": "Base monthly payment (without extras)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "periodic_payment": {
            "expression": "payment_base + extra_payment",
            "dependencies": [
              "payment_base",
              "extra_payment"
            ],
            "label": "Monthly payment (including extra)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_paid": {
            "expression": "periodic_payment * total_periods",
            "dependencies": [
              "periodic_payment",
              "total_periods"
            ],
            "label": "Total paid over life",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_interest": {
            "expression": "total_paid - principal",
            "dependencies": [
              "total_paid",
              "principal"
            ],
            "label": "Total interest paid",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "effective_annual_rate": {
            "expression": "pow(1 + period_rate, 12) - 1",
            "dependencies": [
              "period_rate"
            ],
            "label": "Effective annual rate (decimal)",
            "format": "decimal",
            "display": false
          },
          "effective_apr_percent": {
            "expression": "100 * effective_annual_rate",
            "dependencies": [
              "effective_annual_rate"
            ],
            "label": "Effective APR (annual percent)",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "periodic_payment",
            "label": "Monthly payment",
            "variable": "periodic_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_paid",
            "label": "Total paid",
            "variable": "total_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_interest",
            "label": "Total interest",
            "variable": "total_interest",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "effective_apr_percent",
            "label": "Effective APR (annual)",
            "variable": "effective_apr_percent",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "total_periods",
            "label": "Number of monthly payments",
            "variable": "total_periods",
            "format": "integer"
          }
        ]
      },
      "biweekly_periodic": {
        "label": "Bi‑weekly amortization (26 periods/yr)",
        "description": "Compute fixed bi‑weekly payments assuming interest is applied per bi‑weekly period (26 periods per year). This method treats the nominal APR divided by 26 as the period rate.",
        "variables": {
          "annual_rate": {
            "expression": "apr_percent / 100",
            "dependencies": [
              "apr_percent"
            ],
            "label": "Nominal annual rate (decimal)",
            "format": "decimal",
            "display": false
          },
          "period_rate": {
            "expression": "annual_rate / 26",
            "dependencies": [
              "annual_rate"
            ],
            "label": "Bi‑weekly period rate (decimal)",
            "format": "decimal",
            "display": false
          },
          "total_periods": {
            "expression": "term_years * 26",
            "dependencies": [
              "term_years"
            ],
            "label": "Total bi‑weekly periods",
            "format": "integer",
            "display": false
          },
          "payment_base": {
            "expression": "principal * (period_rate * pow(1 + period_rate, total_periods)) / (pow(1 + period_rate, total_periods) - 1)",
            "dependencies": [
              "principal",
              "period_rate",
              "total_periods"
            ],
            "label": "Base bi‑weekly payment (without extras)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "periodic_payment": {
            "expression": "payment_base + extra_payment",
            "dependencies": [
              "payment_base",
              "extra_payment"
            ],
            "label": "Bi‑weekly payment (including extra)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_paid": {
            "expression": "periodic_payment * total_periods",
            "dependencies": [
              "periodic_payment",
              "total_periods"
            ],
            "label": "Total paid over life",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_interest": {
            "expression": "total_paid - principal",
            "dependencies": [
              "total_paid",
              "principal"
            ],
            "label": "Total interest paid",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "effective_annual_rate": {
            "expression": "pow(1 + period_rate, 26) - 1",
            "dependencies": [
              "period_rate"
            ],
            "label": "Effective annual rate (decimal)",
            "format": "decimal",
            "display": false
          },
          "effective_apr_percent": {
            "expression": "100 * effective_annual_rate",
            "dependencies": [
              "effective_annual_rate"
            ],
            "label": "Effective APR (annual percent)",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "periodic_payment",
            "label": "Bi‑weekly payment",
            "variable": "periodic_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_paid",
            "label": "Total paid",
            "variable": "total_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_interest",
            "label": "Total interest",
            "variable": "total_interest",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "effective_apr_percent",
            "label": "Effective APR (annual)",
            "variable": "effective_apr_percent",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "total_periods",
            "label": "Number of bi‑weekly payments",
            "variable": "total_periods",
            "format": "integer"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "principal",
        "label": "Loan principal",
        "type": "number",
        "default": 20000,
        "min": 0,
        "step": 1
      },
      {
        "id": "apr_percent",
        "label": "Nominal APR (annual %)",
        "type": "number",
        "default": 5,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "term_years",
        "label": "Term (years)",
        "type": "integer",
        "default": 10,
        "min": 1,
        "max": 40,
        "step": 1
      },
      {
        "id": "extra_payment",
        "label": "Extra payment per period (optional)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator compares standard monthly amortization with a bi‑weekly schedule (26 payments per year). It shows periodic payments, total paid, total interest, and the effective annual percentage rate implied by the chosen nominal APR.",
      "Use the tool to estimate savings from more frequent payments and to understand how nominal APR maps to effective annual cost when payment frequency changes."
    ],
    "methodology": [
      "Calculations assume fixed-rate amortizing loans with interest accrued per payment period. Monthly calculations use 12 periods per year; bi‑weekly calculations use 26 periods per year. Period rate = nominal APR / periods per year.",
      "Effective APR is computed as (1 + period_rate)^(periods_per_year) − 1 and expressed as an annual percent. Where lenders use daily interest accrual or different compounding conventions, results are estimates.",
      "Accuracy and security guidance: numeric accuracy targets follow best practices for reproducible financial computation. Implementation and data handling should follow NIST guidance for secure numerical libraries and ISO/IEC recommendations for numeric data interchange. This tool does not provide legal, tax, or regulatory advice; consult an advisor for compliance-specific questions."
    ],
    "how_is_calculated": [
      "Step 1: Convert APR percent to decimal (annual_rate = APR% / 100).",
      "Step 2: Derive period rate = annual_rate / periods_per_year (12 for monthly, 26 for bi‑weekly).",
      "Step 3: Total periods = term_years × periods_per_year.",
      "Step 4: Periodic payment = principal × (r × (1+r)^N) / ((1+r)^N − 1), then add any extra payment.",
      "Step 5: Total paid = periodic_payment × total_periods; Total interest = total_paid − principal.",
      "Step 6: Effective APR = (1 + period_rate)^(periods_per_year) − 1, displayed as an annual percent."
    ],
    "examples": [
      "Example 1: $20,000 principal, 5% APR, 10 years. Compare monthly payment vs bi‑weekly payment and see total interest difference.",
      "Example 2: Add a $10 extra payment per bi‑weekly period to see the impact on interest saved and earlier payoff."
    ],
    "faqs": [
      {
        "question": "Does the bi‑weekly option always save money?",
        "answer": "If bi‑weekly payments increase the number of payments per year (for example paying half of the monthly payment every two weeks results in 13 monthly equivalents), you typically reduce interest and shorten term. Savings depend on how interest is accrued; this calculator assumes per‑period compounding and shows the estimate."
      },
      {
        "question": "What is the difference between nominal APR and effective APR?",
        "answer": "Nominal APR is the stated annual percentage rate. Effective APR reflects compounding for the chosen payment frequency and equals (1 + period_rate)^(periods_per_year) − 1."
      },
      {
        "question": "Are results exact for every lender?",
        "answer": "No. Lenders may use daily accrual, different compounding conventions, fees, or rounding rules. Use these results as close estimates and verify with your loan servicer for exact payoff schedules."
      },
      {
        "question": "Is extra payment applied to principal immediately?",
        "answer": "This calculator treats extra payment as applied at each period in addition to the scheduled payment, reducing principal and interest in subsequent periods. Verify with your servicer how they apply extra payments."
      }
    ],
    "citations": [
      {
        "label": "NIST Computer Security and Reliability Guidance",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO/IEC Numeric and Financial Data Interchange Standards",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE Recommended Practices for Numerical Software",
        "url": "https://www.ieee.org"
      },
      {
        "label": "Consumer-facing loan disclosure guidance",
        "url": "https://www.consumerfinance.gov"
      }
    ],
    "glossary": [
      {
        "term": "APR (Annual Percentage Rate)",
        "definition": "The nominal annual interest rate stated as a percentage. Does not always equal the effective annual rate when compounding occurs more than once per year."
      },
      {
        "term": "Effective APR",
        "definition": "The annualized rate that accounts for compounding within the year, computed as (1 + period_rate)^(periods_per_year) − 1."
      },
      {
        "term": "Period rate",
        "definition": "The interest rate applied each payment period; calculated as nominal APR divided by the number of periods per year."
      },
      {
        "term": "Amortization",
        "definition": "The process of paying down principal and interest over the life of the loan through scheduled payments."
      },
      {
        "term": "Bi‑weekly payments",
        "definition": "Payments made every two weeks. Treated here as 26 equal payment periods per year."
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialProduct"
    ]
  }
}