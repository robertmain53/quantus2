{
  "version": "1.0.0",
  "metadata": {
    "title": "Roof Pitch & Rafter Length Calculator",
    "description": "Compute roof pitch (rise/run and degrees), rafter run length per 12\" and rafter length for a given span. Includes guidance on measurement, safety, and code-relevant references."
  },
  "logic": {
    "type": "formula",
    "outputs": [
      {
        "id": "slope",
        "label": "Slope (rise / run)",
        "expression": "rise_in/run_in",
        "unit": "",
        "format": "decimal"
      },
      {
        "id": "pitch_per_12",
        "label": "Pitch (rise per 12 inches)",
        "expression": "(rise_in/run_in)*12",
        "unit": "inches per 12 inches",
        "format": "decimal"
      },
      {
        "id": "degrees",
        "label": "Slope (degrees)",
        "expression": "atan(rise_in/run_in) * 180 / PI",
        "unit": "degrees",
        "format": "decimal"
      },
      {
        "id": "rafter_per_12_in",
        "label": "Rafter length per 12\" of run (inches)",
        "expression": "sqrt(12*12 + ((rise_in/run_in)*12)*((rise_in/run_in)*12))",
        "unit": "inches",
        "format": "decimal"
      },
      {
        "id": "rafter_length_ft",
        "label": "Rafter length for half-span (feet)",
        "expression": "(((roofSpan_ft*12)/2) * sqrt(1 + (rise_in/run_in)*(rise_in/run_in))) / 12",
        "unit": "feet",
        "format": "decimal"
      }
    ]
  },
  "form": {
    "fields": [
      {
        "id": "rise_in",
        "label": "Vertical rise (inches)",
        "type": "number",
        "default": 6,
        "min": 0,
        "max": 120
      },
      {
        "id": "run_in",
        "label": "Horizontal run (inches)",
        "type": "number",
        "default": 12,
        "min": 1,
        "max": 120
      },
      {
        "id": "roofSpan_ft",
        "label": "Building span (ft) — total width between outside walls",
        "type": "number",
        "default": 20,
        "min": 0,
        "max": 200
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "slope",
          "label": "Slope (rise/run)"
        },
        {
          "id": "pitch_per_12",
          "label": "Pitch (rise per 12\")",
          "unit": "inches per 12 inches",
          "format": "decimal"
        },
        {
          "id": "degrees",
          "label": "Pitch (degrees)",
          "unit": "degrees",
          "format": "decimal"
        },
        {
          "id": "rafter_per_12_in",
          "label": "Rafter length per 12\" run (inches)",
          "unit": "inches",
          "format": "decimal"
        },
        {
          "id": "rafter_length_ft",
          "label": "Estimated rafter length for half-span",
          "unit": "feet",
          "format": "decimal"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "Use this calculator to find roof pitch (rise over run and in degrees), the rafter length per 12\" of horizontal run, and an estimated rafter length for a given building span. It supports common carpentry workflows such as converting measured rise/run to standard 'X in 12' pitch and estimating rafter lengths for cutting.",
      "Results assume simple gable geometry (symmetric roof, practical for single-span gable roofs). For complex roof types (hips, valleys, dormers, compound slopes), consult a structural engineer or your local building code official."
    ],
    "methodology": [
      "Pitch is defined as the vertical rise divided by the horizontal run. Common carpentry convention expresses pitch as inches of rise per 12 inches of run.",
      "This tool uses elementary trigonometry: slope = rise / run; degrees = arctangent(slope) × 180/π. Rafter (hypotenuse) is computed from the Pythagorean theorem.",
      "When estimating rafter length for a given span, the calculator treats the span as the overall building width and uses half the span as the horizontal run for the rafter (common for centered ridge gable roofs). It does not include overhang, birdsmouth cuts, trimming allowance, or plumb-cut allowances—add those per on-site practice."
    ],
    "how_is_calculated": [
      "Slope = rise_in / run_in",
      "Pitch (per 12) = (rise_in / run_in) × 12",
      "Degrees = atan(rise_in / run_in) × 180 / π",
      "Rafter per 12\" = sqrt(12^2 + (pitch_per_12)^2) (inches)",
      "Estimated rafter length for half-span (ft) = ((span_ft × 12) / 2) × sqrt(1 + (rise_in/run_in)^2) ÷ 12"
    ],
    "faqs": [
      {
        "question": "What units should I measure in?",
        "answer": "Measure consistently. This tool accepts rise and run in inches and span in feet. If you measure in metric, convert to inches (1 in = 25.4 mm, 1 ft = 0.3048 m) before entering values or use an internal conversion workflow."
      },
      {
        "question": "How accurate are the rafter length estimates?",
        "answer": "Calculations are mathematically precise for idealized geometry (no overhangs or cut allowances). On-site cutting requires adding allowances for birdsmouth and plumb cuts, and confirming with a framing square. For final cutting, measure and recalibrate on the roof or truss manufacturer data."
      },
      {
        "question": "Can I use this for any roof shape?",
        "answer": "This calculator covers straight (single-pitch) rafters on symmetric gable roofs. For hips, valleys, multi-plane roofs, or engineered trusses, use dedicated design/engineering tools or consult a licensed structural engineer."
      },
      {
        "question": "Is there a safety/regulatory note I should know?",
        "answer": "Follow fall-protection and ladder safety rules when measuring on roofs. OSHA provides guidance for roofing work; consult local building codes for loading, ventilation, and insulation requirements before making structural changes."
      },
      {
        "question": "Why show degrees and rise/run both?",
        "answer": "Carpenters commonly use rise per 12 for layout (framing squares), while architects and solar installers often use degrees. Providing both helps match field tools and technical documentation."
      },
      {
        "question": "How do I calibrate field measurements?",
        "answer": "Confirm your reference plane (true horizontal) with a level. When measuring on an installed roof, measure short, repeatable runs (for example 2–3 ft) to average out local irregularities; use a digital inclinometer for quick degree readings and cross-check with rise/run measurements."
      }
    ],
    "citations": [
      {
        "label": "OSHA — Roofing Safety and Fall Protection",
        "url": "https://www.osha.gov/roofing"
      },
      {
        "label": "International Code Council (building code guidance)",
        "url": "https://www.iccsafe.org"
      },
      {
        "label": "U.S. Department of Energy — Solar Resource & Roof Considerations",
        "url": "https://www.energy.gov/eere/solar/solar-resource"
      },
      {
        "label": "NIST — Reference on units and constants",
        "url": "https://www.nist.gov/pml/weights-and-measures/si-units"
      },
      {
        "label": "MIT OpenCourseWare — Trigonometry & Calculus resources",
        "url": "https://ocw.mit.edu"
      }
    ]
  },
  "links": {
    "internal": [
      "/tools/roofing/ventilation-calculator",
      "/tools/roofing/roof-area-calculator"
    ],
    "external": []
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "Calculation"
    ]
  }
}