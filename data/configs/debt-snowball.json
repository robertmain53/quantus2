{
  "version": "1.0.0",
  "metadata": {
    "title": "Debt Snowball & Avalanche Payoff Calculator (Advanced)",
    "description": "Estimate payoff timeline, total interest, and payment allocation using Debt Snowball (smallest-balance-first) or Debt Avalanche (highest-rate-first) methods. Supports up to six debts and an adjustable extra monthly payment."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "snowball",
    "methods": {
      "snowball": {
        "label": "Debt Snowball (smallest balance first)",
        "description": "Estimates payoff assuming extra payment is applied to the smallest current balance after covering all minimum payments each month. This method approximates the aggregate schedule by treating remaining principal as a single amortizing balance using a weighted monthly rate.",
        "variables": {
          "total_balance": {
            "expression": "debt1_balance + debt2_balance + debt3_balance + debt4_balance + debt5_balance + debt6_balance",
            "dependencies": [
              "debt1_balance",
              "debt2_balance",
              "debt3_balance",
              "debt4_balance",
              "debt5_balance",
              "debt6_balance"
            ],
            "label": "Total outstanding principal",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_min_payments": {
            "expression": "debt1_min_payment + debt2_min_payment + debt3_min_payment + debt4_min_payment + debt5_min_payment + debt6_min_payment",
            "dependencies": [
              "debt1_min_payment",
              "debt2_min_payment",
              "debt3_min_payment",
              "debt4_min_payment",
              "debt5_min_payment",
              "debt6_min_payment"
            ],
            "label": "Sum of minimum payments",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "monthly_payment": {
            "expression": "total_min_payments + extra_monthly_payment",
            "dependencies": [
              "total_min_payments",
              "extra_monthly_payment"
            ],
            "label": "Total monthly payment available",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "r_weighted_monthly": {
            "expression": "((debt1_balance*debt1_rate + debt2_balance*debt2_rate + debt3_balance*debt3_rate + debt4_balance*debt4_rate + debt5_balance*debt5_rate + debt6_balance*debt6_rate) / (total_balance)) / 12 / 100",
            "dependencies": [
              "debt1_balance",
              "debt2_balance",
              "debt3_balance",
              "debt4_balance",
              "debt5_balance",
              "debt6_balance",
              "debt1_rate",
              "debt2_rate",
              "debt3_rate",
              "debt4_rate",
              "debt5_rate",
              "debt6_rate",
              "total_balance"
            ],
            "label": "Weighted monthly interest rate (approx.)",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "estimated_months": {
            "expression": "-log(1 - r_weighted_monthly * total_balance / monthly_payment) / log(1 + r_weighted_monthly)",
            "dependencies": [
              "r_weighted_monthly",
              "total_balance",
              "monthly_payment"
            ],
            "label": "Estimated months to payoff (approx.)",
            "unit": "months",
            "format": "integer",
            "display": true
          },
          "total_paid": {
            "expression": "monthly_payment * estimated_months",
            "dependencies": [
              "monthly_payment",
              "estimated_months"
            ],
            "label": "Estimated total paid",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_interest": {
            "expression": "total_paid - total_balance",
            "dependencies": [
              "total_paid",
              "total_balance"
            ],
            "label": "Estimated total interest",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "months_to_payoff",
            "label": "Estimated months to payoff (Snowball)",
            "variable": "estimated_months",
            "unit": "months",
            "format": "integer"
          },
          {
            "id": "total_interest",
            "label": "Estimated total interest paid (Snowball)",
            "variable": "total_interest",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_paid",
            "label": "Estimated total amount paid (Snowball)",
            "variable": "total_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_balance",
            "label": "Total starting principal (Snowball)",
            "variable": "total_balance",
            "unit": "USD",
            "format": "currency"
          }
        ]
      },
      "avalanche": {
        "label": "Debt Avalanche (highest rate first)",
        "description": "Estimates payoff assuming extra payment is applied to the highest-rate balance after covering all minimum payments. Aggregate schedule is approximated by treating remaining principal as a single amortizing balance using a weighted monthly rate.",
        "variables": {
          "total_balance": {
            "expression": "debt1_balance + debt2_balance + debt3_balance + debt4_balance + debt5_balance + debt6_balance",
            "dependencies": [
              "debt1_balance",
              "debt2_balance",
              "debt3_balance",
              "debt4_balance",
              "debt5_balance",
              "debt6_balance"
            ],
            "label": "Total outstanding principal",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_min_payments": {
            "expression": "debt1_min_payment + debt2_min_payment + debt3_min_payment + debt4_min_payment + debt5_min_payment + debt6_min_payment",
            "dependencies": [
              "debt1_min_payment",
              "debt2_min_payment",
              "debt3_min_payment",
              "debt4_min_payment",
              "debt5_min_payment",
              "debt6_min_payment"
            ],
            "label": "Sum of minimum payments",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "monthly_payment": {
            "expression": "total_min_payments + extra_monthly_payment",
            "dependencies": [
              "total_min_payments",
              "extra_monthly_payment"
            ],
            "label": "Total monthly payment available",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "r_weighted_monthly": {
            "expression": "((debt1_balance*debt1_rate + debt2_balance*debt2_rate + debt3_balance*debt3_rate + debt4_balance*debt4_rate + debt5_balance*debt5_rate + debt6_balance*debt6_rate) / (total_balance)) / 12 / 100",
            "dependencies": [
              "debt1_balance",
              "debt2_balance",
              "debt3_balance",
              "debt4_balance",
              "debt5_balance",
              "debt6_balance",
              "debt1_rate",
              "debt2_rate",
              "debt3_rate",
              "debt4_rate",
              "debt5_rate",
              "debt6_rate",
              "total_balance"
            ],
            "label": "Weighted monthly interest rate (approx.)",
            "unit": "%",
            "format": "percent",
            "display": false
          },
          "estimated_months": {
            "expression": "-log(1 - r_weighted_monthly * total_balance / monthly_payment) / log(1 + r_weighted_monthly)",
            "dependencies": [
              "r_weighted_monthly",
              "total_balance",
              "monthly_payment"
            ],
            "label": "Estimated months to payoff (approx.)",
            "unit": "months",
            "format": "integer",
            "display": true
          },
          "total_paid": {
            "expression": "monthly_payment * estimated_months",
            "dependencies": [
              "monthly_payment",
              "estimated_months"
            ],
            "label": "Estimated total paid",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_interest": {
            "expression": "total_paid - total_balance",
            "dependencies": [
              "total_paid",
              "total_balance"
            ],
            "label": "Estimated total interest",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "months_to_payoff",
            "label": "Estimated months to payoff (Avalanche)",
            "variable": "estimated_months",
            "unit": "months",
            "format": "integer"
          },
          {
            "id": "total_interest",
            "label": "Estimated total interest paid (Avalanche)",
            "variable": "total_interest",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_paid",
            "label": "Estimated total amount paid (Avalanche)",
            "variable": "total_paid",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_balance",
            "label": "Total starting principal (Avalanche)",
            "variable": "total_balance",
            "unit": "USD",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "extra_monthly_payment",
        "label": "Extra monthly payment (amount above minimums)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "months_to_show",
        "label": "Months to show in amortization preview",
        "type": "integer",
        "default": 60,
        "min": 1,
        "max": 600,
        "step": 1
      },
      {
        "id": "debt1_name",
        "label": "Debt 1 - name",
        "type": "text",
        "default": "Debt 1"
      },
      {
        "id": "debt1_balance",
        "label": "Debt 1 - current balance",
        "type": "number",
        "default": 1000,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt1_rate",
        "label": "Debt 1 - APR (annual %)",
        "type": "number",
        "default": 12,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "debt1_min_payment",
        "label": "Debt 1 - minimum monthly payment",
        "type": "number",
        "default": 25,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt2_name",
        "label": "Debt 2 - name",
        "type": "text",
        "default": "Debt 2"
      },
      {
        "id": "debt2_balance",
        "label": "Debt 2 - current balance",
        "type": "number",
        "default": 2000,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt2_rate",
        "label": "Debt 2 - APR (annual %)",
        "type": "number",
        "default": 18,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "debt2_min_payment",
        "label": "Debt 2 - minimum monthly payment",
        "type": "number",
        "default": 50,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt3_name",
        "label": "Debt 3 - name",
        "type": "text",
        "default": "Debt 3"
      },
      {
        "id": "debt3_balance",
        "label": "Debt 3 - current balance",
        "type": "number",
        "default": 5000,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt3_rate",
        "label": "Debt 3 - APR (annual %)",
        "type": "number",
        "default": 8,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "debt3_min_payment",
        "label": "Debt 3 - minimum monthly payment",
        "type": "number",
        "default": 150,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt4_name",
        "label": "Debt 4 - name",
        "type": "text",
        "default": "Debt 4"
      },
      {
        "id": "debt4_balance",
        "label": "Debt 4 - current balance",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt4_rate",
        "label": "Debt 4 - APR (annual %)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "debt4_min_payment",
        "label": "Debt 4 - minimum monthly payment",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt5_name",
        "label": "Debt 5 - name",
        "type": "text",
        "default": "Debt 5"
      },
      {
        "id": "debt5_balance",
        "label": "Debt 5 - current balance",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt5_rate",
        "label": "Debt 5 - APR (annual %)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "debt5_min_payment",
        "label": "Debt 5 - minimum monthly payment",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt6_name",
        "label": "Debt 6 - name",
        "type": "text",
        "default": "Debt 6"
      },
      {
        "id": "debt6_balance",
        "label": "Debt 6 - current balance",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "debt6_rate",
        "label": "Debt 6 - APR (annual %)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "debt6_min_payment",
        "label": "Debt 6 - minimum monthly payment",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator provides side-by-side estimates for two common payoff strategies: Debt Snowball (pay smallest balances first) and Debt Avalanche (pay highest-rate balances first). Enter up to six debts with balances, APRs, and minimum payments, then specify any extra monthly amount you can apply toward payoff.",
      "Results are approximations to help planning and decision-making. They provide estimated months to payoff, total interest paid, and estimated total amount paid under each strategy given the inputs and an aggregated amortization assumption."
    ],
    "methodology": [
      "The engine aggregates multiple debts into an equivalent amortizing principal using a weighted monthly interest rate calculated from each balance and APR. It then applies the total monthly payment (sum of minimums plus any extra) to estimate payoff duration using standard amortization formulas.",
      "This approach yields a close approximation for planning, while avoiding overly complex per-month iterative schedules in the summary. For detailed month-by-month payoff order, users should export an amortization schedule or run per-debt iterative simulations."
    ],
    "how_is_calculated": [
      "1) Total starting principal = sum of all balances.",
      "2) Total monthly payment = sum of minimum payments + extra monthly payment input.",
      "3) Weighted monthly interest rate = (sum of balance_i * APR_i) / total_balance / 12 / 100.",
      "4) Months to payoff ≈ -log(1 - r_monthly * principal / payment) / log(1 + r_monthly) using the weighted rate and total payment.",
      "5) Total paid = months_to_payoff × monthly payment. Total interest = total paid − principal."
    ],
    "examples": [
      "If you have $6,000 total across three accounts with $200 extra per month above minimums, the calculator estimates months to payoff and interest for both methods so you can compare speed vs interest savings.",
      "If one debt is $500 with a low minimum, paying it off first (snowball) may produce quick psychological wins even if avalanche yields lower interest overall; the tool quantifies those tradeoffs."
    ],
    "faqs": [
      {
        "question": "Is this an exact amortization schedule?",
        "answer": "No. This tool uses an aggregate weighted-rate approximation for summary outputs. It is intended for planning and comparison. For exact month-by-month balances and the precise amount applied to each debt each month, run a detailed amortization schedule or export per-debt iterations."
      },
      {
        "question": "Which method saves the most interest?",
        "answer": "Generally, the Debt Avalanche (highest-rate-first) minimizes interest paid for the same total monthly payment. The Snowball method often produces faster short-term balance eliminations which can help motivation. This calculator provides both estimates to help choose."
      },
      {
        "question": "How accurate are the results?",
        "answer": "Estimates are mathematically consistent with standard amortization formulas but are approximations because multiple debts with changing order are aggregated. Expect small deviations from per-debt iterative schedules, especially when one debt's minimum payment is close to the total monthly payment available."
      },
      {
        "question": "What should I watch for when entering data?",
        "answer": "Enter APRs as annual percentage rates (e.g., 12 for 12%), ensure minimum payments are current, and include any fixed extra payment you plan to apply. Do not include fees or future interest rate changes; those are not modeled here."
      },
      {
        "question": "Can this tool handle zero-interest or zero-balance debts?",
        "answer": "Yes. Zero-balance debts are ignored in totals. Zero-interest debts are included in totals and reduce the weighted monthly rate appropriately."
      }
    ],
    "citations": [
      {
        "label": "NIST - Software and Systems",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO - Quality management and information security",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE - Floating point and numerical standards",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA - Workplace safety and reliability practices",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Debt Snowball",
        "definition": "A payoff strategy where you prioritize paying off debts with the smallest balances first while making minimum payments on others."
      },
      {
        "term": "Debt Avalanche",
        "definition": "A payoff strategy where you prioritize debts with the highest interest rates first to minimize total interest paid."
      },
      {
        "term": "APR",
        "definition": "Annual Percentage Rate expressed as a percentage per year. This calculator converts APR to a monthly rate by dividing by 12 and 100."
      },
      {
        "term": "Minimum Payment",
        "definition": "The required monthly payment for an individual debt. This tool assumes minimums are paid each month before applying extra payment toward the prioritized debt."
      },
      {
        "term": "Weighted monthly rate",
        "definition": "An approximate single monthly interest rate computed by weighting each debt's APR by its share of total principal."
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.osha.gov",
        "label": "OSHA",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo"
    ]
  }
}