{
    "version": "1.0.0",
    "metadata": {
        "title": "Discounted Cash Flow Calculator",
        "description": "Estimate the net present value (NPV) of an investment by discounting up to five years of future cash flows plus an optional terminal value."
    },
    "logic": {
        "type": "formula",
        "outputs": [
            {
                "id": "dcf_value",
                "label": "Discounted cash flow (NPV)",
                "expression": "-initial_investment + cf1 / (1 + discount_rate) + cf2 / ((1 + discount_rate)(1 + discount_rate)) + cf3 / ((1 + discount_rate)(1 + discount_rate)(1 + discount_rate)) + cf4 / ((1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate)) + cf5 / ((1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate)) + terminal_value / ((1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate))",
                "unit": "",
                "format": "currency"
            },
            {
                "id": "pv_inflows",
                "label": "Present value of future cash inflows",
                "expression": "cf1 / (1 + discount_rate) + cf2 / ((1 + discount_rate)(1 + discount_rate)) + cf3 / ((1 + discount_rate)(1 + discount_rate)(1 + discount_rate)) + cf4 / ((1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate)) + cf5 / ((1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate)) + terminal_value / ((1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate)(1 + discount_rate))",
                "unit": "",
                "format": "currency"
            }
        ]
    },
    "form": {
        "fields": [
            {
                "id": "initial_investment",
                "label": "Initial investment (cash outflow at time 0)",
                "type": "number",
                "default": 100000,
                "min": 0,
                "step": 1000,
                "required": true
            },
            {
                "id": "discount_rate",
                "label": "Discount rate (as decimal, e.g. 0.08 for 8%)",
                "type": "number",
                "default": 0.08,
                "min": 0,
                "max": 1,
                "step": 0.005,
                "required": true
            },
            {
                "id": "cf1",
                "label": "Year 1 cash flow",
                "type": "number",
                "default": 25000,
                "step": 500
            },
            {
                "id": "cf2",
                "label": "Year 2 cash flow",
                "type": "number",
                "default": 30000,
                "step": 500
            },
            {
                "id": "cf3",
                "label": "Year 3 cash flow",
                "type": "number",
                "default": 35000,
                "step": 500
            },
            {
                "id": "cf4",
                "label": "Year 4 cash flow",
                "type": "number",
                "default": 40000,
                "step": 500
            },
            {
                "id": "cf5",
                "label": "Year 5 cash flow",
                "type": "number",
                "default": 45000,
                "step": 500
            },
            {
                "id": "terminal_value",
                "label": "Terminal value in year 6 (sale price or continuing value, 0 if none)",
                "type": "number",
                "default": 0,
                "step": 1000
            }
        ],
        "result": {
            "outputs": [
                {
                    "id": "dcf_value",
                    "label": "Discounted cash flow (NPV)"
                },
                {
                    "id": "pv_inflows",
                    "label": "Present value of future cash inflows"
                }
            ]
        }
    },
    "page_content": {
        "introduction": [
            "This discounted cash flow (DCF) calculator estimates the net present value (NPV) of an investment by discounting a stream of expected future cash flows back to today.",
            "DCF analysis is a cornerstone of intrinsic valuation in corporate finance and project appraisal, helping you compare the cost of an initial outlay with the present value of all future inflows.",
            "Use this tool to test different cash flow scenarios and discount rates, assess whether a project creates value, and document your assumptions in a transparent, auditable way."
        ],
        "methodology": [
            "The calculator implements the standard discounted cash flow formula: the NPV is the sum of each future cash flow divided by one plus the discount rate raised to the power of the year, minus the initial investment.",
            "Users enter an initial investment at time zero, up to five annual net cash flows, a discount rate expressed as a decimal, and an optional terminal value representing resale or continuing value at the end of year six.",
            "Each cash flow in year t is discounted using (1 + r) repeated t times in the denominator, where r is the discount rate reflecting the time value of money and risk-adjusted required return.",
            "The present value of future inflows is calculated as the discounted sum of years 1 through 5 plus the discounted terminal value; the NPV is this present value minus the initial investment.",
            "A positive NPV indicates that, given the discount rate you specify, the investment is expected to create value; a negative NPV suggests that the project does not meet your required return.",
            "This implementation aligns with discounted cash flow and net present value treatments used in university finance courses and in public guidance on economic evaluation and life cycle cost analysis."
        ],
        "faqs": [
            {
                "question": "What is discounted cash flow analysis?",
                "answer": "Discounted cash flow analysis values an asset or project by estimating its future cash flows and discounting them back to the present using a rate that reflects time value of money and risk. The result is the net present value, which you can compare to the initial investment."
            },
            {
                "question": "How should I choose the discount rate?",
                "answer": "In practice, the discount rate often reflects your opportunity cost of capital or required rate of return. For corporate projects this may be a weighted average cost of capital; for public sector or infrastructure evaluations it may follow published government or agency guidance. Higher rates penalize distant and uncertain cash flows more heavily."
            },
            {
                "question": "What does a positive NPV mean?",
                "answer": "A positive net present value means that the present value of expected future cash inflows exceeds the initial investment at the discount rate you selected. Under standard discounted cash flow theory, a positive NPV project is expected to create economic value and is financially attractive relative to your required return."
            },
            {
                "question": "Why do I need a terminal value?",
                "answer": "Many real investments have economic lives longer than the explicit forecast horizon. A terminal value captures the remaining value of the asset, such as a sale price or continuing cash flows represented as a lump sum at the end of the forecast. It is then discounted back to today like any other cash flow."
            },
            {
                "question": "Is this calculator suitable for regulatory or financial reporting?",
                "answer": "This calculator implements standard discounted cash flow arithmetic and can support internal analysis and documentation, but it does not replace professional judgment or specific accounting, tax, or regulatory requirements. For formal reporting, you should confirm that your assumptions, discount rate, and project definitions comply with the relevant standards and guidance."
            },
            {
                "question": "What are common pitfalls when using DCF models?",
                "answer": "Common issues include overly optimistic cash flow forecasts, discount rates that do not reflect project risk, ignoring sensitivity to key assumptions, and mismatching the type of cash flow with the discount rate. Robust practice includes stress testing, scenario analysis, and clearly documenting data sources and rationale."
            }
        ],
        "citations": [
            {
                "label": "Aswath Damodaran, Discounted Cash Flow Valuation, NYU Stern School of Business",
                "url": "https://pages.stern.nyu.edu/~adamodar/pdfiles/eqnotes/dcfallOld.pdf\n"
            },
            {
                "label": "NIST, Life-Cycle Costing Manual for the Federal Energy Management Program (NIST Handbook 135)",
                "url": "https://nvlpubs.nist.gov/nistpubs/hb/2022/NIST.HB.135e2022-upd1.pdf\n"
            },
            {
                "label": "NIST, Methods for Assessing Economic Impacts of Government R and D",
                "url": "https://www.nist.gov/document/report03-1pdf\n"
            },
            {
                "label": "SEC Staff Accounting Bulletin Topic 5, Miscellaneous Accounting, guidance on discounted cash flow methods",
                "url": "https://www.sec.gov/oca/sab-code-t5\n"
            },
            {
                "label": "IESE Business School, Valuing Companies by Cash Flow Discounting",
                "url": "https://www.iese.edu/media/research/pdfs/WP-1062-E.pdf\n"
            }
        ]
    },
    "links": {
        "internal": [],
        "external": []
    },
    "schema": {
        "additionalTypes": [
            "HowTo",
            "FinancialProduct"
        ]
    }
}
