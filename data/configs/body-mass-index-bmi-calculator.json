{
  "version": "1.0.0",
  "metadata": {
    "title": "Body Mass Index (BMI) Calculator",
    "description": "Calculate BMI from weight and height in metric or imperial units, see the WHO classification code, and read guidance on accuracy, limitations, and measurement best practices."
  },
  "logic": {
    "type": "formula",
    "outputs": [
      {
        "id": "bmi",
        "label": "BMI (Body Mass Index)",
        "expression": "(weight * (weight_unit == 'kg' ? 1 : 0.45359237)) / ((height_unit == 'cm' ? height/100 : height*0.0254) * (height_unit == 'cm' ? height/100 : height*0.0254))",
        "unit": "kg/m²",
        "format": "decimal"
      },
      {
        "id": "bmi_category_code",
        "label": "BMI Category Code (WHO thresholds: 1=Underweight, 2=Normal, 3=Overweight, 4=Obesity)",
        "expression": "(((weight * (weight_unit == 'kg' ? 1 : 0.45359237)) / ((height_unit == 'cm' ? height/100 : height*0.0254) * (height_unit == 'cm' ? height/100 : height*0.0254))) < 18.5) ? 1 : (((weight * (weight_unit == 'kg' ? 1 : 0.45359237)) / ((height_unit == 'cm' ? height/100 : height*0.0254) * (height_unit == 'cm' ? height/100 : height*0.0254))) < 25) ? 2 : (((weight * (weight_unit == 'kg' ? 1 : 0.45359237)) / ((height_unit == 'cm' ? height/100 : height*0.0254) * (height_unit == 'cm' ? height/100 : height*0.0254))) < 30) ? 3 : 4",
        "format": "integer"
      }
    ]
  },
  "form": {
    "fields": [
      {
        "id": "weight",
        "label": "Weight",
        "type": "number",
        "default": 70,
        "min": 1,
        "max": 635,
        "step": 0.1
      },
      {
        "id": "weight_unit",
        "label": "Weight unit",
        "type": "select",
        "default": "kg",
        "options": [
          {
            "label": "Kilograms (kg)",
            "value": "kg"
          },
          {
            "label": "Pounds (lb)",
            "value": "lb"
          }
        ]
      },
      {
        "id": "height",
        "label": "Height",
        "type": "number",
        "default": 170,
        "min": 30,
        "max": 272,
        "step": 0.1
      },
      {
        "id": "height_unit",
        "label": "Height unit",
        "type": "select",
        "default": "cm",
        "options": [
          {
            "label": "Centimeters (cm)",
            "value": "cm"
          },
          {
            "label": "Inches (in)",
            "value": "in"
          }
        ]
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "bmi",
          "label": "BMI (kg/m²)",
          "format": "decimal",
          "unit": "kg/m²"
        },
        {
          "id": "bmi_category_code",
          "label": "BMI Category Code (1=Underweight,2=Normal,3=Overweight,4=Obesity)",
          "format": "integer"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "Body Mass Index (BMI) is a simple index of weight-for-height commonly used to classify underweight, healthy weight, overweight, and obesity in adults. This tool computes BMI from weight and height entered in metric or imperial units and returns the numeric BMI plus a category code aligned with WHO thresholds.",
      "This calculator includes guidance on measurement accuracy and known limitations. It is intended for adults and does not replace clinical assessment. For children, athletes, pregnant people, or clinical diagnoses, use specialist assessments such as age-specific growth charts, body composition testing, or clinical consultation."
    ],
    "methodology": [
      "BMI is calculated as weight (kilograms) divided by height (metres) squared. If inputs are in pounds or inches, the calculator converts to kilograms and metres using exact conversion factors (1 lb = 0.45359237 kg; 1 in = 0.0254 m).",
      "Category thresholds follow WHO adult cut-offs: underweight less than 18.5, normal range 18.5 to 24.9, overweight 25.0 to 29.9, and obesity 30.0 or higher. These thresholds are population-level indicators and do not measure body fat or distribution.",
      "Measurement best practices: use calibrated scales and a stadiometer or fixed measuring device, measure height without shoes, and record weight with minimal clothing. Follow national measurement and uncertainty guidance (for example, NIST measurement best practices and relevant ISO anthropometry standards). Software quality and validation should follow IEEE software standard principles and organizational safety practices as applicable."
    ],
    "how_is_calculated": [
      "Step 1: Read weight and unit. Convert weight to kilograms when needed: weight_kg = weight * 0.45359237 if unit is lb, otherwise weight_kg = weight.",
      "Step 2: Read height and unit. Convert height to metres when needed: height_m = height * 0.0254 if unit is in, otherwise height_m = height / 100.",
      "Step 3: Compute BMI = weight_kg / (height_m * height_m).",
      "Step 4: Map BMI to category code using WHO thresholds: code 1 for BMI below 18.5, code 2 for 18.5 to below 25, code 3 for 25 to below 30, code 4 for 30 or higher."
    ],
    "summary": [
      "This calculator provides a quick BMI estimate and standard WHO category code. It performs internal unit conversions and returns values based on the entered units.",
      "BMI is a screening tool, not a diagnostic of individual health. Consider additional measures (waist circumference, body composition analyses) for individualized assessment."
    ],
    "faqs": [
      {
        "question": "Is BMI a direct measure of body fat?",
        "answer": "No. BMI is an indirect index based on weight and height. It correlates with body fat at population level but can misclassify muscular individuals, older adults, and some ethnic groups. Use body composition testing for direct fat measurement."
      },
      {
        "question": "What units can I enter?",
        "answer": "You can enter weight in kilograms or pounds and height in centimetres or inches. The tool converts imperial units to metric using exact international conversion factors."
      },
      {
        "question": "Are the category thresholds standard?",
        "answer": "Yes. Category thresholds used here follow WHO adult cut-offs. Local clinical guidelines may adapt thresholds for specific populations; consult a healthcare professional for personalized interpretation."
      },
      {
        "question": "How accurate are results?",
        "answer": "Numeric accuracy depends on input accuracy and proper measurement technique. Follow calibrated instruments and established measurement protocols. See citations for NIST and ISO guidance on measurement uncertainty and anthropometric methods."
      },
      {
        "question": "When should I not use BMI?",
        "answer": "BMI is not appropriate as a sole assessment in children (use growth charts), pregnant people, highly trained athletes, or to determine body fat distribution. Seek professional clinical assessment when in doubt."
      }
    ],
    "glossary": [
      {
        "term": "Body Mass Index (BMI)",
        "definition": "A calculated value equal to weight in kilograms divided by height in metres squared (kg/m²). It is used as a population-level screening tool for underweight, overweight, and obesity."
      },
      {
        "term": "Stadiometer",
        "definition": "A device used to measure a person's height accurately; recommended for height measurements used in BMI calculations."
      },
      {
        "term": "Anthropometry",
        "definition": "The systematic measurement of the size and proportions of the human body, governed by standards such as relevant ISO documents."
      },
      {
        "term": "Measurement uncertainty",
        "definition": "A quantitative expression of the doubt about the measurement result. Follow NIST and ISO guidance to estimate and minimize uncertainty in weight and height measurements."
      }
    ],
    "citations": [
      {
        "label": "World Health Organization — Obesity and Overweight information",
        "url": "https://www.who.int/news-room/fact-sheets/detail/obesity-and-overweight"
      },
      {
        "label": "National Institute of Standards and Technology (NIST)",
        "url": "https://www.nist.gov"
      },
      {
        "label": "International Organization for Standardization (ISO)",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE Standards Association",
        "url": "https://standards.ieee.org"
      },
      {
        "label": "Occupational Safety and Health Administration (OSHA)",
        "url": "https://www.osha.gov"
      }
    ]
  }
}
