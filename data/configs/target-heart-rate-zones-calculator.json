{
  "version": "1.0.0",
  "metadata": {
    "title": "Target Heart Rate Zones Calculator (Advanced)",
    "description": "Multi-method heart rate zone calculator supporting age-based estimates (Tanaka and 220−age), measured max heart rate, and Karvonen (heart rate reserve) calculations. Provides zone ranges in beats per minute and guidance on accuracy, calibration, and data quality controls."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "karvonen_from_tanaka",
    "methods": {
      "tanaka_zones": {
        "label": "Estimate Max HR (Tanaka) and % of Max zones",
        "description": "Uses the Tanaka age-based formula to estimate maximum heart rate then computes standard training zones as percentages of max heart rate.",
        "variables": {
          "max_hr": {
            "expression": "208 - 0.7 * age",
            "dependencies": [
              "age"
            ],
            "label": "Estimated maximum heart rate (Tanaka)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z1_low": {
            "expression": "max_hr * 0.50",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 1 lower (50%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z1_high": {
            "expression": "max_hr * 0.60",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 1 upper (60%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z2_low": {
            "expression": "max_hr * 0.60",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 2 lower (60%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z2_high": {
            "expression": "max_hr * 0.70",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 2 upper (70%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z3_low": {
            "expression": "max_hr * 0.70",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 3 lower (70%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z3_high": {
            "expression": "max_hr * 0.80",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 3 upper (80%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z4_low": {
            "expression": "max_hr * 0.80",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 4 lower (80%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z4_high": {
            "expression": "max_hr * 0.90",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 4 upper (90%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z5_low": {
            "expression": "max_hr * 0.90",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 5 lower (90%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z5_high": {
            "expression": "max_hr * 1.00",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 5 upper (100%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "tanaka_max_hr",
            "label": "Estimated Max HR (Tanaka)",
            "variable": "max_hr",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "tanaka_z1_low",
            "label": "Zone 1 lower (50%)",
            "variable": "z1_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "tanaka_z1_high",
            "label": "Zone 1 upper (60%)",
            "variable": "z1_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "tanaka_z2_low",
            "label": "Zone 2 lower (60%)",
            "variable": "z2_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "tanaka_z2_high",
            "label": "Zone 2 upper (70%)",
            "variable": "z2_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "tanaka_z3_low",
            "label": "Zone 3 lower (70%)",
            "variable": "z3_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "tanaka_z3_high",
            "label": "Zone 3 upper (80%)",
            "variable": "z3_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "tanaka_z4_low",
            "label": "Zone 4 lower (80%)",
            "variable": "z4_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "tanaka_z4_high",
            "label": "Zone 4 upper (90%)",
            "variable": "z4_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "tanaka_z5_low",
            "label": "Zone 5 lower (90%)",
            "variable": "z5_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "tanaka_z5_high",
            "label": "Zone 5 upper (100%)",
            "variable": "z5_high",
            "unit": "bpm",
            "format": "integer"
          }
        ]
      },
      "fox_zones": {
        "label": "Estimate Max HR (220 − age) and % of Max zones",
        "description": "Uses the traditional 220−age estimate then computes standard training zones as percentages of max heart rate.",
        "variables": {
          "max_hr": {
            "expression": "220 - age",
            "dependencies": [
              "age"
            ],
            "label": "Estimated maximum heart rate (220 − age)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z1_low": {
            "expression": "max_hr * 0.50",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 1 lower (50%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z1_high": {
            "expression": "max_hr * 0.60",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 1 upper (60%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z2_low": {
            "expression": "max_hr * 0.60",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 2 lower (60%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z2_high": {
            "expression": "max_hr * 0.70",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 2 upper (70%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z3_low": {
            "expression": "max_hr * 0.70",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 3 lower (70%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z3_high": {
            "expression": "max_hr * 0.80",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 3 upper (80%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z4_low": {
            "expression": "max_hr * 0.80",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 4 lower (80%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z4_high": {
            "expression": "max_hr * 0.90",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 4 upper (90%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z5_low": {
            "expression": "max_hr * 0.90",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 5 lower (90%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z5_high": {
            "expression": "max_hr * 1.00",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 5 upper (100%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "fox_max_hr",
            "label": "Estimated Max HR (220 − age)",
            "variable": "max_hr",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "fox_z1_low",
            "label": "Zone 1 lower (50%)",
            "variable": "z1_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "fox_z1_high",
            "label": "Zone 1 upper (60%)",
            "variable": "z1_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "fox_z2_low",
            "label": "Zone 2 lower (60%)",
            "variable": "z2_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "fox_z2_high",
            "label": "Zone 2 upper (70%)",
            "variable": "z2_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "fox_z3_low",
            "label": "Zone 3 lower (70%)",
            "variable": "z3_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "fox_z3_high",
            "label": "Zone 3 upper (80%)",
            "variable": "z3_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "fox_z4_low",
            "label": "Zone 4 lower (80%)",
            "variable": "z4_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "fox_z4_high",
            "label": "Zone 4 upper (90%)",
            "variable": "z4_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "fox_z5_low",
            "label": "Zone 5 lower (90%)",
            "variable": "z5_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "fox_z5_high",
            "label": "Zone 5 upper (100%)",
            "variable": "z5_high",
            "unit": "bpm",
            "format": "integer"
          }
        ]
      },
      "measured_zones": {
        "label": "Measured Max HR and % of Max zones",
        "description": "Uses a user-supplied measured maximum heart rate to compute standard % of max training zones. Use measured max only when obtained from a validated maximal effort test or device.",
        "variables": {
          "max_hr": {
            "expression": "measured_max_hr",
            "dependencies": [
              "measured_max_hr"
            ],
            "label": "User-measured maximum heart rate",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z1_low": {
            "expression": "max_hr * 0.50",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 1 lower (50%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z1_high": {
            "expression": "max_hr * 0.60",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 1 upper (60%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z2_low": {
            "expression": "max_hr * 0.60",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 2 lower (60%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z2_high": {
            "expression": "max_hr * 0.70",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 2 upper (70%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z3_low": {
            "expression": "max_hr * 0.70",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 3 lower (70%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z3_high": {
            "expression": "max_hr * 0.80",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 3 upper (80%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z4_low": {
            "expression": "max_hr * 0.80",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 4 lower (80%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z4_high": {
            "expression": "max_hr * 0.90",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 4 upper (90%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z5_low": {
            "expression": "max_hr * 0.90",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 5 lower (90%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z5_high": {
            "expression": "max_hr * 1.00",
            "dependencies": [
              "max_hr"
            ],
            "label": "Zone 5 upper (100%)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "measured_max_hr",
            "label": "Measured Max HR",
            "variable": "max_hr",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "measured_z1_low",
            "label": "Zone 1 lower (50%)",
            "variable": "z1_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "measured_z1_high",
            "label": "Zone 1 upper (60%)",
            "variable": "z1_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "measured_z2_low",
            "label": "Zone 2 lower (60%)",
            "variable": "z2_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "measured_z2_high",
            "label": "Zone 2 upper (70%)",
            "variable": "z2_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "measured_z3_low",
            "label": "Zone 3 lower (70%)",
            "variable": "z3_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "measured_z3_high",
            "label": "Zone 3 upper (80%)",
            "variable": "z3_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "measured_z4_low",
            "label": "Zone 4 lower (80%)",
            "variable": "z4_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "measured_z4_high",
            "label": "Zone 4 upper (90%)",
            "variable": "z4_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "measured_z5_low",
            "label": "Zone 5 lower (90%)",
            "variable": "z5_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "measured_z5_high",
            "label": "Zone 5 upper (100%)",
            "variable": "z5_high",
            "unit": "bpm",
            "format": "integer"
          }
        ]
      },
      "karvonen_from_tanaka": {
        "label": "Karvonen (Heart Rate Reserve) using Tanaka estimate",
        "description": "Applies the Karvonen formula (target = resting + % * (max − resting)) where max is estimated by the Tanaka formula.",
        "variables": {
          "max_hr": {
            "expression": "208 - 0.7 * age",
            "dependencies": [
              "age"
            ],
            "label": "Estimated maximum heart rate (Tanaka)",
            "unit": "bpm",
            "format": "integer",
            "display": false
          },
          "hrr": {
            "expression": "max_hr - resting_hr",
            "dependencies": [
              "max_hr",
              "resting_hr"
            ],
            "label": "Heart rate reserve (HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z1_low": {
            "expression": "resting_hr + 0.50 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 1 lower (50% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z1_high": {
            "expression": "resting_hr + 0.60 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 1 upper (60% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z2_low": {
            "expression": "resting_hr + 0.60 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 2 lower (60% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z2_high": {
            "expression": "resting_hr + 0.70 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 2 upper (70% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z3_low": {
            "expression": "resting_hr + 0.70 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 3 lower (70% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z3_high": {
            "expression": "resting_hr + 0.80 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 3 upper (80% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z4_low": {
            "expression": "resting_hr + 0.80 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 4 lower (80% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z4_high": {
            "expression": "resting_hr + 0.90 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 4 upper (90% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z5_low": {
            "expression": "resting_hr + 0.90 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 5 lower (90% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z5_high": {
            "expression": "resting_hr + 1.00 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 5 upper (100% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "karvonen_tanaka_hrr",
            "label": "Heart Rate Reserve (HRR)",
            "variable": "hrr",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_tanaka_z1_low",
            "label": "Zone 1 lower (50% HRR)",
            "variable": "z1_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_tanaka_z1_high",
            "label": "Zone 1 upper (60% HRR)",
            "variable": "z1_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_tanaka_z2_low",
            "label": "Zone 2 lower (60% HRR)",
            "variable": "z2_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_tanaka_z2_high",
            "label": "Zone 2 upper (70% HRR)",
            "variable": "z2_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_tanaka_z3_low",
            "label": "Zone 3 lower (70% HRR)",
            "variable": "z3_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_tanaka_z3_high",
            "label": "Zone 3 upper (80% HRR)",
            "variable": "z3_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_tanaka_z4_low",
            "label": "Zone 4 lower (80% HRR)",
            "variable": "z4_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_tanaka_z4_high",
            "label": "Zone 4 upper (90% HRR)",
            "variable": "z4_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_tanaka_z5_low",
            "label": "Zone 5 lower (90% HRR)",
            "variable": "z5_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_tanaka_z5_high",
            "label": "Zone 5 upper (100% HRR)",
            "variable": "z5_high",
            "unit": "bpm",
            "format": "integer"
          }
        ]
      },
      "karvonen_from_measured": {
        "label": "Karvonen (Heart Rate Reserve) using measured max",
        "description": "Applies the Karvonen formula where max heart rate is supplied by the user (measured_max_hr). Recommended when user has a validated maximal HR measurement.",
        "variables": {
          "max_hr": {
            "expression": "measured_max_hr",
            "dependencies": [
              "measured_max_hr"
            ],
            "label": "Measured maximum heart rate",
            "unit": "bpm",
            "format": "integer",
            "display": false
          },
          "hrr": {
            "expression": "max_hr - resting_hr",
            "dependencies": [
              "max_hr",
              "resting_hr"
            ],
            "label": "Heart rate reserve (HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z1_low": {
            "expression": "resting_hr + 0.50 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 1 lower (50% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z1_high": {
            "expression": "resting_hr + 0.60 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 1 upper (60% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z2_low": {
            "expression": "resting_hr + 0.60 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 2 lower (60% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z2_high": {
            "expression": "resting_hr + 0.70 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 2 upper (70% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z3_low": {
            "expression": "resting_hr + 0.70 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 3 lower (70% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z3_high": {
            "expression": "resting_hr + 0.80 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 3 upper (80% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z4_low": {
            "expression": "resting_hr + 0.80 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 4 lower (80% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z4_high": {
            "expression": "resting_hr + 0.90 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 4 upper (90% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z5_low": {
            "expression": "resting_hr + 0.90 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 5 lower (90% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          },
          "z5_high": {
            "expression": "resting_hr + 1.00 * hrr",
            "dependencies": [
              "resting_hr",
              "hrr"
            ],
            "label": "Zone 5 upper (100% HRR)",
            "unit": "bpm",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "karvonen_measured_hrr",
            "label": "Heart Rate Reserve (HRR)",
            "variable": "hrr",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_measured_z1_low",
            "label": "Zone 1 lower (50% HRR)",
            "variable": "z1_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_measured_z1_high",
            "label": "Zone 1 upper (60% HRR)",
            "variable": "z1_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_measured_z2_low",
            "label": "Zone 2 lower (60% HRR)",
            "variable": "z2_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_measured_z2_high",
            "label": "Zone 2 upper (70% HRR)",
            "variable": "z2_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_measured_z3_low",
            "label": "Zone 3 lower (70% HRR)",
            "variable": "z3_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_measured_z3_high",
            "label": "Zone 3 upper (80% HRR)",
            "variable": "z3_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_measured_z4_low",
            "label": "Zone 4 lower (80% HRR)",
            "variable": "z4_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_measured_z4_high",
            "label": "Zone 4 upper (90% HRR)",
            "variable": "z4_high",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_measured_z5_low",
            "label": "Zone 5 lower (90% HRR)",
            "variable": "z5_low",
            "unit": "bpm",
            "format": "integer"
          },
          {
            "id": "karvonen_measured_z5_high",
            "label": "Zone 5 upper (100% HRR)",
            "variable": "z5_high",
            "unit": "bpm",
            "format": "integer"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "age",
        "label": "Age (years)",
        "type": "integer",
        "default": 30,
        "min": 10,
        "max": 120,
        "step": 1
      },
      {
        "id": "resting_hr",
        "label": "Resting heart rate (bpm)",
        "type": "integer",
        "default": 60,
        "min": 30,
        "max": 140,
        "step": 1
      },
      {
        "id": "measured_max_hr",
        "label": "Measured maximum heart rate (bpm) — optional",
        "type": "integer",
        "default": 0,
        "min": 0,
        "max": 250,
        "step": 1
      },
      {
        "id": "method_choice",
        "label": "Calculation method",
        "type": "select",
        "default": "karvonen_from_tanaka",
        "options": [
          {
            "label": "Karvonen using Tanaka estimate",
            "value": "karvonen_from_tanaka"
          },
          {
            "label": "Karvonen using measured max",
            "value": "karvonen_from_measured"
          },
          {
            "label": "Estimate max (Tanaka) — % of max",
            "value": "tanaka_zones"
          },
          {
            "label": "Estimate max (220 − age) — % of max",
            "value": "fox_zones"
          },
          {
            "label": "Use measured max — % of max",
            "value": "measured_zones"
          }
        ]
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator computes target heart rate zones using multiple accepted methods: age-based estimates (Tanaka and 220 − age), user-measured maximum heart rate, and the Karvonen heart rate reserve method. Use the method most appropriate to your situation and provide measured values when available for greater accuracy.",
      "Results are presented as beats per minute ranges for common training zones. The tool includes accuracy guidance and recommended best practices for device calibration and data quality."
    ],
    "methodology": [
      "Three approaches are provided so users can choose the most appropriate method: (1) Age-based estimates produce a quick estimate of maximum heart rate; (2) Measured maximum heart rate accepts user-supplied values from validated maximal tests or calibrated devices; (3) Karvonen (heart rate reserve) adjusts target intensities by resting heart rate to individualize ranges.",
      "For device and data quality recommendations we follow general guidance from standards bodies for health device interoperability and quality management, including IEEE 11073 for personal health device communication, ISO 13485 for medical device quality systems when applicable, and NIST recommendations for measurement and data integrity. Users should ensure wearable devices are worn and paired correctly and that maximal heart rate measurements were collected under supervised or validated protocols."
    ],
    "how_is_calculated": [
      "Tanaka estimate: Max HR = 208 − 0.7 × age. Zones are computed as percentages of Max HR (e.g., Zone 1 = 50–60% of Max).",
      "220 − age estimate: Max HR = 220 − age. Zones are computed as percentages of Max HR.",
      "Karvonen (HRR): HRR = Max HR − Resting HR. Target HR = Resting HR + % × HRR (e.g., 50% HRR = Resting + 0.50 × HRR)."
    ],
    "examples": [
      "Example 1: 30 years old, resting HR 60 bpm, method Karvonen (Tanaka): Tanaka max HR = 208 − 0.7×30 = 187 bpm. HRR = 187 − 60 = 127 bpm. Zone 2 (60–70% HRR) = 60 + 0.60×127 to 60 + 0.70×127 → 136 to 148 bpm.",
      "Example 2: Measured max 190 bpm, resting HR 55 bpm, % of max zones: Zone 3 (70–80% of max) = 0.70×190 to 0.80×190 → 133 to 152 bpm."
    ],
    "faqs": [
      {
        "question": "Which method is most accurate?",
        "answer": "A measured maximum heart rate obtained from a validated maximal effort test or calibrated device is the most accurate basis for zone calculations. Karvonen (HRR) further individualizes zones by using resting heart rate. Age-based formulas provide quick estimates but have population-level error and do not account for individual variation."
      },
      {
        "question": "What if I do not know my resting heart rate?",
        "answer": "For Karvonen calculations you need resting heart rate. Measure it after waking and while still lying down, or use a 60-second average from a reliable wearable. If unknown, use the percentage-of-max methods instead but expect less personalization."
      },
      {
        "question": "Are these results a substitute for medical advice?",
        "answer": "No. This calculator provides informational estimates only. Consult a healthcare professional before beginning or changing an exercise program, particularly if you have cardiovascular disease, are on medication, or have other health concerns."
      },
      {
        "question": "How accurate are age-based formulas?",
        "answer": "Age-based formulas (e.g., Tanaka or 220 − age) have typical standard errors that can be large for individuals. Use them only when measured data is unavailable and treat results as approximate."
      },
      {
        "question": "How should I calibrate my wearable?",
        "answer": "Follow the device manufacturer's guidance for fit and firmware updates. When possible, validate wearable readings during resting and known-intensity activities. Refer to device-specific calibration and IEEE 11073 interoperability recommendations for data integrity practices."
      }
    ],
    "citations": [
      {
        "label": "IEEE 11073 Personal Health Device Standards",
        "url": "https://standards.ieee.org/standard/11073-10406-2019.html"
      },
      {
        "label": "ISO 13485 Medical devices — Quality management systems",
        "url": "https://www.iso.org/standard/59752.html"
      },
      {
        "label": "NIST - Guidance on Measurement, Data Integrity and Device Security",
        "url": "https://www.nist.gov"
      },
      {
        "label": "Occupational Safety and Health Administration (OSHA) — Medical and workplace guidance",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Maximum heart rate (Max HR)",
        "definition": "The highest number of heart beats per minute an individual can achieve during maximal exertion. Can be estimated (age-based formulas) or measured during a maximal effort test."
      },
      {
        "term": "Resting heart rate (RHR)",
        "definition": "Heart rate measured at rest, typically in the morning while lying down. Used in Karvonen calculations to personalize training zones."
      },
      {
        "term": "Heart rate reserve (HRR)",
        "definition": "The difference between maximum heart rate and resting heart rate. HRR = Max HR − Resting HR. Used in the Karvonen method to set intensity relative to individual capacity."
      },
      {
        "term": "Training zone",
        "definition": "A target heart rate range (in beats per minute or percent of max) used to guide exercise intensity for specific physiological goals such as recovery, endurance, or high-intensity intervals."
      }
    ]
  },
  "links": {
    "internal": [
      "/fitness/heart-rate/understanding-zones",
      "/tools/health/resting-heart-rate-measurement-guide"
    ],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://standards.ieee.org",
        "label": "IEEE Standards",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.osha.gov",
        "label": "OSHA",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  }
}