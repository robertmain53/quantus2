{
  "version": "1.0.0",
  "metadata": {
    "title": "Pace Calculator (multi-mode)",
    "description": "Calculate running/erg pace, convert pace units and derive finish times. Supports time+distance → pace, pace+distance → finish time, and pace ↔ speed conversions with units in kilometers and miles. Includes accuracy notes and standards references for measurement and reporting."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "pace_from_time_distance",
    "methods": {
      "pace_from_time_distance": {
        "label": "Pace from time & distance",
        "description": "Compute pace (seconds per km and per mile) when you provide total time and distance.",
        "variables": {
          "total_time_s": {
            "expression": "time_hours*3600 + time_minutes*60 + time_seconds",
            "dependencies": [
              "time_hours",
              "time_minutes",
              "time_seconds"
            ],
            "label": "Total time (seconds)",
            "unit": "s",
            "format": "decimal",
            "display": false
          },
          "distance_m": {
            "expression": "distance * (distance_unit == 'km' ? 1000 : 1609.344)",
            "dependencies": [
              "distance",
              "distance_unit"
            ],
            "label": "Distance (meters)",
            "unit": "m",
            "format": "decimal",
            "display": false
          },
          "pace_s_per_m": {
            "expression": "total_time_s / distance_m",
            "dependencies": [
              "total_time_s",
              "distance_m"
            ],
            "label": "Pace (seconds per meter)",
            "unit": "s/m",
            "format": "decimal",
            "display": false
          },
          "pace_per_km_s": {
            "expression": "pace_s_per_m * 1000",
            "dependencies": [
              "pace_s_per_m"
            ],
            "label": "Pace (seconds per kilometer)",
            "unit": "s/km",
            "format": "decimal",
            "display": true
          },
          "pace_per_mile_s": {
            "expression": "pace_s_per_m * 1609.344",
            "dependencies": [
              "pace_s_per_m"
            ],
            "label": "Pace (seconds per mile)",
            "unit": "s/mi",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "pace_per_km_s",
            "label": "Pace per kilometer (seconds)",
            "variable": "pace_per_km_s",
            "unit": "s/km",
            "format": "decimal"
          },
          {
            "id": "pace_per_mile_s",
            "label": "Pace per mile (seconds)",
            "variable": "pace_per_mile_s",
            "unit": "s/mi",
            "format": "decimal"
          }
        ]
      },
      "time_from_pace_and_distance": {
        "label": "Finish time from pace & distance",
        "description": "Estimate total finish time when you provide pace (min:sec per km or per mile) and distance.",
        "variables": {
          "pace_s": {
            "expression": "pace_minutes*60 + pace_seconds",
            "dependencies": [
              "pace_minutes",
              "pace_seconds"
            ],
            "label": "Pace (seconds)",
            "unit": "s",
            "format": "decimal",
            "display": false
          },
          "pace_s_per_m": {
            "expression": "pace_s / (pace_unit == 'min_per_km' ? 1000 : 1609.344)",
            "dependencies": [
              "pace_s",
              "pace_unit"
            ],
            "label": "Pace (seconds per meter)",
            "unit": "s/m",
            "format": "decimal",
            "display": false
          },
          "distance_m": {
            "expression": "distance * (distance_unit == 'km' ? 1000 : 1609.344)",
            "dependencies": [
              "distance",
              "distance_unit"
            ],
            "label": "Distance (meters)",
            "unit": "m",
            "format": "decimal",
            "display": false
          },
          "total_time_s": {
            "expression": "pace_s_per_m * distance_m",
            "dependencies": [
              "pace_s_per_m",
              "distance_m"
            ],
            "label": "Estimated finish time (seconds)",
            "unit": "s",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "total_time_s",
            "label": "Estimated finish time (seconds)",
            "variable": "total_time_s",
            "unit": "s",
            "format": "decimal"
          }
        ]
      },
      "pace_unit_conversion": {
        "label": "Pace ↔ Speed / Unit conversion",
        "description": "Convert pace between min/km and min/mile and derive equivalent speed in km/h and mph.",
        "variables": {
          "pace_s": {
            "expression": "pace_minutes*60 + pace_seconds",
            "dependencies": [
              "pace_minutes",
              "pace_seconds"
            ],
            "label": "Pace (seconds)",
            "unit": "s",
            "format": "decimal",
            "display": false
          },
          "pace_per_km_s": {
            "expression": "pace_unit == 'min_per_km' ? pace_s : pace_s / 1.609344",
            "dependencies": [
              "pace_s",
              "pace_unit"
            ],
            "label": "Pace (seconds per kilometer)",
            "unit": "s/km",
            "format": "decimal",
            "display": true
          },
          "pace_per_mile_s": {
            "expression": "pace_unit == 'min_per_mile' ? pace_s : pace_s * 1.609344",
            "dependencies": [
              "pace_s",
              "pace_unit"
            ],
            "label": "Pace (seconds per mile)",
            "unit": "s/mi",
            "format": "decimal",
            "display": true
          },
          "speed_kmh": {
            "expression": "3600 / pace_per_km_s",
            "dependencies": [
              "pace_per_km_s"
            ],
            "label": "Speed (kilometers per hour)",
            "unit": "km/h",
            "format": "decimal",
            "display": true
          },
          "speed_mph": {
            "expression": "speed_kmh / 1.609344",
            "dependencies": [
              "speed_kmh"
            ],
            "label": "Speed (miles per hour)",
            "unit": "mph",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "pace_per_km_s",
            "label": "Pace per kilometer (seconds)",
            "variable": "pace_per_km_s",
            "unit": "s/km",
            "format": "decimal"
          },
          {
            "id": "pace_per_mile_s",
            "label": "Pace per mile (seconds)",
            "variable": "pace_per_mile_s",
            "unit": "s/mi",
            "format": "decimal"
          },
          {
            "id": "speed_kmh",
            "label": "Speed (km/h)",
            "variable": "speed_kmh",
            "unit": "km/h",
            "format": "decimal"
          },
          {
            "id": "speed_mph",
            "label": "Speed (mph)",
            "variable": "speed_mph",
            "unit": "mph",
            "format": "decimal"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "distance",
        "label": "Distance",
        "type": "number",
        "default": 5,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "distance_unit",
        "label": "Distance unit",
        "type": "select",
        "default": "km",
        "options": [
          {
            "label": "Kilometers",
            "value": "km"
          },
          {
            "label": "Miles",
            "value": "mi"
          }
        ]
      },
      {
        "id": "time_hours",
        "label": "Hours",
        "type": "integer",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "time_minutes",
        "label": "Minutes",
        "type": "integer",
        "default": 25,
        "min": 0,
        "max": 59,
        "step": 1
      },
      {
        "id": "time_seconds",
        "label": "Seconds",
        "type": "integer",
        "default": 0,
        "min": 0,
        "max": 59,
        "step": 1
      },
      {
        "id": "pace_minutes",
        "label": "Pace minutes",
        "type": "integer",
        "default": 5,
        "min": 0,
        "step": 1
      },
      {
        "id": "pace_seconds",
        "label": "Pace seconds",
        "type": "integer",
        "default": 0,
        "min": 0,
        "max": 59,
        "step": 1
      },
      {
        "id": "pace_unit",
        "label": "Pace unit",
        "type": "select",
        "default": "min_per_km",
        "options": [
          {
            "label": "min / km",
            "value": "min_per_km"
          },
          {
            "label": "min / mile",
            "value": "min_per_mile"
          }
        ]
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This Pace Calculator helps runners and coaches compute pace, convert pace units, and estimate finish times from pace or time and distance. It supports common running units (kilometers and miles) and presents results as seconds-based calculations to avoid rounding ambiguity.",
      "Use the appropriate mode for your need: provide time and distance to get pace, provide pace and distance to estimate time, or convert pace units and derive equivalent speed. Results are intended for planning and pacing; actual race conditions and physiology will affect outcomes."
    ],
    "methodology": [
      "Calculations use SI-consistent distance measures (meters) and seconds for time to maintain numeric precision before converting to user-facing units. One mile is taken as exactly 1,609.344 meters following international conversion conventions.",
      "Where unit choices matter, conversions are applied before arithmetic to limit floating-point error. When reporting to users, times are derived from seconds and then formatted for readability by the UI layer.",
      "Accuracy and reporting follow measurement best practices. For numeric stability and reproducibility we reference standards for units and metrology such as NIST and ISO, and for software correctness we follow IEEE guidance on numerical computing."
    ],
    "how_is_calculated": [
      "Total time (s) = hours*3600 + minutes*60 + seconds",
      "Distance (m) = distance * (1000 if kilometers else 1609.344)",
      "Pace (s per meter) = total_time_s / distance_m",
      "Pace per km (s) = pace_s_per_m * 1000; Pace per mile (s) = pace_s_per_m * 1609.344",
      "Speed (km/h) = 3600 / (pace per km in seconds); Speed (mph) = speed_kmh / 1.609344"
    ],
    "examples": [
      "Example: 5 km in 25:00 results in pace_per_km = 300 s (5:00 per km) and pace_per_mile ≈ 482.9 s (8:02.9 per mile).",
      "Example: A 6:00 min/mile pace (pace_unit = min_per_mile, pace_minutes=6) converts to ≈ 3:44.1 min/km and speed ≈ 10.0 km/h."
    ],
    "faqs": [
      {
        "question": "Which units should I use?",
        "answer": "Choose the unit system you train in. Use kilometers for metric races and miles for imperial. The calculator accepts either and converts internally to meters for computation."
      },
      {
        "question": "How accurate are the results?",
        "answer": "Numerical results follow exact conversion constants and typical floating-point precision. Real-world pacing will vary with terrain, weather, and physiology. Treat results as planning estimates; verify against GPS/watch telemetry. See citations for measurement standards."
      },
      {
        "question": "Why do seconds appear as decimals?",
        "answer": "Intermediate calculations use seconds as decimals to preserve precision; the UI or export layer should format seconds into minutes:seconds for human readability."
      },
      {
        "question": "Can I use this for erg (rowing) splits?",
        "answer": "Yes, the same time/distance arithmetic applies. For sport-specific split conventions (e.g., seconds per 500 m), convert input or output units accordingly by selecting the appropriate pace_unit and distance."
      }
    ],
    "citations": [
      {
        "label": "National Institute of Standards & Technology (NIST) - Units and Standards",
        "url": "https://www.nist.gov"
      },
      {
        "label": "International Organization for Standardization (ISO) - Quantities and units",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE - Recommended Practices for Numerical Computing",
        "url": "https://standards.ieee.org"
      },
      {
        "label": "Occupational Safety and Health Administration (OSHA) - Measurement and Reporting Guidance",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Pace",
        "definition": "Time per unit distance, commonly expressed as minutes:seconds per kilometer or per mile."
      },
      {
        "term": "Speed",
        "definition": "Distance covered per unit time, commonly expressed as kilometers per hour (km/h) or miles per hour (mph)."
      },
      {
        "term": "Total time (seconds)",
        "definition": "Aggregate duration expressed in seconds to preserve precision for intermediate computations."
      },
      {
        "term": "Conversion constant",
        "definition": "Exact numeric factors used for unit conversion, e.g., 1 mile = 1,609.344 meters."
      }
    ]
  },
  "links": {
    "internal": [
      "/calculators/running/pace-to-speed",
      "/calculators/running/finish-time-estimator"
    ],
    "external": [
      {
        "url": "https://www.nist.gov/pml/weights-and-measures",
        "label": "NIST Weights & Measures",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/standards.html",
        "label": "ISO Standards",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FAQPage"
    ]
  }
}