{
  "version": "1.0.0",
  "metadata": {
    "title": "Calorie Burn Calculator (MET / Running / Heart-Rate Methods)",
    "description": "Estimate calories burned during an activity using multiple validated methods: MET lookup, running pace (ACSM VO2-based), and heart-rate predictive equations. Includes conservative accuracy notes, input limits, and citations to measurement and safety standards."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "met",
    "methods": {
      "met": {
        "label": "MET-based estimate",
        "description": "General-purpose estimate using activity MET and duration. Best for steady-state activities with an established MET value.",
        "variables": {
          "weight": {
            "expression": "weight_kg",
            "dependencies": [
              "weight_kg"
            ],
            "label": "Body mass",
            "unit": "kg",
            "format": "decimal",
            "display": true
          },
          "kcal_per_min": {
            "expression": "0.0175 * activity_met * weight",
            "dependencies": [
              "activity_met",
              "weight"
            ],
            "label": "Calories per minute",
            "unit": "kcal/min",
            "format": "decimal",
            "display": true
          },
          "calories_total": {
            "expression": "kcal_per_min * duration_min",
            "dependencies": [
              "kcal_per_min",
              "duration_min"
            ],
            "label": "Total calories burned",
            "unit": "kcal",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "calories_total",
            "label": "Calories burned (kcal)",
            "variable": "calories_total",
            "unit": "kcal",
            "format": "decimal"
          }
        ]
      },
      "running": {
        "label": "Running (ACSM VO2 → MET)",
        "description": "Converts speed and grade to estimated VO2 using ACSM equations, then to METs and kcal. Use for continuous running on level ground or known grade.",
        "variables": {
          "speed_m_per_min": {
            "expression": "speed_kmph * 1000 / 60",
            "dependencies": [
              "speed_kmph"
            ],
            "label": "Speed",
            "unit": "m/min",
            "format": "decimal",
            "display": true
          },
          "vo2": {
            "expression": "3.5 + 0.2 * speed_m_per_min + 0.9 * speed_m_per_min * (grade_percent / 100)",
            "dependencies": [
              "speed_m_per_min",
              "grade_percent"
            ],
            "label": "Estimated VO2 (ml/kg/min)",
            "unit": "ml/kg/min",
            "format": "decimal",
            "display": true
          },
          "met": {
            "expression": "vo2 / 3.5",
            "dependencies": [
              "vo2"
            ],
            "label": "Estimated MET",
            "unit": "MET",
            "format": "decimal",
            "display": true
          },
          "kcal_per_min": {
            "expression": "0.0175 * met * weight_kg",
            "dependencies": [
              "met",
              "weight_kg"
            ],
            "label": "Calories per minute",
            "unit": "kcal/min",
            "format": "decimal",
            "display": true
          },
          "calories_total": {
            "expression": "kcal_per_min * duration_min",
            "dependencies": [
              "kcal_per_min",
              "duration_min"
            ],
            "label": "Total calories burned",
            "unit": "kcal",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "calories_total",
            "label": "Calories burned (kcal)",
            "variable": "calories_total",
            "unit": "kcal",
            "format": "decimal"
          }
        ]
      },
      "hr_male": {
        "label": "Heart-rate (male predictive equation)",
        "description": "Heart-rate based predictive equation for men. Use when continuous HR data is available. Based on published predictive models; results are approximate.",
        "variables": {
          "kcal_per_min": {
            "expression": "(-55.0969 + 0.6309 * heart_rate + 0.1988 * weight_kg + 0.2017 * age) / 4.184",
            "dependencies": [
              "heart_rate",
              "weight_kg",
              "age"
            ],
            "label": "Calories per minute (male formula)",
            "unit": "kcal/min",
            "format": "decimal",
            "display": true
          },
          "calories_total": {
            "expression": "kcal_per_min * duration_min",
            "dependencies": [
              "kcal_per_min",
              "duration_min"
            ],
            "label": "Total calories burned",
            "unit": "kcal",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "calories_total",
            "label": "Calories burned (kcal)",
            "variable": "calories_total",
            "unit": "kcal",
            "format": "decimal"
          }
        ]
      },
      "hr_female": {
        "label": "Heart-rate (female predictive equation)",
        "description": "Heart-rate based predictive equation for women. Use when continuous HR data is available. Based on published predictive models; results are approximate.",
        "variables": {
          "kcal_per_min": {
            "expression": "(-20.4022 + 0.4472 * heart_rate - 0.1263 * weight_kg + 0.074 * age) / 4.184",
            "dependencies": [
              "heart_rate",
              "weight_kg",
              "age"
            ],
            "label": "Calories per minute (female formula)",
            "unit": "kcal/min",
            "format": "decimal",
            "display": true
          },
          "calories_total": {
            "expression": "kcal_per_min * duration_min",
            "dependencies": [
              "kcal_per_min",
              "duration_min"
            ],
            "label": "Total calories burned",
            "unit": "kcal",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "calories_total",
            "label": "Calories burned (kcal)",
            "variable": "calories_total",
            "unit": "kcal",
            "format": "decimal"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "weight_kg",
        "label": "Body mass (kg)",
        "type": "number",
        "default": 70,
        "min": 30,
        "max": 300,
        "step": 0.1
      },
      {
        "id": "duration_min",
        "label": "Duration (minutes)",
        "type": "number",
        "default": 30,
        "min": 1,
        "max": 1440,
        "step": 1
      },
      {
        "id": "activity_met",
        "label": "Activity intensity (MET)",
        "type": "number",
        "default": 6,
        "min": 0.5,
        "max": 23,
        "step": 0.1
      },
      {
        "id": "speed_kmph",
        "label": "Running speed (km/h)",
        "type": "number",
        "default": 10,
        "min": 2,
        "max": 40,
        "step": 0.1
      },
      {
        "id": "grade_percent",
        "label": "Grade (%)",
        "type": "number",
        "default": 0,
        "min": 0,
        "max": 20,
        "step": 0.1
      },
      {
        "id": "heart_rate",
        "label": "Average heart rate (bpm)",
        "type": "integer",
        "default": 140,
        "min": 30,
        "max": 220,
        "step": 1
      },
      {
        "id": "age",
        "label": "Age (years)",
        "type": "integer",
        "default": 35,
        "min": 13,
        "max": 120,
        "step": 1
      },
      {
        "id": "sex",
        "label": "Sex (used to choose HR formula)",
        "type": "select",
        "default": "male",
        "options": [
          {
            "label": "Male",
            "value": "male"
          },
          {
            "label": "Female",
            "value": "female"
          }
        ]
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator estimates calories burned using three validated approaches: a MET-based lookup, a running VO2-to-MET conversion (ACSM equations), and heart-rate predictive equations. Choose the method that best matches your data source: activity METs, speed/grade for running, or measured heart rate.",
      "Estimates are intended for planning and monitoring. They are not a substitute for clinical metabolic measurement. Input units are metric (kg, km/h, minutes) to avoid ambiguous conversions."
    ],
    "methodology": [
      "MET method: calories per minute = 0.0175 × MET × body mass (kg). Total calories = calories per minute × duration (min). MET values come from activity compendia and represent multiples of resting metabolic rate.",
      "Running method: uses ACSM treadmill equations to estimate oxygen consumption (VO2) from speed and grade, converts VO2 (ml/kg/min) to MET (VO2 / 3.5), then applies MET→kcal conversion.",
      "Heart-rate methods: use published predictive equations derived from calorimetry comparisons (separate male and female models). These provide closer estimates when continuous heart-rate data is accurate but are sensitive to individual fitness and measurement error."
    ],
    "how_is_calculated": [
      "MET formula: kcal/min = 0.0175 × MET × weight(kg).",
      "ACSM running (simplified): VO2 = 3.5 + 0.2 × speed(m/min) + 0.9 × speed(m/min) × grade; MET = VO2 / 3.5; kcal/min = 0.0175 × MET × weight(kg).",
      "Heart-rate (male): kcal/min = (-55.0969 + 0.6309×HR + 0.1988×weight(kg) + 0.2017×age) / 4.184.",
      "Heart-rate (female): kcal/min = (-20.4022 + 0.4472×HR - 0.1263×weight(kg) + 0.074×age) / 4.184."
    ],
    "examples": [
      "MET example: 70 kg person, 30 min cycling at 8 MET → kcal/min = 0.0175×8×70 = 9.8 kcal/min → total ≈ 294 kcal.",
      "Running example: 10 km/h (≈10000/60 ≈ 166.67 m/min), grade 0% → VO2 ≈ 3.5 + 0.2×166.67 = 36.83 ml/kg/min → MET ≈ 10.52 → for 70 kg and 30 min → ≈ 384 kcal."
    ],
    "summary": [
      "Use MET method for common activities when a representative MET is known.",
      "Use running mode to account for speed and incline with ACSM-based VO2 estimates.",
      "Use heart-rate methods when you have reliable HR and personal data; choose the sex-specific formula."
    ],
    "faqs": [
      {
        "question": "How accurate are these estimates?",
        "answer": "Typical error varies by method and activity. MET-based estimates and VO2-based running estimates generally have ±10–20% uncertainty for group averages; heart-rate predictive equations can be more precise for individuals with stable HR but still carry ~10–25% error. For clinical accuracy, use indirect calorimetry. All estimates assume steady-state activity and accurate inputs."
      },
      {
        "question": "Which method should I use?",
        "answer": "If you know the activity MET from an accepted compendium, use the MET method. For running with known speed/grade, use the running method. If you have continuous heart-rate data, use the appropriate heart-rate formula. Prefer the method that most closely matches your measured inputs."
      },
      {
        "question": "Can I use this for children or clinical populations?",
        "answer": "Caution is advised. Predictive equations and MET values were developed mainly in adult populations. For children, older adults, or clinical populations, expect larger errors and consult a clinician or use direct measurement where possible."
      },
      {
        "question": "Why do results differ across methods?",
        "answer": "Methods use different underlying assumptions: METs are activity averages, ACSM VO2 uses mechanical relationships between speed/grade and oxygen demand, and HR equations infer metabolism from physiological response. Differences arise from individual fitness, measurement error, terrain, and movement efficiency."
      }
    ],
    "glossary": [
      {
        "term": "MET",
        "definition": "Metabolic Equivalent of Task. One MET is approximately resting metabolic rate (3.5 ml O2/kg/min)."
      },
      {
        "term": "VO2",
        "definition": "Oxygen consumption, typically reported in ml/kg/min. Used to derive MET and energy expenditure."
      },
      {
        "term": "kcal",
        "definition": "Kilocalorie, a unit of energy commonly used to express food energy and energy expenditure."
      },
      {
        "term": "ACSM equations",
        "definition": "Standardized formulas developed by the American College of Sports Medicine to estimate oxygen cost of walking and running from speed and grade."
      }
    ],
    "citations": [
      {
        "label": "NIST - National Institute of Standards and Technology",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO - International Organization for Standardization",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE - Institute of Electrical and Electronics Engineers",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA - Occupational Safety and Health Administration",
        "url": "https://www.osha.gov"
      },
      {
        "label": "ACSM (treadmill walking/running equations)",
        "url": "https://www.acsm.org"
      },
      {
        "label": "Keytel et al., heart-rate based energy-expenditure models (example study)",
        "url": "https://pubmed.ncbi.nlm.nih.gov/17136903/"
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.osha.gov",
        "label": "OSHA",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.acsm.org",
        "label": "ACSM",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://pubmed.ncbi.nlm.nih.gov/17136903/",
        "label": "Keytel et al. HR predictive model (PubMed)",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo"
    ]
  }
}