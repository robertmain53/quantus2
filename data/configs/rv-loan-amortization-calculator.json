{
  "version": "1.0.0",
  "metadata": {
    "title": "RV Loan Amortization (including Bi-Weekly / Accelerated Bi-Weekly)",
    "description": "Interactive RV loan amortization engine supporting monthly, bi-weekly, and accelerated bi-weekly schedules, optional extra payments and balloon balances. Estimates periodic payment, total paid, and interest with clear assumptions and accuracy caveats."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "biweekly_accelerated",
    "methods": {
      "monthly_standard": {
        "label": "Monthly amortization (standard)",
        "description": "Standard monthly principal-and-interest amortization. Formula supports an optional balloon (final) payment.",
        "variables": {
          "payments_per_year": {
            "expression": "12",
            "dependencies": [],
            "label": "Payments per year",
            "unit": "payments/year",
            "format": "integer",
            "display": true
          },
          "periodic_rate": {
            "expression": "annual_rate/100/payments_per_year",
            "dependencies": [
              "annual_rate",
              "payments_per_year"
            ],
            "label": "Periodic interest rate",
            "unit": "",
            "format": "decimal",
            "display": false
          },
          "number_of_payments": {
            "expression": "term_years*payments_per_year",
            "dependencies": [
              "term_years",
              "payments_per_year"
            ],
            "label": "Number of payments",
            "unit": "payments",
            "format": "integer",
            "display": true
          },
          "adjusted_principal": {
            "expression": "loan_amount - balloon_amount / pow(1+periodic_rate, number_of_payments)",
            "dependencies": [
              "loan_amount",
              "balloon_amount",
              "periodic_rate",
              "number_of_payments"
            ],
            "label": "Principal adjusted for balloon",
            "unit": "",
            "format": "currency",
            "display": false
          },
          "payment": {
            "expression": "adjusted_principal * periodic_rate / (1 - pow(1+periodic_rate, -number_of_payments))",
            "dependencies": [
              "adjusted_principal",
              "periodic_rate",
              "number_of_payments"
            ],
            "label": "Periodic payment (P&I)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "payment_with_extra": {
            "expression": "payment + extra_payment",
            "dependencies": [
              "payment",
              "extra_payment"
            ],
            "label": "Payment including extra principal",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "total_paid": {
            "expression": "payment_with_extra * number_of_payments + balloon_amount",
            "dependencies": [
              "payment_with_extra",
              "number_of_payments",
              "balloon_amount"
            ],
            "label": "Estimated total paid (payments + balloon)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "total_interest": {
            "expression": "total_paid - loan_amount",
            "dependencies": [
              "total_paid",
              "loan_amount"
            ],
            "label": "Estimated total interest",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "nominal_term_years": {
            "expression": "number_of_payments/payments_per_year",
            "dependencies": [
              "number_of_payments",
              "payments_per_year"
            ],
            "label": "Nominal term (years)",
            "unit": "years",
            "format": "decimal",
            "display": false
          }
        },
        "outputs": [
          {
            "id": "monthly_payment",
            "label": "Monthly payment (principal & interest)",
            "variable": "payment",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "monthly_payment_with_extra",
            "label": "Monthly payment including extra principal",
            "variable": "payment_with_extra",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "monthly_total_paid",
            "label": "Estimated total paid (incl. balloon)",
            "variable": "total_paid",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "monthly_total_interest",
            "label": "Estimated total interest",
            "variable": "total_interest",
            "unit": "",
            "format": "currency"
          }
        ]
      },
      "biweekly_standard": {
        "label": "Bi-weekly amortization (standard)",
        "description": "Bi-weekly schedule with 26 equal payments per year (no accelerated splitting). Uses periodic rate = annual_rate / 26 and standard amortization formula; supports optional balloon.",
        "variables": {
          "payments_per_year": {
            "expression": "26",
            "dependencies": [],
            "label": "Payments per year",
            "unit": "payments/year",
            "format": "integer",
            "display": true
          },
          "periodic_rate": {
            "expression": "annual_rate/100/payments_per_year",
            "dependencies": [
              "annual_rate",
              "payments_per_year"
            ],
            "label": "Periodic rate (bi-weekly)",
            "unit": "",
            "format": "decimal",
            "display": false
          },
          "number_of_payments": {
            "expression": "term_years*payments_per_year",
            "dependencies": [
              "term_years",
              "payments_per_year"
            ],
            "label": "Number of payments",
            "unit": "payments",
            "format": "integer",
            "display": true
          },
          "adjusted_principal": {
            "expression": "loan_amount - balloon_amount / pow(1+periodic_rate, number_of_payments)",
            "dependencies": [
              "loan_amount",
              "balloon_amount",
              "periodic_rate",
              "number_of_payments"
            ],
            "label": "Principal adjusted for balloon",
            "unit": "",
            "format": "currency",
            "display": false
          },
          "payment": {
            "expression": "adjusted_principal * periodic_rate / (1 - pow(1+periodic_rate, -number_of_payments))",
            "dependencies": [
              "adjusted_principal",
              "periodic_rate",
              "number_of_payments"
            ],
            "label": "Bi-weekly payment (P&I)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "payment_with_extra": {
            "expression": "payment + extra_payment",
            "dependencies": [
              "payment",
              "extra_payment"
            ],
            "label": "Payment including extra principal (per period)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "total_paid": {
            "expression": "payment_with_extra * number_of_payments + balloon_amount",
            "dependencies": [
              "payment_with_extra",
              "number_of_payments",
              "balloon_amount"
            ],
            "label": "Estimated total paid (payments + balloon)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "total_interest": {
            "expression": "total_paid - loan_amount",
            "dependencies": [
              "total_paid",
              "loan_amount"
            ],
            "label": "Estimated total interest",
            "unit": "",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "biweekly_payment",
            "label": "Bi-weekly payment (principal & interest)",
            "variable": "payment",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "biweekly_payment_with_extra",
            "label": "Bi-weekly payment including extra principal",
            "variable": "payment_with_extra",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "biweekly_total_paid",
            "label": "Estimated total paid (incl. balloon)",
            "variable": "total_paid",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "biweekly_total_interest",
            "label": "Estimated total interest",
            "variable": "total_interest",
            "unit": "",
            "format": "currency"
          }
        ]
      },
      "biweekly_accelerated": {
        "label": "Accelerated bi-weekly (split-month approach)",
        "description": "Accelerated bi-weekly model: compute the monthly P&I payment and split it in half to produce a payment every two weeks (26 payments/year). This method commonly shortens term and reduces interest versus standard monthly amortization. Uses the monthly schedule internally to calculate the split payment and compares totals to standard monthly.",
        "variables": {
          "monthly_payments_per_year": {
            "expression": "12",
            "dependencies": [],
            "label": "Monthly payments per year (for reference)",
            "unit": "payments/year",
            "format": "integer",
            "display": false
          },
          "monthly_periodic_rate": {
            "expression": "annual_rate/100/monthly_payments_per_year",
            "dependencies": [
              "annual_rate",
              "monthly_payments_per_year"
            ],
            "label": "Monthly periodic rate",
            "unit": "",
            "format": "decimal",
            "display": false
          },
          "monthly_number_of_payments": {
            "expression": "term_years*monthly_payments_per_year",
            "dependencies": [
              "term_years",
              "monthly_payments_per_year"
            ],
            "label": "Monthly number of payments",
            "unit": "payments",
            "format": "integer",
            "display": false
          },
          "monthly_adjusted_principal": {
            "expression": "loan_amount - balloon_amount / pow(1+monthly_periodic_rate, monthly_number_of_payments)",
            "dependencies": [
              "loan_amount",
              "balloon_amount",
              "monthly_periodic_rate",
              "monthly_number_of_payments"
            ],
            "label": "Monthly adjusted principal",
            "unit": "",
            "format": "currency",
            "display": false
          },
          "monthly_payment": {
            "expression": "monthly_adjusted_principal * monthly_periodic_rate / (1 - pow(1+monthly_periodic_rate, -monthly_number_of_payments))",
            "dependencies": [
              "monthly_adjusted_principal",
              "monthly_periodic_rate",
              "monthly_number_of_payments"
            ],
            "label": "Monthly payment (P&I)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "biweekly_payment": {
            "expression": "monthly_payment/2",
            "dependencies": [
              "monthly_payment"
            ],
            "label": "Accelerated bi-weekly payment (half of monthly)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "payments_per_year": {
            "expression": "26",
            "dependencies": [],
            "label": "Payments per year (accelerated)",
            "unit": "payments/year",
            "format": "integer",
            "display": false
          },
          "number_of_payments": {
            "expression": "term_years*payments_per_year",
            "dependencies": [
              "term_years",
              "payments_per_year"
            ],
            "label": "Number of payments (accelerated)",
            "unit": "payments",
            "format": "integer",
            "display": true
          },
          "payment_with_extra": {
            "expression": "biweekly_payment + extra_payment",
            "dependencies": [
              "biweekly_payment",
              "extra_payment"
            ],
            "label": "Bi-weekly payment including extra principal",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "total_paid_accelerated": {
            "expression": "payment_with_extra * number_of_payments + balloon_amount",
            "dependencies": [
              "payment_with_extra",
              "number_of_payments",
              "balloon_amount"
            ],
            "label": "Estimated total paid (accelerated)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "total_interest_accelerated": {
            "expression": "total_paid_accelerated - loan_amount",
            "dependencies": [
              "total_paid_accelerated",
              "loan_amount"
            ],
            "label": "Estimated total interest (accelerated)",
            "unit": "",
            "format": "currency",
            "display": true
          },
          "monthly_total_paid": {
            "expression": "(monthly_payment + extra_payment) * monthly_number_of_payments + balloon_amount",
            "dependencies": [
              "monthly_payment",
              "extra_payment",
              "monthly_number_of_payments",
              "balloon_amount"
            ],
            "label": "Estimated total paid (monthly reference)",
            "unit": "",
            "format": "currency",
            "display": false
          },
          "monthly_total_interest": {
            "expression": "monthly_total_paid - loan_amount",
            "dependencies": [
              "monthly_total_paid",
              "loan_amount"
            ],
            "label": "Estimated total interest (monthly reference)",
            "unit": "",
            "format": "currency",
            "display": false
          },
          "interest_savings_vs_monthly": {
            "expression": "monthly_total_interest - total_interest_accelerated",
            "dependencies": [
              "monthly_total_interest",
              "total_interest_accelerated"
            ],
            "label": "Approx. interest savings vs monthly",
            "unit": "",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "accelerated_biweekly_payment",
            "label": "Accelerated bi-weekly payment (every two weeks)",
            "variable": "biweekly_payment",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "accelerated_total_paid",
            "label": "Estimated total paid (accelerated)",
            "variable": "total_paid_accelerated",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "accelerated_total_interest",
            "label": "Estimated total interest (accelerated)",
            "variable": "total_interest_accelerated",
            "unit": "",
            "format": "currency"
          },
          {
            "id": "accelerated_interest_savings",
            "label": "Approximate interest savings vs monthly",
            "variable": "interest_savings_vs_monthly",
            "unit": "",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "loan_amount",
        "label": "Loan amount (principal)",
        "type": "number",
        "default": 50000,
        "min": 0,
        "step": 100
      },
      {
        "id": "annual_rate",
        "label": "Annual interest rate (%)",
        "type": "number",
        "default": 6.5,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "term_years",
        "label": "Term (years)",
        "type": "integer",
        "default": 15,
        "min": 1,
        "max": 40,
        "step": 1
      },
      {
        "id": "extra_payment",
        "label": "Extra principal per scheduled period",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "balloon_amount",
        "label": "Balloon (final) payment amount",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 100
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator estimates RV loan amortization for monthly, bi-weekly, and accelerated bi-weekly schedules. You can include recurring extra principal payments and a final balloon balance. Results are estimates designed to help planning and comparison; the lender's official amortization schedule governs exact amounts.",
      "The tool emphasizes transparency: formulas and assumptions are shown, limits and rounding behavior are stated, and common accelerated-biweekly behavior is modeled so you can compare outcomes quickly."
    ],
    "methodology": [
      "We compute period-level payments using standard amortization formulas. For an optional balloon (final) payment, we reduce the amortized principal so that the scheduled payment amortizes the reduced principal and the balloon remains as an outstanding final balance.",
      "Accelerated bi-weekly is modeled by computing the monthly P&I payment and splitting it in half (a common market implementation). This produces 26 payments per year and typically shortens the effective loan life compared with 12 monthly payments. The model provides an approximate interest-savings estimate versus the monthly baseline.",
      "Where possible we use double-precision mathematics and avoid premature rounding. However, small discrepancies can arise relative to lender statements because real-world schedules can include daily interest accrual, payment-date alignment, fees, insurance escrows, and lender rounding rules."
    ],
    "how_is_calculated": [
      "Periodic rate = annual_rate / 100 / payments_per_year",
      "Number of payments = term_years * payments_per_year",
      "Adjusted principal (when balloon present) = loan_amount - balloon / (1 + periodic_rate)^(number_of_payments)",
      "Periodic payment (P&I) = adjusted_principal * periodic_rate / (1 - (1+periodic_rate)^(-number_of_payments))",
      "Accelerated bi-weekly payment = monthly P&I / 2 (then 26 payments/year). Total and interest are approximated as payment*number_of_payments + balloon."
    ],
    "examples": [
      "Example: $50,000 loan, 6.5% APR, 15-year term. Monthly payment computed with monthly method; accelerated bi-weekly shown as monthly/2 with 26 payments/year to estimate faster payoff and savings.",
      "If you add an extra principal of $50 per period, total paid and interest reduce proportionally; the tool assumes extra payment applies each scheduled payment period."
    ],
    "faqs": [
      {
        "question": "Is accelerated bi-weekly always better than monthly?",
        "answer": "Accelerated bi-weekly often reduces total interest and shortens term because you effectively make an extra monthly payment each year. Actual benefit depends on lender practices and whether the lender applies payments immediately to principal. Use the accelerated results as an estimate and confirm with the lender's amortization schedule."
      },
      {
        "question": "How accurate are the totals and interest figures?",
        "answer": "Results are mathematically consistent with the formulas shown but are estimates. Differences can occur due to lender rounding rules, day-count conventions, payment timing, fees, and escrow charges. For legally binding figures, request the lender's amortization table."
      },
      {
        "question": "Does the tool handle balloon payments?",
        "answer": "Yes. Enter the balloon amount to see a lower periodic payment with a remaining final balance at term end. The calculator assumes the balloon is paid at the final scheduled payment and discounts it for payment calculation."
      },
      {
        "question": "Are extra payments applied to principal immediately?",
        "answer": "This model assumes extra payment is applied to principal at each scheduled payment date. Some lenders apply extra funds differently; verify with your lender to ensure payments reduce principal as expected."
      },
      {
        "question": "What input values are out of range or not supported?",
        "answer": "Enter non-negative loan amounts and non-negative extra/balloon payments. Interest rates above 100% or negative rates are unlikely and may produce misleading results. Extremely large terms or fractional terms may produce results outside typical lending practice; consult a loan officer for atypical scenarios."
      },
      {
        "question": "Why do the accelerated bi-weekly results differ from some bank quotes?",
        "answer": "Banks may implement bi-weekly schedules differently (e.g., dividing monthly rate by two vs using true 26-period rate), incorporate daily interest, or have payment-application rules. We provide the common split-month accelerated model and a standard 26-period model for comparison."
      }
    ],
    "citations": [
      {
        "label": "NIST",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA",
        "url": "https://www.osha.gov"
      },
      {
        "label": "Consumer Financial Protection Bureau (planning & loan information)",
        "url": "https://www.consumerfinance.gov"
      }
    ],
    "glossary": [
      {
        "term": "Amortization",
        "definition": "The process of spreading loan payments over multiple periods so that each payment partially pays interest and partially reduces principal."
      },
      {
        "term": "Periodic interest rate",
        "definition": "The interest rate applied each payment period: annual rate divided by the number of payments per year."
      },
      {
        "term": "Balloon payment",
        "definition": "A lump-sum balance due at the end of the loan term after scheduled payments have been made; common in extended or lower-payment structures."
      },
      {
        "term": "Accelerated bi-weekly",
        "definition": "A method where the monthly payment is split in half and paid every two weeks (26 payments/year), typically resulting in one extra monthly payment per year and faster payoff."
      },
      {
        "term": "Extra principal payment",
        "definition": "An additional amount paid on top of scheduled P&I that is applied to reduce principal and lower future interest."
      }
    ],
    "summary": [
      "This tool offers side-by-side estimates for monthly, bi-weekly, and accelerated bi-weekly amortization including optional extra payments and balloon balances. Use it for planning and comparison; confirm exact figures with your lender.",
      "We follow best practices for transparency, document the formulas used, and flag known accuracy caveats related to rounding, day-count conventions, lender rules, and fees."
    ]
  }
}