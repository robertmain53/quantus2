{
  "version": "1.0.0",
  "metadata": {
    "title": "Student Loan Refinance & Bi-Weekly Payments Calculator",
    "description": "Compare your current student loan to a refinance offer and evaluate the impact of switching from monthly to bi-weekly payments. Shows payments, total interest, interest savings, and estimated time saved. Includes conservative rounding and accuracy notes tied to recognized measurement and software standards."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "refinance_compare_monthly",
    "methods": {
      "refinance_compare_monthly": {
        "label": "Compare Current Loan vs Refinance (Monthly)",
        "description": "Side-by-side monthly amortization comparison for your existing loan and a refinance offer. Useful for estimating monthly cash flow and lifetime interest savings when both plans use monthly payments.",
        "variables": {
          "curr_r": {
            "expression": "rate_current_annual_pct/100/12",
            "dependencies": [
              "rate_current_annual_pct"
            ],
            "label": "Current monthly interest rate",
            "format": "decimal"
          },
          "curr_n": {
            "expression": "term_current_years*12",
            "dependencies": [
              "term_current_years"
            ],
            "label": "Current number of monthly payments",
            "unit": "months",
            "format": "integer"
          },
          "curr_payment": {
            "expression": "(curr_r*principal_current)/(1 - pow(1+curr_r,-curr_n))",
            "dependencies": [
              "curr_r",
              "curr_n",
              "principal_current"
            ],
            "label": "Estimated monthly payment (current)",
            "unit": "USD",
            "format": "currency"
          },
          "curr_total_payment": {
            "expression": "curr_payment*curr_n",
            "dependencies": [
              "curr_payment",
              "curr_n"
            ],
            "label": "Total paid over life (current)",
            "unit": "USD",
            "format": "currency"
          },
          "curr_total_interest": {
            "expression": "curr_total_payment - principal_current",
            "dependencies": [
              "curr_total_payment",
              "principal_current"
            ],
            "label": "Total interest paid (current)",
            "unit": "USD",
            "format": "currency"
          },
          "refi_r": {
            "expression": "rate_refi_annual_pct/100/12",
            "dependencies": [
              "rate_refi_annual_pct"
            ],
            "label": "Refinance monthly interest rate",
            "format": "decimal"
          },
          "refi_n": {
            "expression": "term_refi_years*12",
            "dependencies": [
              "term_refi_years"
            ],
            "label": "Refinance number of monthly payments",
            "unit": "months",
            "format": "integer"
          },
          "refi_payment": {
            "expression": "(refi_r*principal_refi)/(1 - pow(1+refi_r,-refi_n))",
            "dependencies": [
              "refi_r",
              "refi_n",
              "principal_refi"
            ],
            "label": "Estimated monthly payment (refinance)",
            "unit": "USD",
            "format": "currency"
          },
          "refi_total_payment": {
            "expression": "refi_payment*refi_n",
            "dependencies": [
              "refi_payment",
              "refi_n"
            ],
            "label": "Total paid over life (refinance)",
            "unit": "USD",
            "format": "currency"
          },
          "refi_total_interest": {
            "expression": "refi_total_payment - principal_refi",
            "dependencies": [
              "refi_total_payment",
              "principal_refi"
            ],
            "label": "Total interest paid (refinance)",
            "unit": "USD",
            "format": "currency"
          },
          "interest_savings": {
            "expression": "curr_total_interest - refi_total_interest",
            "dependencies": [
              "curr_total_interest",
              "refi_total_interest"
            ],
            "label": "Estimated interest savings (current minus refinance)",
            "unit": "USD",
            "format": "currency"
          },
          "months_difference": {
            "expression": "curr_n - refi_n",
            "dependencies": [
              "curr_n",
              "refi_n"
            ],
            "label": "Difference in loan term (months)",
            "unit": "months",
            "format": "integer"
          }
        },
        "outputs": [
          {
            "id": "curr_payment",
            "label": "Current monthly payment",
            "variable": "curr_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "refi_payment",
            "label": "Refinance monthly payment",
            "variable": "refi_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "curr_total_interest",
            "label": "Total interest — current plan",
            "variable": "curr_total_interest",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "refi_total_interest",
            "label": "Total interest — refinance",
            "variable": "refi_total_interest",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "interest_savings",
            "label": "Estimated interest savings",
            "variable": "interest_savings",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "months_difference",
            "label": "Term difference (months)",
            "variable": "months_difference",
            "unit": "months",
            "format": "integer"
          }
        ]
      },
      "biweekly_vs_monthly": {
        "label": "Bi-Weekly Payments Impact",
        "description": "Estimate the effect of switching the same loan to bi-weekly payments (26 payments/year) versus monthly payments. Includes estimated total interest, annual cashflow difference, and an approximate months saved metric.",
        "variables": {
          "monthly_r": {
            "expression": "rate_current_annual_pct/100/12",
            "dependencies": [
              "rate_current_annual_pct"
            ],
            "label": "Monthly interest rate",
            "format": "decimal"
          },
          "monthly_n": {
            "expression": "term_current_years*12",
            "dependencies": [
              "term_current_years"
            ],
            "label": "Number of monthly payments",
            "unit": "months",
            "format": "integer"
          },
          "monthly_payment": {
            "expression": "(monthly_r*principal_current)/(1 - pow(1+monthly_r,-monthly_n))",
            "dependencies": [
              "monthly_r",
              "monthly_n",
              "principal_current"
            ],
            "label": "Monthly payment",
            "unit": "USD",
            "format": "currency"
          },
          "bi_r": {
            "expression": "rate_current_annual_pct/100/26",
            "dependencies": [
              "rate_current_annual_pct"
            ],
            "label": "Bi-weekly interest rate",
            "format": "decimal"
          },
          "bi_n": {
            "expression": "term_current_years*26",
            "dependencies": [
              "term_current_years"
            ],
            "label": "Number of bi-weekly payments",
            "unit": "payments",
            "format": "integer"
          },
          "bi_payment": {
            "expression": "(bi_r*principal_current)/(1 - pow(1+bi_r,-bi_n))",
            "dependencies": [
              "bi_r",
              "bi_n",
              "principal_current"
            ],
            "label": "Bi-weekly payment",
            "unit": "USD",
            "format": "currency"
          },
          "annual_paid_monthly": {
            "expression": "monthly_payment*12",
            "dependencies": [
              "monthly_payment"
            ],
            "label": "Annual amount paid (monthly schedule)",
            "unit": "USD",
            "format": "currency"
          },
          "annual_paid_biweekly": {
            "expression": "bi_payment*26",
            "dependencies": [
              "bi_payment"
            ],
            "label": "Annual amount paid (bi-weekly schedule)",
            "unit": "USD",
            "format": "currency"
          },
          "extra_annual_by_biweekly": {
            "expression": "annual_paid_biweekly - annual_paid_monthly",
            "dependencies": [
              "annual_paid_biweekly",
              "annual_paid_monthly"
            ],
            "label": "Extra annual amount paid when switching to bi-weekly (approx.)",
            "unit": "USD",
            "format": "currency"
          },
          "total_interest_monthly": {
            "expression": "monthly_payment*monthly_n - principal_current",
            "dependencies": [
              "monthly_payment",
              "monthly_n",
              "principal_current"
            ],
            "label": "Total interest (monthly schedule)",
            "unit": "USD",
            "format": "currency"
          },
          "total_interest_biweekly": {
            "expression": "bi_payment*bi_n - principal_current",
            "dependencies": [
              "bi_payment",
              "bi_n",
              "principal_current"
            ],
            "label": "Total interest (bi-weekly schedule)",
            "unit": "USD",
            "format": "currency"
          },
          "interest_saved_by_biweekly": {
            "expression": "total_interest_monthly - total_interest_biweekly",
            "dependencies": [
              "total_interest_monthly",
              "total_interest_biweekly"
            ],
            "label": "Estimated interest saved by switching to bi-weekly",
            "unit": "USD",
            "format": "currency"
          },
          "approx_months_saved": {
            "expression": "round((interest_saved_by_biweekly)/monthly_payment)",
            "dependencies": [
              "interest_saved_by_biweekly",
              "monthly_payment"
            ],
            "label": "Approximate months saved (estimate)",
            "unit": "months",
            "format": "integer"
          }
        },
        "outputs": [
          {
            "id": "monthly_payment",
            "label": "Monthly payment (original)",
            "variable": "monthly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "bi_payment",
            "label": "Bi-weekly payment",
            "variable": "bi_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "extra_annual_by_biweekly",
            "label": "Extra annual paid (approx.) if switching to bi-weekly",
            "variable": "extra_annual_by_biweekly",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "interest_saved_by_biweekly",
            "label": "Estimated interest saved by switching to bi-weekly",
            "variable": "interest_saved_by_biweekly",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "approx_months_saved",
            "label": "Approximate months saved",
            "variable": "approx_months_saved",
            "unit": "months",
            "format": "integer"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "principal_current",
        "label": "Current loan principal",
        "type": "number",
        "default": 30000,
        "min": 0,
        "step": 100
      },
      {
        "id": "rate_current_annual_pct",
        "label": "Current annual interest rate (APR, %)",
        "type": "number",
        "default": 5.5,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "term_current_years",
        "label": "Current remaining term (years)",
        "type": "integer",
        "default": 10,
        "min": 1,
        "max": 50,
        "step": 1
      },
      {
        "id": "principal_refi",
        "label": "Refinance loan principal (amount to refinance)",
        "type": "number",
        "default": 30000,
        "min": 0,
        "step": 100
      },
      {
        "id": "rate_refi_annual_pct",
        "label": "Refinance annual interest rate (APR, %)",
        "type": "number",
        "default": 4.0,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "term_refi_years",
        "label": "Refinance term (years)",
        "type": "integer",
        "default": 10,
        "min": 1,
        "max": 50,
        "step": 1
      },
      {
        "id": "extra_monthly_payment",
        "label": "Optional extra monthly payment",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "extra_biweekly_payment",
        "label": "Optional extra bi-weekly payment",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "output_precision_rounding",
        "label": "Rounding mode for displayed outputs (internal use)",
        "type": "select",
        "default": "2-decimal",
        "options": [
          {
            "label": "2 decimal places",
            "value": "2-decimal"
          },
          {
            "label": "No cents (nearest dollar)",
            "value": "0-decimal"
          }
        ]
      }
    ],
    "sections": []
  },
  "page_content": {
    "introduction": [
      "This calculator helps you evaluate refinancing your student loan and the impact of switching between monthly and bi-weekly payment schedules. Enter your current loan details and a refinance offer to see projected payments, total interest, and an estimate of interest and time savings.",
      "Results are produced by standard amortization formulas and common bi-weekly scheduling assumptions. The tool provides quick, conservative estimates; your lender's exact amortization table or payoff statement should be used for contractual decisions."
    ],
    "methodology": [
      "Monthly amortization uses the standard fixed-payment loan formula for periodic interest: payment = r * P / (1 - (1+r)^-n), where r is the periodic rate and n is the number of periods.",
      "Bi-weekly projections convert the annual APR into 26 equal periods per year and compute the periodic payment for that cadence. Bi-weekly schedules typically result in 26 half-month payments per year (effectively 13 monthly payments annually), which reduces principal sooner and lowers total interest.",
      "All numeric procedures adhere to conservative rounding and reproducibility recommendations from software and measurement guidance (see citations). Calculations assume fixed interest rates and no additional fees, prepayment penalties, or capitalization unless you input them as part of the principal."
    ],
    "how_is_calculated": [
      "Periodic rate (monthly) = APR / 100 / 12",
      "Monthly payment = (r * P) / (1 - (1 + r)^-n) where r = periodic rate, P = principal, n = total periods",
      "Bi-weekly rate = APR / 100 / 26; Bi-weekly payment uses the same fixed-payment formula with n = years * 26",
      "Total interest = total payments over life - principal; Interest savings = difference between two total interest outcomes"
    ],
    "faqs": [
      {
        "question": "Does the calculator account for lender fees or origination costs?",
        "answer": "No. This tool does not add origination fees, closing costs, or capitalization of unpaid interest. To include fees, add them to the refinance principal field so the calculation reflects the financed total."
      },
      {
        "question": "Are taxes, insurance, or forgiveness programs included?",
        "answer": "No. Results exclude taxes, insurance, employer payments, and income-driven repayment or loan forgiveness programs. For public service or income-driven eligibility impacts, consult your loan servicer or official program guidance."
      },
      {
        "question": "Why does switching to bi-weekly often save interest?",
        "answer": "Bi-weekly schedules apply payments more frequently and typically result in one extra monthly-equivalent payment per year, so principal is reduced sooner and interest accrues on a smaller balance."
      },
      {
        "question": "How accurate are the months-saved and interest-saved estimates?",
        "answer": "Estimates are approximate. Months-saved uses interest-savings divided by typical monthly payment as an approximation and may differ from precise amortization schedules produced by your lender. Use lender payoff statements for exact contract figures."
      }
    ],
    "citations": [
      {
        "label": "NIST Software and Systems Assurance Guidance",
        "url": "https://www.nist.gov/publications"
      },
      {
        "label": "ISO 9001 Quality Management Principles (for calculation controls)",
        "url": "https://www.iso.org/iso-9001-quality-management.html"
      },
      {
        "label": "IEEE numerical accuracy and reproducibility best practices",
        "url": "https://www.ieee.org/"
      },
      {
        "label": "OSHA guidance on risk communication (disclaimer and user safety)",
        "url": "https://www.osha.gov/"
      }
    ],
    "glossary": [
      {
        "term": "APR",
        "definition": "Annual Percentage Rate, the yearly interest rate expressed as a percentage before fees."
      },
      {
        "term": "Periodic rate",
        "definition": "The APR divided by the number of payment periods per year (for monthly, APR/12; for bi-weekly, APR/26)."
      },
      {
        "term": "Amortization",
        "definition": "The process of paying off a loan over time through regular payments of principal and interest."
      },
      {
        "term": "Bi-weekly payment schedule",
        "definition": "A repayment cadence with 26 equal payments per year (every two weeks), often treated as half of a monthly payment but resulting in 13 monthly-equivalent payments annually."
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov/publications",
        "label": "NIST publications",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/iso-9001-quality-management.html",
        "label": "ISO 9001 overview",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialProduct"
    ]
  }
}