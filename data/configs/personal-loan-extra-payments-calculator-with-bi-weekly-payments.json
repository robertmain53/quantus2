{
  "version": "1.0.0",
  "metadata": {
    "title": "Personal Loan Extra Payments Calculator — Bi‑Weekly & Monthly Scenarios",
    "description": "Compare standard monthly amortization, bi‑weekly schedules, and the impact of recurring extra principal (per payment, monthly, or annual). Includes payoff time, total interest, and payments required."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "biweekly_extra_per_payment",
    "methods": {
      "monthly_standard": {
        "label": "Monthly standard amortization",
        "description": "Standard monthly payment and amortization with no extra principal applied.",
        "variables": {
          "r_monthly": {
            "expression": "annual_interest_rate/100/12",
            "dependencies": [
              "annual_interest_rate"
            ],
            "label": "Periodic monthly rate (decimal)",
            "unit": "",
            "format": "percent",
            "display": true
          },
          "n_months": {
            "expression": "term_years * 12",
            "dependencies": [
              "term_years"
            ],
            "label": "Number of monthly payments",
            "unit": "months",
            "format": "integer",
            "display": false
          },
          "monthly_payment": {
            "expression": "loan_amount * r_monthly / (1 - pow(1 + r_monthly, -n_months))",
            "dependencies": [
              "loan_amount",
              "r_monthly",
              "n_months"
            ],
            "label": "Monthly payment (principal + interest)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_paid": {
            "expression": "monthly_payment * n_months",
            "dependencies": [
              "monthly_payment",
              "n_months"
            ],
            "label": "Total amount paid (no extras)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "total_interest": {
            "expression": "total_paid - loan_amount",
            "dependencies": [
              "total_paid",
              "loan_amount"
            ],
            "label": "Total interest paid (no extras)",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "monthly_payment",
            "label": "Monthly payment",
            "variable": "monthly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_interest",
            "label": "Total interest (no extras)",
            "variable": "total_interest",
            "unit": "USD",
            "format": "currency"
          }
        ]
      },
      "biweekly_standard": {
        "label": "Bi‑weekly standard schedule (no extras)",
        "description": "Bi‑weekly payments computed as a 26‑period per year amortization (no extra principal).",
        "variables": {
          "r_biweekly": {
            "expression": "annual_interest_rate/100/26",
            "dependencies": [
              "annual_interest_rate"
            ],
            "label": "Periodic bi‑weekly rate (decimal)",
            "format": "percent",
            "display": true
          },
          "n_biweekly": {
            "expression": "term_years * 26",
            "dependencies": [
              "term_years"
            ],
            "label": "Number of bi‑weekly payments",
            "unit": "periods",
            "format": "integer",
            "display": false
          },
          "biweekly_payment": {
            "expression": "loan_amount * r_biweekly / (1 - pow(1 + r_biweekly, -n_biweekly))",
            "dependencies": [
              "loan_amount",
              "r_biweekly",
              "n_biweekly"
            ],
            "label": "Bi‑weekly payment (principal + interest)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "total_paid_biweekly": {
            "expression": "biweekly_payment * n_biweekly",
            "dependencies": [
              "biweekly_payment",
              "n_biweekly"
            ],
            "label": "Total paid (no extras)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "total_interest_biweekly": {
            "expression": "total_paid_biweekly - loan_amount",
            "dependencies": [
              "total_paid_biweekly",
              "loan_amount"
            ],
            "label": "Total interest (no extras)",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "biweekly_payment",
            "label": "Bi‑weekly payment",
            "variable": "biweekly_payment",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "total_interest_biweekly",
            "label": "Total interest (no extras)",
            "variable": "total_interest_biweekly",
            "unit": "USD",
            "format": "currency"
          }
        ]
      },
      "biweekly_extra_per_payment": {
        "label": "Bi‑weekly with recurring extra per payment",
        "description": "Apply an extra principal amount to each bi‑weekly payment and compute shortened payoff and interest savings.",
        "variables": {
          "r": {
            "expression": "annual_interest_rate/100/26",
            "dependencies": [
              "annual_interest_rate"
            ],
            "label": "Bi‑weekly rate (decimal)",
            "format": "percent",
            "display": false
          },
          "n": {
            "expression": "term_years * 26",
            "dependencies": [
              "term_years"
            ],
            "label": "Scheduled number of bi‑weekly payments",
            "unit": "periods",
            "format": "integer",
            "display": false
          },
          "base_payment": {
            "expression": "loan_amount * r / (1 - pow(1 + r, -n))",
            "dependencies": [
              "loan_amount",
              "r",
              "n"
            ],
            "label": "Base bi‑weekly payment (no extras)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "extra_per_period": {
            "expression": "extra_payment_amount",
            "dependencies": [
              "extra_payment_amount"
            ],
            "label": "Extra principal added to each bi‑weekly payment",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payment_with_extra": {
            "expression": "base_payment + extra_per_period",
            "dependencies": [
              "base_payment",
              "extra_per_period"
            ],
            "label": "Effective bi‑weekly payment (with extra)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payments_needed": {
            "expression": "ceil(-log(1 - r * loan_amount / payment_with_extra) / log(1 + r))",
            "dependencies": [
              "r",
              "loan_amount",
              "payment_with_extra"
            ],
            "label": "Number of bi‑weekly payments until payoff",
            "unit": "periods",
            "format": "integer",
            "display": true
          },
          "total_paid": {
            "expression": "payment_with_extra * payments_needed",
            "dependencies": [
              "payment_with_extra",
              "payments_needed"
            ],
            "label": "Total amount paid (including extras)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "total_interest": {
            "expression": "total_paid - loan_amount",
            "dependencies": [
              "total_paid",
              "loan_amount"
            ],
            "label": "Total interest paid (with extras)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payoff_time_years": {
            "expression": "payments_needed / 26",
            "dependencies": [
              "payments_needed"
            ],
            "label": "Time to payoff (years)",
            "unit": "years",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "payment_with_extra",
            "label": "Bi‑weekly payment (with extra)",
            "variable": "payment_with_extra",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "payments_needed",
            "label": "Payments to payoff",
            "variable": "payments_needed",
            "unit": "periods",
            "format": "integer"
          },
          {
            "id": "payoff_time_years",
            "label": "Payoff time (years)",
            "variable": "payoff_time_years",
            "unit": "years",
            "format": "decimal"
          },
          {
            "id": "total_interest",
            "label": "Total interest (with extras)",
            "variable": "total_interest",
            "unit": "USD",
            "format": "currency"
          }
        ]
      },
      "biweekly_extra_monthly": {
        "label": "Bi‑weekly with recurring extra (monthly amount converted)",
        "description": "Apply a monthly extra principal amount converted to an equivalent bi‑weekly addition (extra_monthly * 12/26).",
        "variables": {
          "r": {
            "expression": "annual_interest_rate/100/26",
            "dependencies": [
              "annual_interest_rate"
            ],
            "label": "Bi‑weekly rate (decimal)",
            "format": "percent",
            "display": false
          },
          "n": {
            "expression": "term_years * 26",
            "dependencies": [
              "term_years"
            ],
            "label": "Scheduled number of bi‑weekly payments",
            "unit": "periods",
            "format": "integer",
            "display": false
          },
          "base_payment": {
            "expression": "loan_amount * r / (1 - pow(1 + r, -n))",
            "dependencies": [
              "loan_amount",
              "r",
              "n"
            ],
            "label": "Base bi‑weekly payment (no extras)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "extra_monthly_to_period": {
            "expression": "extra_payment_amount * 12 / 26",
            "dependencies": [
              "extra_payment_amount"
            ],
            "label": "Monthly extra converted to per‑bi‑weekly period",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payment_with_extra": {
            "expression": "base_payment + extra_monthly_to_period",
            "dependencies": [
              "base_payment",
              "extra_monthly_to_period"
            ],
            "label": "Effective bi‑weekly payment (with converted monthly extra)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payments_needed": {
            "expression": "ceil(-log(1 - r * loan_amount / payment_with_extra) / log(1 + r))",
            "dependencies": [
              "r",
              "loan_amount",
              "payment_with_extra"
            ],
            "label": "Number of bi‑weekly payments until payoff",
            "unit": "periods",
            "format": "integer",
            "display": true
          },
          "total_paid": {
            "expression": "payment_with_extra * payments_needed",
            "dependencies": [
              "payment_with_extra",
              "payments_needed"
            ],
            "label": "Total amount paid (including extras)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "total_interest": {
            "expression": "total_paid - loan_amount",
            "dependencies": [
              "total_paid",
              "loan_amount"
            ],
            "label": "Total interest paid (with extras)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payoff_time_years": {
            "expression": "payments_needed / 26",
            "dependencies": [
              "payments_needed"
            ],
            "label": "Time to payoff (years)",
            "unit": "years",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "payment_with_extra",
            "label": "Bi‑weekly payment (with converted monthly extra)",
            "variable": "payment_with_extra",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "payments_needed",
            "label": "Payments to payoff",
            "variable": "payments_needed",
            "unit": "periods",
            "format": "integer"
          },
          {
            "id": "payoff_time_years",
            "label": "Payoff time (years)",
            "variable": "payoff_time_years",
            "unit": "years",
            "format": "decimal"
          },
          {
            "id": "total_interest",
            "label": "Total interest (with extras)",
            "variable": "total_interest",
            "unit": "USD",
            "format": "currency"
          }
        ]
      },
      "biweekly_extra_annually": {
        "label": "Bi‑weekly with recurring extra (annual amount converted)",
        "description": "Apply an annual extra principal amount converted to an equivalent bi‑weekly addition (extra_annual / 26).",
        "variables": {
          "r": {
            "expression": "annual_interest_rate/100/26",
            "dependencies": [
              "annual_interest_rate"
            ],
            "label": "Bi‑weekly rate (decimal)",
            "format": "percent",
            "display": false
          },
          "n": {
            "expression": "term_years * 26",
            "dependencies": [
              "term_years"
            ],
            "label": "Scheduled number of bi‑weekly payments",
            "unit": "periods",
            "format": "integer",
            "display": false
          },
          "base_payment": {
            "expression": "loan_amount * r / (1 - pow(1 + r, -n))",
            "dependencies": [
              "loan_amount",
              "r",
              "n"
            ],
            "label": "Base bi‑weekly payment (no extras)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "extra_annual_to_period": {
            "expression": "extra_payment_amount / 26",
            "dependencies": [
              "extra_payment_amount"
            ],
            "label": "Annual extra converted to per‑bi‑weekly period",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payment_with_extra": {
            "expression": "base_payment + extra_annual_to_period",
            "dependencies": [
              "base_payment",
              "extra_annual_to_period"
            ],
            "label": "Effective bi‑weekly payment (with converted annual extra)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payments_needed": {
            "expression": "ceil(-log(1 - r * loan_amount / payment_with_extra) / log(1 + r))",
            "dependencies": [
              "r",
              "loan_amount",
              "payment_with_extra"
            ],
            "label": "Number of bi‑weekly payments until payoff",
            "unit": "periods",
            "format": "integer",
            "display": true
          },
          "total_paid": {
            "expression": "payment_with_extra * payments_needed",
            "dependencies": [
              "payment_with_extra",
              "payments_needed"
            ],
            "label": "Total amount paid (including extras)",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "total_interest": {
            "expression": "total_paid - loan_amount",
            "dependencies": [
              "total_paid",
              "loan_amount"
            ],
            "label": "Total interest paid (with extras)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payoff_time_years": {
            "expression": "payments_needed / 26",
            "dependencies": [
              "payments_needed"
            ],
            "label": "Time to payoff (years)",
            "unit": "years",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "payment_with_extra",
            "label": "Bi‑weekly payment (with converted annual extra)",
            "variable": "payment_with_extra",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "payments_needed",
            "label": "Payments to payoff",
            "variable": "payments_needed",
            "unit": "periods",
            "format": "integer"
          },
          {
            "id": "payoff_time_years",
            "label": "Payoff time (years)",
            "variable": "payoff_time_years",
            "unit": "years",
            "format": "decimal"
          },
          {
            "id": "total_interest",
            "label": "Total interest (with extras)",
            "variable": "total_interest",
            "unit": "USD",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "loan_amount",
        "label": "Loan amount",
        "type": "number",
        "default": 10000,
        "min": 0,
        "step": 50
      },
      {
        "id": "annual_interest_rate",
        "label": "Annual interest rate (APR)",
        "type": "number",
        "default": 7.5,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "term_years",
        "label": "Original term (years)",
        "type": "number",
        "default": 5,
        "min": 0.5,
        "max": 40,
        "step": 0.25
      },
      {
        "id": "extra_payment_amount",
        "label": "Extra principal amount",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 1
      },
      {
        "id": "extra_payment_frequency",
        "label": "Extra payment frequency (use method selector to match)",
        "type": "select",
        "default": "per_payment",
        "options": [
          {
            "label": "Per bi‑weekly payment (add to each payment)",
            "value": "per_payment"
          },
          {
            "label": "Monthly extra (converted to bi‑weekly)",
            "value": "monthly"
          },
          {
            "label": "Annual extra (converted to bi‑weekly)",
            "value": "annually"
          }
        ]
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator compares standard monthly amortization with bi‑weekly schedules and shows the impact of adding recurring extra principal. It reports per‑period payment amounts, number of payments to payoff, total interest paid, and estimated years to payoff.",
      "Use the method selector to choose the scenario that matches how you will apply extra principal (per bi‑weekly payment, as a monthly recurring amount, or as an annual lump sum). Results are estimates and intended for planning; always confirm with your lender before changing payment behavior."
    ],
    "methodology": [
      "Calculations use discrete periodic amortization formulas: periodic rate = APR / periods_per_year, number_of_periods = term_years * periods_per_year, and standard annuity formulas to compute payment per period.",
      "When recurring extra principal is applied, the tool computes the effective payment per period (base payment + extra) and solves for the number of periods to amortize the starting principal exactly using the closed‑form logarithmic solution for an installment loan. For zero or extremely small extra payments the solver resorts to scheduled term values — exercise caution for near‑zero denominators.",
      "This implementation observes engineering and data‑quality practices consistent with ISO and IEEE guidance for numerical computation and user transparency, and references NIST best practices for algorithmic reproducibility. It is not a substitute for professional financial advice."
    ],
    "how_is_calculated": [
      "Periodic rate (monthly) = APR / 100 / 12. Periodic rate (bi‑weekly) = APR / 100 / 26.",
      "Standard annuity payment: payment = P * r / (1 - (1 + r)^-n) where P is principal, r is periodic rate, n is number of periods.",
      "With recurring extra per period, effective payment = base_payment + extra. Number of periods to payoff is computed via: payments = ceil(-log(1 - r * P / effective_payment) / log(1 + r)).",
      "Total interest = total paid (effective_payment * payments) - principal. Time to payoff (years) = payments / periods_per_year."
    ],
    "faqs": [
      {
        "question": "Which method should I choose?",
        "answer": "Pick the scenario that matches how you will apply additional principal. If you add extra each bi‑weekly payroll, use 'per payment'. If you add a fixed amount monthly or annually, use the matching converter scenario so the tool correctly converts to an equivalent per‑bi‑weekly value."
      },
      {
        "question": "Are results exact?",
        "answer": "Results are mathematical estimates using standard amortization formulas. They assume constant interest rate and that the lender applies extra principal immediately to principal reduction. Rounding, interest calculation conventions (daily vs monthly accrual), and lender policies can change exact payoff timing and interest. See accuracy caveats and verify with your lender."
      },
      {
        "question": "What about one‑time extra payments?",
        "answer": "This calculator focuses on recurring extra principal scenarios. For one‑time extras, estimate impact by temporarily increasing 'extra payment amount' and using the nearest conversion method, then confirm with a lender or use an amortization schedule tool that accepts lump sums."
      },
      {
        "question": "How should I interpret negative or infinite results?",
        "answer": "If the extra payment is too small relative to interest (or the effective payment is less than the interest portion), the closed‑form solver may produce invalid or very large periods. The tool checks for these conditions and will surface warnings in the UI. Make sure effective periodic payment exceeds interest accrued per period."
      },
      {
        "question": "Does bi‑weekly always save interest?",
        "answer": "Bi‑weekly schedules often result in interest savings because 26 payments per year is equivalent to 13 monthly half‑payments, producing one extra full payment per year relative to 12 monthly payments. Savings depend on timing and whether the lender posts payments immediately to principal."
      },
      {
        "question": "How current and secure is the calculation?",
        "answer": "The numerical methods and implementation follow reproducible computation practices. For system security and data handling, follow NIST guidance on data protection. This tool does not retain personally identifiable data and is intended for estimation only."
      }
    ],
    "citations": [
      {
        "label": "NIST — Computer Security and Numerical Reproducibility",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO — Standards for numerical methods and software engineering",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE — Recommended practices in numerical computing",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA — Workplace guidance (cited for general standards compliance)",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "APR",
        "definition": "Annual Percentage Rate — the nominal annual interest rate charged on the loan, expressed as a percentage."
      },
      {
        "term": "Periodic rate",
        "definition": "Interest rate applied each payment period: APR divided by the number of periods per year (12 for monthly, 26 for bi‑weekly)."
      },
      {
        "term": "Amortization",
        "definition": "The process of paying off a debt over time through regular payments that cover interest and principal."
      },
      {
        "term": "Bi‑weekly schedule",
        "definition": "Schedule with 26 payment periods per year (every two weeks). Many borrowers paying half of a monthly payment bi‑weekly make the equivalent of 13 full monthly payments per year."
      },
      {
        "term": "Extra principal",
        "definition": "Any payment amount applied in addition to the required scheduled payment that is directed to reduce the loan principal."
      }
    ]
  },
  "links": {
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialProduct"
    ]
  }
}