{
  "version": "1.0.0",
  "metadata": {
    "title": "Options Profit & Payoff Calculator (Multi‑leg)",
    "description": "Interactive options profit calculator supporting common single-leg and multi-leg strategies with payoff at a target price, breakeven, net premium, and theoretical risk metrics. Includes calibration, limits, and accuracy notes aligned with best-practice standards."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "long_call",
    "methods": {
      "long_call": {
        "label": "Long Call",
        "description": "Buy a single call option. Outputs include total premium paid, breakeven, max loss, intrinsic value and profit at a target underlying price.",
        "variables": {
          "premium_total": {
            "expression": "(option_premium * contracts * contract_size) + (transaction_cost_per_contract * contracts)",
            "dependencies": [
              "option_premium",
              "contracts",
              "contract_size",
              "transaction_cost_per_contract"
            ],
            "label": "Total premium paid (including transaction cost)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "breakeven": {
            "expression": "strike + option_premium",
            "dependencies": [
              "strike",
              "option_premium"
            ],
            "label": "Breakeven underlying price at expiration",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "max_loss": {
            "expression": "premium_total",
            "dependencies": [
              "premium_total"
            ],
            "label": "Maximum possible loss",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "intrinsic_value_at_target": {
            "expression": "max(price_scenario - strike, 0) * contracts * contract_size",
            "dependencies": [
              "price_scenario",
              "strike",
              "contracts",
              "contract_size"
            ],
            "label": "Intrinsic value at target price",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "profit_at_target": {
            "expression": "(max(price_scenario - strike, 0) * contracts * contract_size) - premium_total",
            "dependencies": [
              "price_scenario",
              "strike",
              "contracts",
              "contract_size",
              "premium_total"
            ],
            "label": "Profit / (Loss) at target underlying price",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "premium_total",
            "label": "Total premium paid (USD)",
            "variable": "premium_total",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "breakeven",
            "label": "Breakeven (USD)",
            "variable": "breakeven",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "max_loss",
            "label": "Max loss (USD)",
            "variable": "max_loss",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "intrinsic_value_at_target",
            "label": "Intrinsic value at target (USD)",
            "variable": "intrinsic_value_at_target",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "profit_at_target",
            "label": "Profit at target (USD)",
            "variable": "profit_at_target",
            "unit": "USD",
            "format": "currency"
          }
        ]
      },
      "long_put": {
        "label": "Long Put",
        "description": "Buy a single put option. Outputs include total premium paid, breakeven, max loss, intrinsic value and profit at a target underlying price.",
        "variables": {
          "premium_total_put": {
            "expression": "(option_premium_put * contracts * contract_size) + (transaction_cost_per_contract * contracts)",
            "dependencies": [
              "option_premium_put",
              "contracts",
              "contract_size",
              "transaction_cost_per_contract"
            ],
            "label": "Total premium paid (including transaction cost)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "breakeven_put": {
            "expression": "strike_put - option_premium_put",
            "dependencies": [
              "strike_put",
              "option_premium_put"
            ],
            "label": "Breakeven underlying price at expiration",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "max_loss_put": {
            "expression": "premium_total_put",
            "dependencies": [
              "premium_total_put"
            ],
            "label": "Maximum possible loss",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "intrinsic_value_put_at_target": {
            "expression": "max(strike_put - price_scenario, 0) * contracts * contract_size",
            "dependencies": [
              "strike_put",
              "price_scenario",
              "contracts",
              "contract_size"
            ],
            "label": "Intrinsic value at target price",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "profit_put_at_target": {
            "expression": "(max(strike_put - price_scenario, 0) * contracts * contract_size) - premium_total_put",
            "dependencies": [
              "strike_put",
              "price_scenario",
              "contracts",
              "contract_size",
              "premium_total_put"
            ],
            "label": "Profit / (Loss) at target underlying price",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "premium_total_put",
            "label": "Total premium paid (USD)",
            "variable": "premium_total_put",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "breakeven_put",
            "label": "Breakeven (USD)",
            "variable": "breakeven_put",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "max_loss_put",
            "label": "Max loss (USD)",
            "variable": "max_loss_put",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "intrinsic_value_put_at_target",
            "label": "Intrinsic value at target (USD)",
            "variable": "intrinsic_value_put_at_target",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "profit_put_at_target",
            "label": "Profit at target (USD)",
            "variable": "profit_put_at_target",
            "unit": "USD",
            "format": "currency"
          }
        ]
      },
      "vertical_call_spread": {
        "label": "Bull Call Vertical (Debit) / Call Spread",
        "description": "Long call at lower strike and short call at higher strike. Outputs net premium, breakeven, max profit and max loss and payoff at a target underlying price.",
        "variables": {
          "net_premium_spread": {
            "expression": "((long_premium - short_premium) * contracts * contract_size) + (transaction_cost_per_contract * contracts)",
            "dependencies": [
              "long_premium",
              "short_premium",
              "contracts",
              "contract_size",
              "transaction_cost_per_contract"
            ],
            "label": "Net premium paid (debit) or received (credit) for spread",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "max_profit_spread": {
            "expression": "((short_strike - long_strike) * contracts * contract_size) - net_premium_spread",
            "dependencies": [
              "short_strike",
              "long_strike",
              "contracts",
              "contract_size",
              "net_premium_spread"
            ],
            "label": "Maximum possible profit",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "max_loss_spread": {
            "expression": "net_premium_spread",
            "dependencies": [
              "net_premium_spread"
            ],
            "label": "Maximum possible loss (debit) or absolute net premium if credit",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "breakeven_spread": {
            "expression": "long_strike + (net_premium_spread / (contracts * contract_size))",
            "dependencies": [
              "long_strike",
              "net_premium_spread",
              "contracts",
              "contract_size"
            ],
            "label": "Breakeven underlying price at expiration",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payoff_spread_at_target": {
            "expression": "(min(max(price_scenario - long_strike, 0), short_strike - long_strike) * contracts * contract_size) - net_premium_spread",
            "dependencies": [
              "price_scenario",
              "long_strike",
              "short_strike",
              "contracts",
              "contract_size",
              "net_premium_spread"
            ],
            "label": "Profit / (Loss) at target underlying price",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "net_premium_spread",
            "label": "Net premium (USD)",
            "variable": "net_premium_spread",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "breakeven_spread",
            "label": "Breakeven (USD)",
            "variable": "breakeven_spread",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "max_profit_spread",
            "label": "Max profit (USD)",
            "variable": "max_profit_spread",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "max_loss_spread",
            "label": "Max loss (USD)",
            "variable": "max_loss_spread",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "payoff_spread_at_target",
            "label": "Profit at target (USD)",
            "variable": "payoff_spread_at_target",
            "unit": "USD",
            "format": "currency"
          }
        ]
      },
      "iron_condor": {
        "label": "Iron Condor",
        "description": "Short call spread and short put spread combination. Outputs net credit, max loss, and payoff at a target underlying price. Assumes symmetrical contracts and contract size.",
        "variables": {
          "net_credit": {
            "expression": "((short_call_premium + short_put_premium - long_call_premium - long_put_premium) * contracts * contract_size) - (transaction_cost_per_contract * contracts)",
            "dependencies": [
              "short_call_premium",
              "short_put_premium",
              "long_call_premium",
              "long_put_premium",
              "contracts",
              "contract_size",
              "transaction_cost_per_contract"
            ],
            "label": "Net credit received (USD)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "width_call": {
            "expression": "short_call_strike - long_call_strike",
            "dependencies": [
              "short_call_strike",
              "long_call_strike"
            ],
            "label": "Call spread width",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "width_put": {
            "expression": "short_put_strike - long_put_strike",
            "dependencies": [
              "short_put_strike",
              "long_put_strike"
            ],
            "label": "Put spread width",
            "unit": "USD",
            "format": "currency",
            "display": false
          },
          "max_loss_iron": {
            "expression": "(min(width_call, width_put) * contracts * contract_size) - net_credit",
            "dependencies": [
              "width_call",
              "width_put",
              "contracts",
              "contract_size",
              "net_credit"
            ],
            "label": "Maximum possible loss (USD)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "payoff_iron_at_target": {
            "expression": "(-net_credit) + (clamp_loss = if(price_scenario < short_put_strike, max(long_put_strike - price_scenario,0), if(price_scenario > short_call_strike, max(price_scenario - long_call_strike,0), 0)) * contracts * contract_size) - 0",
            "dependencies": [
              "price_scenario",
              "short_put_strike",
              "long_put_strike",
              "short_call_strike",
              "long_call_strike",
              "contracts",
              "contract_size",
              "net_credit"
            ],
            "label": "Estimated P&L at target price (USD) (approximate; sees extremes of wings)",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "net_credit",
            "label": "Net credit (USD)",
            "variable": "net_credit",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "max_loss_iron",
            "label": "Max loss (USD)",
            "variable": "max_loss_iron",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "payoff_iron_at_target",
            "label": "Profit at target (USD) (approx.)",
            "variable": "payoff_iron_at_target",
            "unit": "USD",
            "format": "currency"
          }
        ]
      },
      "custom_multi_leg": {
        "label": "Custom Multi‑Leg (User enters each leg)",
        "description": "Flexible multi-leg where each leg's payout is aggregated. Useful for bespoke strategies. Results show net premium, total intrinsic at target, and P&L at target.",
        "variables": {
          "net_premium_custom": {
            "expression": "sum(legs_premiums) * contracts * contract_size + (transaction_cost_per_contract * contracts)",
            "dependencies": [
              "legs_premiums",
              "contracts",
              "contract_size",
              "transaction_cost_per_contract"
            ],
            "label": "Net premium paid / received across all legs (USD)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "intrinsic_custom_at_target": {
            "expression": "sum(legs_intrinsic_at_target) * contracts * contract_size",
            "dependencies": [
              "legs_intrinsic_at_target",
              "contracts",
              "contract_size"
            ],
            "label": "Total intrinsic value across legs at target price",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "profit_custom_at_target": {
            "expression": "intrinsic_custom_at_target - net_premium_custom",
            "dependencies": [
              "intrinsic_custom_at_target",
              "net_premium_custom"
            ],
            "label": "Profit / (Loss) at target underlying price",
            "unit": "USD",
            "format": "currency",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "net_premium_custom",
            "label": "Net premium (USD)",
            "variable": "net_premium_custom",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "intrinsic_custom_at_target",
            "label": "Total intrinsic at target (USD)",
            "variable": "intrinsic_custom_at_target",
            "unit": "USD",
            "format": "currency"
          },
          {
            "id": "profit_custom_at_target",
            "label": "Profit at target (USD)",
            "variable": "profit_custom_at_target",
            "unit": "USD",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "underlying_price",
        "label": "Current underlying price",
        "type": "number",
        "default": 100,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "contracts",
        "label": "Number of contracts",
        "type": "integer",
        "default": 1,
        "min": 1,
        "step": 1
      },
      {
        "id": "contract_size",
        "label": "Contract size (shares per contract)",
        "type": "integer",
        "default": 100,
        "min": 1,
        "step": 1
      },
      {
        "id": "days_to_expiration",
        "label": "Days to expiration",
        "type": "integer",
        "default": 30,
        "min": 1,
        "step": 1
      },
      {
        "id": "implied_volatility",
        "label": "Implied volatility (decimal, e.g. 0.25)",
        "type": "number",
        "default": 0.25,
        "min": 0,
        "max": 5,
        "step": 0.01
      },
      {
        "id": "risk_free_rate",
        "label": "Risk-free rate (decimal, e.g. 0.03)",
        "type": "number",
        "default": 0.03,
        "min": 0,
        "max": 1,
        "step": 0.0001
      },
      {
        "id": "transaction_cost_per_contract",
        "label": "Transaction cost per contract (USD)",
        "type": "number",
        "default": 1.0,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "price_scenario",
        "label": "Target underlying price for payoff",
        "type": "number",
        "default": 110,
        "min": 0,
        "step": 0.01
      }
    ],
    "sections": [
      {
        "id": "long_call_section",
        "label": "Long call inputs",
        "fields": [
          {
            "id": "strike",
            "label": "Call strike price",
            "type": "number",
            "default": 100,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "option_premium",
            "label": "Call premium (per share)",
            "type": "number",
            "default": 2.5,
            "min": 0,
            "step": 0.01
          }
        ]
      },
      {
        "id": "long_put_section",
        "label": "Long put inputs",
        "fields": [
          {
            "id": "strike_put",
            "label": "Put strike price",
            "type": "number",
            "default": 100,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "option_premium_put",
            "label": "Put premium (per share)",
            "type": "number",
            "default": 2.5,
            "min": 0,
            "step": 0.01
          }
        ]
      },
      {
        "id": "vertical_call_spread_section",
        "label": "Call vertical spread inputs",
        "fields": [
          {
            "id": "long_strike",
            "label": "Long call strike (lower)",
            "type": "number",
            "default": 95,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "short_strike",
            "label": "Short call strike (higher)",
            "type": "number",
            "default": 105,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "long_premium",
            "label": "Long call premium (per share)",
            "type": "number",
            "default": 6.0,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "short_premium",
            "label": "Short call premium (per share)",
            "type": "number",
            "default": 2.0,
            "min": 0,
            "step": 0.01
          }
        ]
      },
      {
        "id": "iron_condor_section",
        "label": "Iron condor inputs",
        "fields": [
          {
            "id": "long_put_strike",
            "label": "Long put strike (lower)",
            "type": "number",
            "default": 90,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "short_put_strike",
            "label": "Short put strike",
            "type": "number",
            "default": 95,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "short_call_strike",
            "label": "Short call strike",
            "type": "number",
            "default": 105,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "long_call_strike",
            "label": "Long call strike (higher)",
            "type": "number",
            "default": 110,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "long_put_premium",
            "label": "Long put premium (per share)",
            "type": "number",
            "default": 0.5,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "short_put_premium",
            "label": "Short put premium (per share)",
            "type": "number",
            "default": 1.5,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "short_call_premium",
            "label": "Short call premium (per share)",
            "type": "number",
            "default": 1.5,
            "min": 0,
            "step": 0.01
          },
          {
            "id": "long_call_premium",
            "label": "Long call premium (per share)",
            "type": "number",
            "default": 0.5,
            "min": 0,
            "step": 0.01
          }
        ]
      },
      {
        "id": "custom_multi_leg_section",
        "label": "Custom multi-leg inputs",
        "fields": [
          {
            "id": "legs_premiums",
            "label": "Array: net per-share premium per leg (comma separated)",
            "type": "text",
            "default": "0.0",
            "step": 0.01
          },
          {
            "id": "legs_intrinsic_at_target",
            "label": "Array: intrinsic per-share per leg at target (comma separated)",
            "type": "text",
            "default": "0.0",
            "step": 0.01
          }
        ]
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This calculator models profit, loss and key metrics for common option strategies including single-leg (long call, long put) and multi-leg (vertical spreads, iron condor, custom). Inputs are per-share option premiums and strikes; contract size is applied to convert to USD values.",
      "Results show net premium, breakeven, maximum theoretical loss and profit at a user-selected target underlying price. Use the transaction cost and contract size fields to reflect real trading costs and standard option contract specifications."
    ],
    "methodology": [
      "Calculations use deterministic algebraic formulas applied to user inputs. We compute per-share intrinsic values and scale by number of contracts and contract size to report USD figures.",
      "This tool is for scenario analysis and does not execute trades. It does not perform live mark-to-market or margin calculations beyond simple theoretical maxima and target-price payoffs.",
      "Accuracy practices: inputs are treated as exact numeric values. For production use, round-trip testing and numerical validation should follow quality management guidelines such as ISO 9001 and algorithmic development controls recommended in IEEE software engineering standards. For security and data handling, follow NIST cybersecurity guidance."
    ],
    "how_is_calculated": [
      "Long call premium_total = (option_premium * contracts * contract_size) + (transaction_cost_per_contract * contracts).",
      "Long call breakeven = strike + option_premium.",
      "Call vertical net premium = (long_premium - short_premium) * contracts * contract_size + transaction_costs.",
      "Iron condor net credit = (short_call_premium + short_put_premium - long_call_premium - long_put_premium) * contracts * contract_size - transaction_costs.",
      "Profit at target price = total intrinsic value at target - net premium (positive = profit, negative = loss)."
    ],
    "examples": [
      "Example: Buy 1 call at 2.50 premium with 100 contract size, strike 100. Premium total = 2.50 * 1 * 100 = $250. Breakeven = 102.50.",
      "Example: Bull call spread long 95 (6.00) short 105 (2.00) with 1 contract: net premium = (6.00 - 2.00) * 100 = $400 gross. Max profit = (105 - 95) * 100 - 400 = $600."
    ],
    "faqs": [
      {
        "question": "Does this calculator account for assignment and margin?",
        "answer": "No. This tool provides theoretical P&L and does not simulate exercise/assignment flows or broker margin rules. Consult your broker for margin and assignment mechanics."
      },
      {
        "question": "Are Greeks or time decay included?",
        "answer": "Not directly. Implied volatility and days to expiration are available as inputs for advanced modeling, but Greeks (delta/theta/vega) are not computed by default in this version. Use dedicated Greeks models for sensitivity analysis."
      },
      {
        "question": "How accurate are the payoff numbers?",
        "answer": "Payoffs are exact algebraic calculations based on inputs. Real-world execution, slippage, fills, early exercise, dividends, and borrow/interest costs can alter outcomes. See the accuracy and limits section below for standards and calibration notes."
      }
    ],
    "citations": [
      {
        "label": "NIST — Cybersecurity & best practices",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO — Quality management standards",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE — Software engineering and algorithm development guidance",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA — Workplace safety and operational controls (for operational risk programs)",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Premium",
        "definition": "Price paid per share for the option contract. Multiply by contract size to convert to USD."
      },
      {
        "term": "Breakeven",
        "definition": "Underlying price at expiration at which the position's net profit is zero after accounting for premium."
      },
      {
        "term": "Intrinsic value",
        "definition": "Option value if exercised immediately: call = max(S - K, 0); put = max(K - S, 0), where S is underlying price and K is strike."
      },
      {
        "term": "Net premium",
        "definition": "Sum of premiums paid and received across legs, scaled by contracts and contract size, including transaction costs if entered."
      },
      {
        "term": "Contract size",
        "definition": "Number of underlying shares represented by one options contract (commonly 100)."
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org",
        "label": "ISO",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org",
        "label": "IEEE",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.osha.gov",
        "label": "OSHA",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialProduct"
    ]
  }
}