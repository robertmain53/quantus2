{
  "version": "1.0.0",
  "metadata": {
    "title": "Debt Service Coverage Ratio (DSCR) – Advanced Calculator",
    "description": "Interactive DSCR calculator supporting common methods (real estate using NOI, corporate using EBITDA, and a custom mode). Shows DSCR, interpretation guidance, and cautions about inputs, rounding, and regulatory-quality controls."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "real_estate_noi",
    "methods": {
      "real_estate_noi": {
        "label": "Real estate (NOI / Annual Debt Service)",
        "description": "Uses annual Net Operating Income (NOI) as the numerator and total annual debt service (principal + interest) as the denominator.",
        "variables": {
          "numerator": {
            "expression": "annual_noi",
            "dependencies": [
              "annual_noi"
            ],
            "label": "Annual Net Operating Income (NOI)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "denominator": {
            "expression": "annual_debt_service",
            "dependencies": [
              "annual_debt_service"
            ],
            "label": "Annual Debt Service (Principal + Interest)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "dscr": {
            "expression": "numerator / denominator",
            "dependencies": [
              "numerator",
              "denominator"
            ],
            "label": "Debt Service Coverage Ratio (DSCR)",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "dscr",
            "label": "Debt Service Coverage Ratio (DSCR)",
            "variable": "dscr",
            "format": "decimal"
          }
        ]
      },
      "corporate_ebitda": {
        "label": "Corporate (EBITDA + Adjustments / Annual Debt Service)",
        "description": "For corporate borrowers, uses EBITDA adjusted for agreed add-backs in the numerator and annual principal + interest payments in the denominator.",
        "variables": {
          "ebitda": {
            "expression": "ebitda",
            "dependencies": [
              "ebitda"
            ],
            "label": "EBITDA (Trailing 12 months)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "adjustments": {
            "expression": "adjustments",
            "dependencies": [
              "adjustments"
            ],
            "label": "Contractual Add-back Adjustments",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "numerator": {
            "expression": "ebitda + adjustments",
            "dependencies": [
              "ebitda",
              "adjustments"
            ],
            "label": "Adjusted EBITDA (numerator)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "denominator": {
            "expression": "annual_debt_service",
            "dependencies": [
              "annual_debt_service"
            ],
            "label": "Annual Debt Service (Principal + Interest)",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "dscr": {
            "expression": "numerator / denominator",
            "dependencies": [
              "numerator",
              "denominator"
            ],
            "label": "Debt Service Coverage Ratio (DSCR)",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "dscr",
            "label": "Debt Service Coverage Ratio (DSCR)",
            "variable": "dscr",
            "format": "decimal"
          }
        ]
      },
      "custom": {
        "label": "Custom numerator / denominator",
        "description": "Enter any custom numerator and denominator to compute a DSCR-like coverage metric. Useful for nonstandard lender definitions or pro forma scenarios.",
        "variables": {
          "numerator": {
            "expression": "custom_numerator",
            "dependencies": [
              "custom_numerator"
            ],
            "label": "Custom Numerator",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "denominator": {
            "expression": "custom_denominator",
            "dependencies": [
              "custom_denominator"
            ],
            "label": "Custom Denominator",
            "unit": "USD",
            "format": "currency",
            "display": true
          },
          "dscr": {
            "expression": "numerator / denominator",
            "dependencies": [
              "numerator",
              "denominator"
            ],
            "label": "Custom Coverage Ratio",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "dscr",
            "label": "Coverage Ratio",
            "variable": "dscr",
            "format": "decimal"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "method",
        "label": "Calculation method",
        "type": "select",
        "default": "real_estate_noi",
        "options": [
          {
            "label": "Real estate (NOI / Annual Debt Service)",
            "value": "real_estate_noi"
          },
          {
            "label": "Corporate (EBITDA + Adjustments / Annual Debt Service)",
            "value": "corporate_ebitda"
          },
          {
            "label": "Custom numerator / denominator",
            "value": "custom"
          }
        ]
      }
    ],
    "sections": [
      {
        "id": "real_estate_section",
        "label": "Real estate inputs",
        "show_when": {
          "field": "method",
          "is": "real_estate_noi"
        },
        "fields": [
          {
            "id": "annual_noi",
            "label": "Annual Net Operating Income (NOI)",
            "type": "number",
            "default": 100000,
            "min": 0,
            "step": 1
          },
          {
            "id": "annual_debt_service",
            "label": "Annual Debt Service (Principal + Interest)",
            "type": "number",
            "default": 80000,
            "min": 0,
            "step": 1
          }
        ]
      },
      {
        "id": "corporate_section",
        "label": "Corporate inputs",
        "show_when": {
          "field": "method",
          "is": "corporate_ebitda"
        },
        "fields": [
          {
            "id": "ebitda",
            "label": "EBITDA (Trailing 12 months)",
            "type": "number",
            "default": 100000,
            "min": 0,
            "step": 1
          },
          {
            "id": "adjustments",
            "label": "Contractual Add-back Adjustments (e.g., non-recurring items)",
            "type": "number",
            "default": 0,
            "min": 0,
            "step": 1
          },
          {
            "id": "annual_debt_service",
            "label": "Annual Debt Service (Principal + Interest)",
            "type": "number",
            "default": 80000,
            "min": 0,
            "step": 1
          }
        ]
      },
      {
        "id": "custom_section",
        "label": "Custom inputs",
        "show_when": {
          "field": "method",
          "is": "custom"
        },
        "fields": [
          {
            "id": "custom_numerator",
            "label": "Custom numerator",
            "type": "number",
            "default": 100000,
            "min": 0,
            "step": 1
          },
          {
            "id": "custom_denominator",
            "label": "Custom denominator",
            "type": "number",
            "default": 80000,
            "min": 0.0001,
            "step": 1
          }
        ]
      }
    ]
  },
  "page_content": {
    "introduction": [
      "The Debt Service Coverage Ratio (DSCR) measures a borrower's ability to cover debt payments from operating cash flow. It is commonly applied to real estate loans (using Net Operating Income) and to corporate lending (using EBITDA with permitted adjustments).",
      "This calculator supports three modes: a real estate NOI-based calculation, a corporate EBITDA-based calculation with adjustments, and a custom numerator/denominator mode for nonstandard lender definitions or pro forma scenarios. Use the method selector to match your lender's definition."
    ],
    "methodology": [
      "DSCR is calculated as a coverage ratio: numerator divided by denominator. For real estate the numerator is annual Net Operating Income (NOI) and the denominator is total annual debt service (principal plus interest). For corporate borrowers the numerator is adjusted EBITDA per the loan agreement and the denominator is annual debt service.",
      "This tool performs straightforward arithmetic based on your inputs. It does not fetch or validate accounting records. Ensure the inputs match the definition used by your lender or financial model. Maintain auditability by documenting the source and period for each input.",
      "Accuracy and data handling recommendations follow best practices for financial calculation tools. Use version control for input assumptions and preserve supporting schedules. For software quality and secure data handling, consider relevant standards such as ISO quality frameworks, IEEE software engineering practices, and NIST guidance for data integrity and controls."
    ],
    "how_is_calculated": [
      "Real estate (NOI method): DSCR = Annual Net Operating Income (NOI) ÷ Annual Debt Service (principal + interest).",
      "Corporate (EBITDA method): DSCR = (EBITDA + Contractual Add-backs) ÷ Annual Debt Service.",
      "Custom: DSCR-like ratio = Custom Numerator ÷ Custom Denominator. Ensure the denominator is not zero; the calculator will return an undefined or extremely large value if the denominator approaches zero."
    ],
    "examples": [
      "Example 1 (real estate): NOI = 120,000; annual debt service = 90,000. DSCR = 120,000 ÷ 90,000 = 1.33.",
      "Example 2 (corporate): EBITDA = 500,000; add-backs = 30,000; annual debt service = 400,000. DSCR = (500,000 + 30,000) ÷ 400,000 = 1.325.",
      "Example 3 (custom): custom numerator = 200,000; custom denominator = 250,000. Coverage ratio = 0.80."
    ],
    "faqs": [
      {
        "question": "What DSCR value do lenders typically require?",
        "answer": "Minimum DSCR requirements vary by lender, asset class, and loan terms. For many commercial real estate loans a DSCR of 1.20 to 1.35 or higher is commonly required, while some lenders require higher minimums for riskier assets. Corporate covenants also vary. Confirm the lender's required DSCR in the loan documentation."
      },
      {
        "question": "Is DSCR the same as debt-to-income or loan-to-value?",
        "answer": "No. DSCR measures coverage (cash flow relative to debt payments). Debt-to-income and loan-to-value measure leverage and collateral relative to income or asset value; they answer different underwriting questions."
      },
      {
        "question": "How should I treat one-time income or expenses when calculating DSCR?",
        "answer": "One-time items are treated according to the lender's policy. In corporate contexts, lenders may allow 'add-backs' to EBITDA for approved non-recurring expenses. For property-level calculations, consistent treatment across periods is essential. Document any adjustments and their rationale."
      },
      {
        "question": "What are common limitations of this calculator?",
        "answer": "This calculator uses user-provided inputs and simple arithmetic. It does not substitute for audited statements, lender audits, or amortization schedules. It does not model timing mismatches, interest rate variability, tax effects, or covenant triggers. Use it for indicative analysis and verify with detailed schedules when making decisions."
      },
      {
        "question": "How should I interpret a DSCR below 1.0?",
        "answer": "A DSCR below 1.0 indicates that operating cash flow is insufficient to cover annual debt service and the borrower would need additional cash sources to meet payments. Lenders typically view DSCRs below 1.0 as high risk, unless covered by other credit mitigants."
      }
    ],
    "glossary": [
      {
        "term": "DSCR",
        "definition": "Debt Service Coverage Ratio. A unitless ratio equal to a cash-flow-based numerator divided by annual debt service."
      },
      {
        "term": "NOI",
        "definition": "Net Operating Income. For property-level calculations, typically gross operating income minus operating expenses, before debt service, depreciation, and income taxes."
      },
      {
        "term": "Debt Service",
        "definition": "Total annual principal plus interest payments due on debt."
      },
      {
        "term": "EBITDA",
        "definition": "Earnings Before Interest, Taxes, Depreciation, and Amortization. Often used in corporate DSCR calculations with lender-specific adjustments."
      },
      {
        "term": "Add-backs",
        "definition": "Permitted adjustments to EBITDA (or other metrics) for non-recurring or non-cash expenses agreed with a lender."
      }
    ],
    "citations": [
      {
        "label": "National Institute of Standards and Technology (NIST)",
        "url": "https://www.nist.gov/"
      },
      {
        "label": "International Organization for Standardization (ISO)",
        "url": "https://www.iso.org/"
      },
      {
        "label": "IEEE Standards Association",
        "url": "https://www.ieee.org/"
      },
      {
        "label": "Occupational Safety and Health Administration (OSHA)",
        "url": "https://www.osha.gov/"
      }
    ]
  },
  "links": {
    "internal": [],
    "external": [
      {
        "url": "https://www.nist.gov/",
        "label": "NIST homepage",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/",
        "label": "ISO homepage",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.ieee.org/",
        "label": "IEEE homepage",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.osha.gov/",
        "label": "OSHA homepage",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo"
    ]
  }
}