{
  "version": "1.0.0",
  "metadata": {
    "title": "Mortgage Amortization Calculator (Includes Bi-Weekly & Other Frequencies)",
    "description": "Calculate scheduled periodic payments, total paid, total interest, and estimated payoff time for mortgage loans using monthly, bi‑weekly, or weekly payment frequencies. Includes optional extra principal per period and accuracy notes tied to industry standards."
  },
  "logic": {
    "type": "formula",
    "outputs": [
      {
        "id": "periodic_payment",
        "label": "Scheduled periodic payment (including extra principal)",
        "expression": "((annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period)",
        "format": "currency"
      },
      {
        "id": "total_paid",
        "label": "Estimated total paid over life of loan",
        "expression": "(( (annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period) * (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))))",
        "format": "currency"
      },
      {
        "id": "total_interest",
        "label": "Estimated total interest paid",
        "expression": "((( (annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period) * (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) - principal)",
        "format": "currency"
      },
      {
        "id": "payments_until_paid",
        "label": "Estimated number of payments until payoff",
        "expression": "(annual_rate==0 ? ceil(principal / ((annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period))) : ( (( (annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period) <= ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * principal) ) ? (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : ceil( log( ( (annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period) / ( ( (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * principal) * 0 + ( (annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period) - (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * principal ) ) ) ) )",
        "format": "integer"
      },
      {
        "id": "payoff_time_years",
        "label": "Estimated payoff time (years)",
        "expression": "((annual_rate==0 ? ceil(principal / ((annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) ) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period))) : ( (( (annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period) <= ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * principal) ) ? (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : ceil( log( ( (annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period) / ( ( (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * principal) * 0 + ( (annual_rate==0 ? principal / (term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) : (principal * ((annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))) / (pow(1 + (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))), term_years * (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) - 1))) + extra_payment_per_period) - (annual_rate/100 / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12))) * principal ) ) ) ) ) / (payment_option==\"biweekly\"?26:(payment_option==\"weekly\"?52:12)))",
        "format": "decimal"
      }
    ]
  },
  "form": {
    "fields": [
      {
        "id": "principal",
        "label": "Loan principal (amount borrowed)",
        "type": "number",
        "default": 300000,
        "min": 0,
        "step": 0.01
      },
      {
        "id": "annual_rate",
        "label": "Annual interest rate (APR) in percent",
        "type": "number",
        "default": 3.5,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "term_years",
        "label": "Original loan term (years)",
        "type": "integer",
        "default": 30,
        "min": 1,
        "max": 50,
        "step": 1
      },
      {
        "id": "payment_option",
        "label": "Payment frequency",
        "type": "select",
        "default": "biweekly",
        "options": [
          {
            "label": "Monthly (12 per year)",
            "value": "monthly"
          },
          {
            "label": "Bi‑weekly (26 per year)",
            "value": "biweekly"
          },
          {
            "label": "Weekly (52 per year)",
            "value": "weekly"
          }
        ]
      },
      {
        "id": "extra_payment_per_period",
        "label": "Extra principal paid each period (optional)",
        "type": "number",
        "default": 0,
        "min": 0,
        "step": 0.01
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "periodic_payment",
          "label": "Periodic payment (incl. extra)"
        },
        {
          "id": "total_paid",
          "label": "Total paid over life"
        },
        {
          "id": "total_interest",
          "label": "Total interest paid"
        },
        {
          "id": "payments_until_paid",
          "label": "Number of payments until payoff",
          "format": "integer"
        },
        {
          "id": "payoff_time_years",
          "label": "Payoff time (years)",
          "format": "decimal",
          "unit": "years"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "This calculator computes scheduled periodic payments, total money paid, total interest, and estimated payoff time for a mortgage using monthly, bi‑weekly, or weekly payment frequencies. You may add a fixed extra principal amount per period to see how extra payments accelerate payoff and reduce interest.",
      "Results are estimates for planning purposes. Actual lender schedules, day‑count conventions, escrow payments, fees, and payment posting times can change final outcomes. Use values from your loan documents for best accuracy."
    ],
    "methodology": [
      "The tool converts annual interest rate to an effective periodic rate given the chosen payment frequency (monthly = 12, bi‑weekly = 26, weekly = 52). It uses the standard fixed‑payment amortization formula for installment loans when interest rate is nonzero; for a zero interest rate the principal is divided evenly across periods.",
      "To estimate accelerated payoff from extra principal, the calculator treats extra payments as applied directly to principal each period and solves the discrete amortization equation to estimate the number of periods required to reduce principal to zero. Numerical rounding is applied to present user‑friendly results."
    ],
    "how_is_calculated": [
      "Periodic rate i = (annual_rate / 100) / payments_per_year where payments_per_year is 12, 26, or 52.",
      "Scheduled base payment (no extra) when the rate is positive: A = P * (i * (1+i)^N) / ((1+i)^N - 1), where P = principal and N = term_years * payments_per_year. If the rate is zero then A = P / N.",
      "When extra principal E is added per period, periodic payment = A + E. The number of payments n until payoff solves A_total = P * i / (1 - (1+i)^-n) when the rate is positive; when the rate is zero, n equals the ceiling of principal divided by A_total."
    ],
    "examples": [
      "Example 1: $300,000 principal, 3.5% APR, 30 years, bi‑weekly payments with $0 extra. The calculator returns the scheduled bi‑weekly payment, total interest over the loan, and payoff time equal to the nominal term.",
      "Example 2: Same loan but $50 extra per bi‑weekly payment. The calculator estimates reduced total interest and a shortened payoff time; results illustrate how small recurring extra contributions accelerate payoff."
    ],
    "faqs": [
      {
        "question": "Why does the bi‑weekly option often show interest savings vs monthly?",
        "answer": "Bi‑weekly frequency increases the number of payments per year (26 vs 12), and because some lenders apply payments more frequently to principal, the effective amortization can reduce interest. This calculator assumes each periodic payment is applied when scheduled and extra principal is applied directly to principal."
      },
      {
        "question": "Are these results exact for my loan?",
        "answer": "No. Results are precise within the calculator's mathematical model but are estimates. Actual payoff and interest depend on your lender's day‑count conventions, rounding rules, payment posting times, fees, and whether the lender treats bi‑weekly plans as accelerated monthly equivalents. Always confirm with your loan servicer."
      },
      {
        "question": "What about taxes, escrow, PMI, or fees?",
        "answer": "This tool calculates principal and interest only. Taxes, insurance, mortgage insurance (PMI), and other fees are excluded and must be added separately when budgeting."
      },
      {
        "question": "What numerical limits or failure modes should I watch for?",
        "answer": "If the periodic payment (including extra principal) is less than or equal to the interest accrued each period, the loan will not amortize (interest may capitalize). The calculator flags this by returning the original term as a ceiling in that scenario; verify inputs to ensure the payment exceeds periodic interest."
      },
      {
        "question": "How should I interpret small differences versus lender statements?",
        "answer": "Small discrepancies can arise from rounding differences, payment application timing, and daily interest accruals. Use lender amortization schedules for legal amounts."
      },
      {
        "question": "How accurate is the payoff time when extra payments are used?",
        "answer": "The payoff time formula solves the discrete amortization relation and then rounds up to an integer number of payments. This estimate is consistent with standard amortization mathematics but may differ from an exact servicer schedule by one period due to rounding and payment posting timing."
      }
    ],
    "citations": [
      {
        "label": "NIST - Numerical Methods and Software Quality Principles",
        "url": "https://www.nist.gov/publications"
      },
      {
        "label": "ISO - Quality Management Systems (example guidance)",
        "url": "https://www.iso.org/iso-9001-quality-management.html"
      },
      {
        "label": "IEEE Standards Association - Software and Numerical Standards",
        "url": "https://standards.ieee.org"
      },
      {
        "label": "OSHA - General Guidance on Validation and Documentation Practices",
        "url": "https://www.osha.gov/laws-regs"
      }
    ],
    "glossary": [
      {
        "term": "Amortization",
        "definition": "Process of repaying a loan by regular payments that cover interest plus principal so the balance reaches zero at the end of the term."
      },
      {
        "term": "Periodic rate",
        "definition": "Interest rate applied each payment period, computed as annual rate divided by number of payments per year."
      },
      {
        "term": "Bi‑weekly payment",
        "definition": "Payment made every two weeks; commonly modeled as 26 payments per year. Some lenders use alternative conventions."
      },
      {
        "term": "Extra principal",
        "definition": "Additional amount paid toward loan principal each period beyond the scheduled payment to reduce balance faster and lower interest paid."
      },
      {
        "term": "Payoff time",
        "definition": "Estimated elapsed time in years until the loan principal is fully repaid under the specified payment schedule."
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "FinancialProduct"
    ]
  }
}
