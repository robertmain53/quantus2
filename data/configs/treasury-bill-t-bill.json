{
  "version": "1.0.0",
  "metadata": {
    "title": "Treasury Bill (T-Bill) Calculator — Multi-mode",
    "description": "Calculate T‑Bill price, bank discount yield, bond-equivalent (investment) yield, and realized profit. Supported modes: compute from discount rate, from market price, or from bond-equivalent yield. Includes common day-count conventions and accuracy notes."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "from_discount",
    "methods": {
      "from_discount": {
        "label": "From Bank Discount Rate (quoted d)",
        "description": "Compute purchase price and equivalent yields given the bank-discount convention (d) used for T‑bills.",
        "variables": {
          "price": {
            "expression": "face_value * (1 - discount_rate * (days_to_maturity / 360))",
            "dependencies": [
              "face_value",
              "discount_rate",
              "days_to_maturity"
            ],
            "label": "Purchase price (P)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "profit": {
            "expression": "face_value - price",
            "dependencies": [
              "face_value",
              "price"
            ],
            "label": "Profit at maturity (F - P)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "bond_equivalent_yield": {
            "expression": "(profit / price) * (365 / days_to_maturity)",
            "dependencies": [
              "profit",
              "price",
              "days_to_maturity"
            ],
            "label": "Bond‑equivalent (investment) yield (annualized)",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "discount_yield": {
            "expression": "discount_rate",
            "dependencies": [
              "discount_rate"
            ],
            "label": "Bank discount yield (quoted)",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "annualized_return": {
            "expression": "(profit / price) * (365 / days_to_maturity)",
            "dependencies": [
              "profit",
              "price",
              "days_to_maturity"
            ],
            "label": "Annualized return (simple)",
            "unit": "%",
            "format": "percent",
            "display": false
          }
        },
        "outputs": [
          {
            "id": "price",
            "label": "Purchase price",
            "variable": "price",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "profit",
            "label": "Profit at maturity",
            "variable": "profit",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "bond_equivalent_yield",
            "label": "Bond‑equivalent (investment) yield",
            "variable": "bond_equivalent_yield",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "discount_yield",
            "label": "Bank discount yield (quoted)",
            "variable": "discount_yield",
            "unit": "%",
            "format": "percent"
          }
        ]
      },
      "from_price": {
        "label": "From Purchase Price",
        "description": "Given an observed purchase price, compute the bank discount yield and bond‑equivalent yield using standard day-count conventions.",
        "variables": {
          "discount_yield": {
            "expression": "((face_value - purchase_price) / face_value) * (360 / days_to_maturity)",
            "dependencies": [
              "face_value",
              "purchase_price",
              "days_to_maturity"
            ],
            "label": "Bank discount yield (d)",
            "unit": "%",
            "format": "percent",
            "display": true
          },
          "profit": {
            "expression": "face_value - purchase_price",
            "dependencies": [
              "face_value",
              "purchase_price"
            ],
            "label": "Profit at maturity",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "bond_equivalent_yield": {
            "expression": "(profit / purchase_price) * (365 / days_to_maturity)",
            "dependencies": [
              "profit",
              "purchase_price",
              "days_to_maturity"
            ],
            "label": "Bond‑equivalent (investment) yield",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "discount_yield",
            "label": "Bank discount yield (quoted)",
            "variable": "discount_yield",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "bond_equivalent_yield",
            "label": "Bond‑equivalent (investment) yield",
            "variable": "bond_equivalent_yield",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "profit",
            "label": "Profit at maturity",
            "variable": "profit",
            "unit": "currency",
            "format": "currency"
          }
        ]
      },
      "from_yield": {
        "label": "From Bond‑Equivalent (Investment) Yield",
        "description": "Compute price and the bank discount yield when the investment yield (annualized on actual/365) is provided.",
        "variables": {
          "price": {
            "expression": "face_value / (1 + bond_equivalent_yield * (days_to_maturity / 365))",
            "dependencies": [
              "face_value",
              "bond_equivalent_yield",
              "days_to_maturity"
            ],
            "label": "Purchase price (from BEY)",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "profit": {
            "expression": "face_value - price",
            "dependencies": [
              "face_value",
              "price"
            ],
            "label": "Profit at maturity",
            "unit": "currency",
            "format": "currency",
            "display": true
          },
          "discount_yield": {
            "expression": "(profit / face_value) * (360 / days_to_maturity)",
            "dependencies": [
              "profit",
              "face_value",
              "days_to_maturity"
            ],
            "label": "Bank discount yield (d)",
            "unit": "%",
            "format": "percent",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "price",
            "label": "Purchase price",
            "variable": "price",
            "unit": "currency",
            "format": "currency"
          },
          {
            "id": "discount_yield",
            "label": "Bank discount yield (quoted)",
            "variable": "discount_yield",
            "unit": "%",
            "format": "percent"
          },
          {
            "id": "profit",
            "label": "Profit at maturity",
            "variable": "profit",
            "unit": "currency",
            "format": "currency"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "method",
        "label": "Calculation method",
        "type": "select",
        "default": "from_discount",
        "options": [
          {
            "label": "From bank discount rate (d)",
            "value": "from_discount"
          },
          {
            "label": "From purchase price",
            "value": "from_price"
          },
          {
            "label": "From bond‑equivalent (investment) yield",
            "value": "from_yield"
          }
        ]
      },
      {
        "id": "face_value",
        "label": "Face value / par (F)",
        "type": "number",
        "default": 1000,
        "min": 1,
        "step": 0.01
      },
      {
        "id": "days_to_maturity",
        "label": "Days to maturity",
        "type": "integer",
        "default": 91,
        "min": 1,
        "max": 366,
        "step": 1
      }
    ],
    "sections": [
      {
        "id": "section_from_discount",
        "label": "Inputs for discount-rate mode",
        "show_when": {
          "field": "method",
          "is": "from_discount"
        },
        "fields": [
          {
            "id": "discount_rate",
            "label": "Bank discount rate (d), as decimal (e.g. 0.05 = 5%)",
            "type": "number",
            "default": 0.05,
            "min": 0,
            "max": 1,
            "step": 0.0001
          }
        ]
      },
      {
        "id": "section_from_price",
        "label": "Inputs for price mode",
        "show_when": {
          "field": "method",
          "is": "from_price"
        },
        "fields": [
          {
            "id": "purchase_price",
            "label": "Observed purchase price (P)",
            "type": "number",
            "default": 975,
            "min": 0,
            "step": 0.01
          }
        ]
      },
      {
        "id": "section_from_yield",
        "label": "Inputs for yield mode",
        "show_when": {
          "field": "method",
          "is": "from_yield"
        },
        "fields": [
          {
            "id": "bond_equivalent_yield",
            "label": "Bond‑equivalent (investment) yield, as decimal (e.g. 0.06 = 6%)",
            "type": "number",
            "default": 0.06,
            "min": 0,
            "max": 1,
            "step": 0.0001
          }
        ]
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "price",
          "label": "Purchase price (P)",
          "format": "currency",
          "unit": "currency"
        },
        {
          "id": "profit",
          "label": "Profit at maturity (F − P)",
          "format": "currency",
          "unit": "currency"
        },
        {
          "id": "discount_yield",
          "label": "Bank discount yield (d)",
          "format": "percent",
          "unit": "%"
        },
        {
          "id": "bond_equivalent_yield",
          "label": "Bond‑equivalent (investment) yield",
          "format": "percent",
          "unit": "%"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "This calculator supports the three common T‑Bill workflows: start from the quoted bank discount rate, from an observed market purchase price, or from a bond‑equivalent (investment) yield. Results include the purchase price, profit at maturity, the bank discount yield (quoted on a 360‑day basis) and the bond‑equivalent yield (annualized on actual/365).",
      "Defaults follow market conventions used for U.S. Treasury bills: bank discount quotes use a 360‑day base; bond‑equivalent yields are annualized on 365 days. Use the method selector to switch workflows and enter values as decimals for rates (for example, 0.05 = 5%)."
    ],
    "methodology": [
      "Bank discount convention: T‑Bill discount yields (d) are quoted relative to face value using a 360‑day year. Price is P = F × (1 − d × (days/360)).",
      "Bond‑equivalent (investment) yield converts the realized return to an annualized yield on an investment basis: y_BE = ((F − P) / P) × (365 / days).",
      "When computing from a given BEY, price is computed as P = F / (1 + y_BE × (days/365)). All methods compute profit as F − P."
    ],
    "how_is_calculated": [
      "Price from bank discount: P = F × (1 − d × (days/360)).",
      "Discount yield from price: d = ((F − P) / F) × (360 / days).",
      "Bond‑equivalent yield from price: y_BE = ((F − P) / P) × (365 / days).",
      "Price from BEY: P = F / (1 + y_BE × (days/365))."
    ],
    "examples": [
      "Example 1 — From discount: Face = 1000, d = 0.05, days = 91 → P = 1000 × (1 − 0.05 × 91/360) = 987.36 (approx), profit = 12.64, BEY ≈ (12.64 / 987.36) × (365/91) ≈ 0.0527 (5.27%).",
      "Example 2 — From price: Face = 1000, P = 975, days = 182 → d = ((1000−975)/1000) × (360/182) ≈ 0.0495 (4.95%), BEY ≈ ((25)/975) × (365/182) ≈ 0.0512 (5.12%).",
      "Example 3 — From BEY: Face = 1000, y_BE = 0.06, days = 28 → P = 1000 / (1 + 0.06 × 28/365) ≈ 995.42, profit ≈ 4.58, discount yield ≈ (4.58/1000) × (360/28) ≈ 0.0589 (5.89%)."
    ],
    "faqs": [
      {
        "question": "Why are there different yields (discount yield vs bond‑equivalent yield)?",
        "answer": "Bank discount yield is a market quoting convention based on face value and a 360‑day base. Bond‑equivalent yield reflects the investor's actual return on the cash invested and is annualized on an actual/365 basis. They are different because they use different denominators and day‑count conventions."
      },
      {
        "question": "Which day‑count basis is used?",
        "answer": "This tool uses the common market conventions for U.S. Treasury bills: bank discount calculations use a 360‑day base; bond‑equivalent yields use a 365‑day base for annualization."
      },
      {
        "question": "How precise are the results?",
        "answer": "Results are computed using standard arithmetic expressions and rounded for display. Small rounding differences may occur versus broker systems that use extended precision or different intraday conventions. See the accuracy and testing notes in citations."
      },
      {
        "question": "Can I change the face value or days to maturity?",
        "answer": "Yes. Face value (par) and days to maturity are editable. Use the method selector to provide the appropriate input for the chosen workflow."
      }
    ],
    "glossary": [
      {
        "term": "Face value (F)",
        "definition": "The redemption amount the bill will pay at maturity (par)."
      },
      {
        "term": "Bank discount yield (d)",
        "definition": "Quoted discount as a fraction of face value using a 360‑day year: d = ((F − P) / F) × (360 / days)."
      },
      {
        "term": "Bond‑equivalent yield (BEY)",
        "definition": "Investor yield annualized on an actual/365 basis: y_BE = ((F − P) / P) × (365 / days)."
      },
      {
        "term": "Purchase price (P)",
        "definition": "The cash price paid for the T‑Bill today, net of any fees."
      }
    ],
    "citations": [
      {
        "label": "U.S. Treasury — Daily Treasury Bill Rates and conventions",
        "url": "https://home.treasury.gov/resource-center/data-chart-center/interest-rates"
      },
      {
        "label": "NIST — Guidelines for numerical software quality and validation",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO — Quality management standards (ISO 9001)",
        "url": "https://www.iso.org/iso-9001-quality-management.html"
      },
      {
        "label": "IEEE — Standards for software verification and validation",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA — Guidance on recordkeeping and validation of test procedures",
        "url": "https://www.osha.gov"
      }
    ]
  },
  "links": {
    "internal": [
      "/calculators/treasury/overview",
      "/conversions/days/counting-conventions"
    ],
    "external": [
      {
        "url": "https://home.treasury.gov/resource-center/data-chart-center/interest-rates",
        "label": "U.S. Treasury — Daily interest rates",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.nist.gov",
        "label": "NIST",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/iso-9001-quality-management.html",
        "label": "ISO 9001 (quality management)",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo"
    ]
  }
}