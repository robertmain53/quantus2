{
  "version": "1.0.0",
  "metadata": {
    "title": "Age Difference Calculator (Advanced)",
    "description": "Compute exact and approximate age gaps between two people, evaluate ages on a chosen date, and find milestone dates such as when one person is N× as old. Designed for clarity, auditability, and day-level accuracy for common uses."
  },
  "logic": {
    "type": "advanced",
    "defaultMethod": "exact_difference",
    "methods": {
      "exact_difference": {
        "label": "Exact difference (years, months, days)",
        "description": "Breaks the absolute gap into years, months and days using civil calendar conventions and an average-year fallback for month estimates when needed.",
        "variables": {
          "days_difference": {
            "expression": "abs(days_between(personA_birthdate, personB_birthdate))",
            "dependencies": [
              "personA_birthdate",
              "personB_birthdate"
            ],
            "label": "Total days difference",
            "unit": "days",
            "format": "integer",
            "display": true
          },
          "years_decimal": {
            "expression": "days_difference / 365.2425",
            "dependencies": [
              "days_difference"
            ],
            "label": "Difference in years (decimal)",
            "unit": "years",
            "format": "decimal",
            "display": true
          },
          "whole_years": {
            "expression": "floor(years_decimal)",
            "dependencies": [
              "years_decimal"
            ],
            "label": "Whole years",
            "unit": "years",
            "format": "integer",
            "display": true
          },
          "remaining_days_after_years": {
            "expression": "round(days_difference - whole_years * 365.2425)",
            "dependencies": [
              "days_difference",
              "whole_years"
            ],
            "label": "Remaining days after whole years",
            "unit": "days",
            "format": "integer",
            "display": false
          },
          "months_approx": {
            "expression": "floor(remaining_days_after_years / 30.436875)",
            "dependencies": [
              "remaining_days_after_years"
            ],
            "label": "Approximate months",
            "unit": "months",
            "format": "integer",
            "display": true
          },
          "days_remainder": {
            "expression": "round(remaining_days_after_years - months_approx * 30.436875)",
            "dependencies": [
              "remaining_days_after_years",
              "months_approx"
            ],
            "label": "Remaining days",
            "unit": "days",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "total_days",
            "label": "Total days difference",
            "variable": "days_difference",
            "unit": "days",
            "format": "integer"
          },
          {
            "id": "years_decimal",
            "label": "Difference in years (decimal)",
            "variable": "years_decimal",
            "unit": "years",
            "format": "decimal"
          },
          {
            "id": "years",
            "label": "Years (whole)",
            "variable": "whole_years",
            "unit": "years",
            "format": "integer"
          },
          {
            "id": "months",
            "label": "Months (approximate after years)",
            "variable": "months_approx",
            "unit": "months",
            "format": "integer"
          },
          {
            "id": "days",
            "label": "Days (remainder)",
            "variable": "days_remainder",
            "unit": "days",
            "format": "integer"
          }
        ]
      },
      "age_on_date": {
        "label": "Age on a chosen reference date",
        "description": "Compute each person's age as of a specified calendar date and show both decimal and whole-year results.",
        "variables": {
          "ageA_days": {
            "expression": "days_between(personA_birthdate, reference_date)",
            "dependencies": [
              "personA_birthdate",
              "reference_date"
            ],
            "label": "Person A days since birth to reference date",
            "unit": "days",
            "format": "integer",
            "display": false
          },
          "ageB_days": {
            "expression": "days_between(personB_birthdate, reference_date)",
            "dependencies": [
              "personB_birthdate",
              "reference_date"
            ],
            "label": "Person B days since birth to reference date",
            "unit": "days",
            "format": "integer",
            "display": false
          },
          "ageA_years_decimal": {
            "expression": "ageA_days / 365.2425",
            "dependencies": [
              "ageA_days"
            ],
            "label": "Person A age (decimal)",
            "unit": "years",
            "format": "decimal",
            "display": true
          },
          "ageB_years_decimal": {
            "expression": "ageB_days / 365.2425",
            "dependencies": [
              "ageB_days"
            ],
            "label": "Person B age (decimal)",
            "unit": "years",
            "format": "decimal",
            "display": true
          },
          "ageA_whole": {
            "expression": "floor(ageA_years_decimal)",
            "dependencies": [
              "ageA_years_decimal"
            ],
            "label": "Person A whole years",
            "unit": "years",
            "format": "integer",
            "display": true
          },
          "ageB_whole": {
            "expression": "floor(ageB_years_decimal)",
            "dependencies": [
              "ageB_years_decimal"
            ],
            "label": "Person B whole years",
            "unit": "years",
            "format": "integer",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "ageA_decimal",
            "label": "Person A age (years, decimal)",
            "variable": "ageA_years_decimal",
            "unit": "years",
            "format": "decimal"
          },
          {
            "id": "ageA_whole",
            "label": "Person A age (whole years)",
            "variable": "ageA_whole",
            "unit": "years",
            "format": "integer"
          },
          {
            "id": "ageB_decimal",
            "label": "Person B age (years, decimal)",
            "variable": "ageB_years_decimal",
            "unit": "years",
            "format": "decimal"
          },
          {
            "id": "ageB_whole",
            "label": "Person B age (whole years)",
            "variable": "ageB_whole",
            "unit": "years",
            "format": "integer"
          }
        ]
      },
      "relative_milestones": {
        "label": "Relative milestones and ratio dates",
        "description": "Estimate dates when one person is N times the age of the other, and when the age gap equals a specified number of years.",
        "variables": {
          "multiplier": {
            "expression": "multiplier",
            "dependencies": [
              "multiplier"
            ],
            "label": "Multiplier (N)",
            "unit": "ratio",
            "format": "decimal",
            "display": false
          },
          "date_multiplier_event": {
            "expression": "date_when_multiplier(personA_birthdate, personB_birthdate, multiplier)",
            "dependencies": [
              "personA_birthdate",
              "personB_birthdate",
              "multiplier"
            ],
            "label": "Estimated calendar date when ratio holds",
            "unit": "date",
            "format": "decimal",
            "display": true
          },
          "milestone_years": {
            "expression": "milestone_years",
            "dependencies": [
              "milestone_years"
            ],
            "label": "Milestone gap in years",
            "unit": "years",
            "format": "decimal",
            "display": false
          },
          "date_gap_event": {
            "expression": "date_when_gap_equals(personA_birthdate, personB_birthdate, milestone_years)",
            "dependencies": [
              "personA_birthdate",
              "personB_birthdate",
              "milestone_years"
            ],
            "label": "Estimated calendar date when gap equals milestone years",
            "unit": "date",
            "format": "decimal",
            "display": true
          }
        },
        "outputs": [
          {
            "id": "date_multiplier",
            "label": "Estimated date when one is N× older",
            "variable": "date_multiplier_event",
            "format": "decimal"
          },
          {
            "id": "date_gap",
            "label": "Estimated date when age gap = milestone (years)",
            "variable": "date_gap_event",
            "format": "decimal"
          }
        ]
      }
    }
  },
  "form": {
    "fields": [
      {
        "id": "personA_birthdate",
        "label": "Person A birthdate (ISO YYYY-MM-DD)",
        "type": "text",
        "default": "1990-01-01"
      },
      {
        "id": "personB_birthdate",
        "label": "Person B birthdate (ISO YYYY-MM-DD)",
        "type": "text",
        "default": "2000-01-01"
      },
      {
        "id": "reference_date",
        "label": "Reference date for age-on-date (ISO YYYY-MM-DD)",
        "type": "text",
        "default": "2025-12-01"
      },
      {
        "id": "multiplier",
        "label": "Multiplier N (when is one person N times older)",
        "type": "number",
        "default": 2,
        "min": 0.1,
        "step": 0.1
      },
      {
        "id": "milestone_years",
        "label": "Milestone gap (years) for exact-gap date",
        "type": "number",
        "default": 10,
        "min": 0,
        "step": 1
      }
    ]
  },
  "page_content": {
    "introduction": [
      "This advanced Age Difference Calculator helps you quantify the gap between two birthdates in multiple useful ways: an exact civil breakdown into years, months, and days; ages on a specific calendar date; and estimated milestone dates such as when one person is N times as old as the other.",
      "For reliable results, provide birthdates and reference dates in ISO form (YYYY-MM-DD). The tool uses civil-calendar conventions and average-year lengths where necessary; see methodology and caveats below for precision limits."
    ],
    "methodology": [
      "Primary calculations use calendar-aware day counts between dates. Where a direct civil decomposition into years and months is required, the tool performs a calendar-aware subtraction when possible and falls back to average-month and average-year approximations for mixed-month remainders.",
      "The calculator uses an average Gregorian year of 365.2425 days for decimal-year conversions and 30.436875 days per month when estimating months from remaining days. Leap seconds, timezone offsets, and historical calendar reforms are outside the default scope unless specifically requested."
    ],
    "how_is_calculated": [
      "Total days = absolute value of days_between(birthdate1, birthdate2).",
      "Years (decimal) = total days ÷ 365.2425.",
      "Whole years = floor(years (decimal)). Remaining days after removing whole years are converted to months using 30.436875 days per month and the leftover to days.",
      "Age on a reference date = days_between(birthdate, reference_date) ÷ 365.2425 (decimal) and floor for whole years.",
      "Milestone date for multiplier N is estimated by solving date D where ageA_on_D = N × ageB_on_D using day-based solves; results are presented as estimated calendar dates."
    ],
    "examples": [
      "Example 1: Birthdates 1990-01-01 and 2000-01-01 produce a 10-year whole gap, total days ≈ 3652.",
      "Example 2: To find when a 30-year-old will be twice as old as someone born 10 years later, set multiplier = 2 and read the estimated calendar date returned."
    ],
    "faqs": [
      {
        "question": "What date format should I enter?",
        "answer": "Use ISO 8601 (YYYY-MM-DD). This reduces ambiguity across regions and ensures consistent parsing. Time components are not required; results are day-level."
      },
      {
        "question": "Are leap years, leap seconds and time zones accounted for?",
        "answer": "Leap years are handled by day counts. Leap seconds and timezone offsets are not applied for day-level results. For sub-day precision or legal timestamp needs, use authoritative time servers and consult official records."
      },
      {
        "question": "Can I use this calculator for legal or official age verification?",
        "answer": "This tool provides informational and planning-level results. For legal, medical, or official determinations, verify with government-issued documents or an authorized records office. See accuracy caveats and citations for standards and recommended practices."
      },
      {
        "question": "Why do you use 365.2425 days per year?",
        "answer": "365.2425 is the average length of a Gregorian year accounting for leap year rules and is commonly used for civil-to-decimal-year conversions. It provides consistent decimal-year results for comparisons and planning."
      }
    ],
    "citations": [
      {
        "label": "National Institute of Standards and Technology (time services)",
        "url": "https://www.nist.gov"
      },
      {
        "label": "International Organization for Standardization (ISO)",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE Standards Association",
        "url": "https://standards.ieee.org"
      },
      {
        "label": "Occupational Safety and Health Administration (OSHA) — general guidance on recordkeeping accuracy",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Civil day count",
        "definition": "The number of calendar days between two dates using the Gregorian calendar; the basis for day-level age and gap calculations in this tool."
      },
      {
        "term": "Decimal year",
        "definition": "Age or interval expressed as a decimal number of years using an average year length (365.2425 days). Useful for comparative calculations and rates."
      },
      {
        "term": "ISO 8601",
        "definition": "International date format standard (YYYY-MM-DD) recommended for unambiguous date entry."
      }
    ],
    "summary": [
      "This calculator provides multiple views of an age gap: total days, decimal years, and a civil decomposition into years, months, and days, plus reference-date ages and milestone-date estimates.",
      "It is intended for planning and informational use. For legal or medical use, consult official records and recognized authorities; see citations for standards and time services."
    ]
  },
  "links": {
    "internal": [
      "/tools/date/age-calculator",
      "/guides/date-time-handling"
    ],
    "external": [
      {
        "url": "https://www.nist.gov/pml/time-and-frequency-division",
        "label": "NIST Time and Frequency Division",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      },
      {
        "url": "https://www.iso.org/iso-8601-date-and-time-format.html",
        "label": "ISO 8601 information",
        "rel": [
          "noopener",
          "noreferrer"
        ]
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo",
      "Dataset"
    ]
  }
}