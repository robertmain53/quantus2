{
  "version": "1.0.0",
  "metadata": {
    "title": "Personal Loan Refinance + Bi‑Weekly Payment Calculator",
    "description": "Compare your remaining personal loan (current) with a proposed refinance using bi‑weekly or monthly payment schedules. Calculates periodic payments, total interest, estimated interest saved, and time saved when switching to a refinance with optional origination fees."
  },
  "logic": {
    "type": "formula",
    "outputs": [
      {
        "id": "current_periodic_payment",
        "label": "Current periodic payment",
        "expression": "((current_rate_pct/100)/current_payments_per_year * current_balance) / (1 - pow(1 + (current_rate_pct/100)/current_payments_per_year, -current_remaining_periods))",
        "unit": null,
        "format": "currency"
      },
      {
        "id": "current_total_interest_remaining",
        "label": "Current total interest remaining",
        "expression": "(((current_rate_pct/100)/current_payments_per_year * current_balance) / (1 - pow(1 + (current_rate_pct/100)/current_payments_per_year, -current_remaining_periods)) * current_remaining_periods) - current_balance",
        "unit": null,
        "format": "currency"
      },
      {
        "id": "new_principal_with_fees",
        "label": "Refinance principal (including fees)",
        "expression": "current_balance * (1 + refinance_fees_pct/100)",
        "unit": null,
        "format": "currency"
      },
      {
        "id": "new_periodic_payment",
        "label": "Refinanced periodic payment",
        "expression": "(((refinance_rate_pct/100)/refinance_payments_per_year) * (current_balance * (1 + refinance_fees_pct/100))) / (1 - pow(1 + (refinance_rate_pct/100)/refinance_payments_per_year, -(refinance_term_years * refinance_payments_per_year)))",
        "unit": null,
        "format": "currency"
      },
      {
        "id": "new_total_interest",
        "label": "Refinance total interest (over term)",
        "expression": "((((refinance_rate_pct/100)/refinance_payments_per_year) * (current_balance * (1 + refinance_fees_pct/100))) / (1 - pow(1 + (refinance_rate_pct/100)/refinance_payments_per_year, -(refinance_term_years * refinance_payments_per_year)))) * (refinance_term_years * refinance_payments_per_year) - (current_balance * (1 + refinance_fees_pct/100))",
        "unit": null,
        "format": "currency"
      },
      {
        "id": "interest_savings",
        "label": "Estimated interest saved (current vs. refinance)",
        "expression": "((((current_rate_pct/100)/current_payments_per_year * current_balance) / (1 - pow(1 + (current_rate_pct/100)/current_payments_per_year, -current_remaining_periods)) * current_remaining_periods) - current_balance) - ((((refinance_rate_pct/100)/refinance_payments_per_year) * (current_balance * (1 + refinance_fees_pct/100))) / (1 - pow(1 + (refinance_rate_pct/100)/refinance_payments_per_year, -(refinance_term_years * refinance_payments_per_year))) * (refinance_term_years * refinance_payments_per_year) - (current_balance * (1 + refinance_fees_pct/100)))",
        "unit": null,
        "format": "currency"
      },
      {
        "id": "periods_saved",
        "label": "Payment periods saved (current - refinance)",
        "expression": "current_remaining_periods - (refinance_term_years * refinance_payments_per_year)",
        "unit": null,
        "format": "integer"
      },
      {
        "id": "years_saved",
        "label": "Approximate years saved",
        "expression": "(current_remaining_periods - (refinance_term_years * refinance_payments_per_year)) / refinance_payments_per_year",
        "unit": "years",
        "format": "decimal"
      }
    ]
  },
  "form": {
    "fields": [
      {
        "id": "current_balance",
        "label": "Remaining loan balance (principal)",
        "type": "number",
        "default": 15000,
        "min": 0,
        "max": 10000000,
        "step": 0.01
      },
      {
        "id": "current_rate_pct",
        "label": "Current APR (annual %) on remaining loan",
        "type": "number",
        "default": 9,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "current_remaining_periods",
        "label": "Remaining number of payments on current loan",
        "type": "integer",
        "default": 36,
        "min": 1,
        "max": 600,
        "step": 1
      },
      {
        "id": "current_payments_per_year",
        "label": "Current payments per year",
        "type": "select",
        "default": "12",
        "options": [
          {
            "label": "Monthly (12)",
            "value": "12"
          },
          {
            "label": "Bi‑weekly (26)",
            "value": "26"
          }
        ]
      },
      {
        "id": "refinance_rate_pct",
        "label": "Proposed refinance APR (annual %)",
        "type": "number",
        "default": 6,
        "min": 0,
        "max": 100,
        "step": 0.01
      },
      {
        "id": "refinance_term_years",
        "label": "Refinance term (years)",
        "type": "integer",
        "default": 5,
        "min": 1,
        "max": 30,
        "step": 1
      },
      {
        "id": "refinance_fees_pct",
        "label": "Refinance fees / origination (% of principal)",
        "type": "number",
        "default": 1,
        "min": 0,
        "max": 20,
        "step": 0.01
      },
      {
        "id": "refinance_payments_per_year",
        "label": "Refinance payments per year",
        "type": "select",
        "default": "26",
        "options": [
          {
            "label": "Monthly (12)",
            "value": "12"
          },
          {
            "label": "Bi‑weekly (26)",
            "value": "26"
          }
        ]
      },
      {
        "id": "extra_payment_per_period",
        "label": "Optional extra payment per period",
        "type": "number",
        "default": 0,
        "min": 0,
        "max": 1000000,
        "step": 0.01
      }
    ],
    "result": {
      "outputs": [
        {
          "id": "current_periodic_payment",
          "label": "Current periodic payment"
        },
        {
          "id": "current_total_interest_remaining",
          "label": "Current total interest remaining"
        },
        {
          "id": "new_principal_with_fees",
          "label": "Refinance principal (with fees)"
        },
        {
          "id": "new_periodic_payment",
          "label": "Refinanced periodic payment"
        },
        {
          "id": "new_total_interest",
          "label": "Refinance total interest over term"
        },
        {
          "id": "interest_savings",
          "label": "Estimated interest saved"
        },
        {
          "id": "periods_saved",
          "label": "Payment periods saved"
        },
        {
          "id": "years_saved",
          "label": "Approximate years saved",
          "format": "decimal",
          "unit": "years"
        }
      ]
    }
  },
  "page_content": {
    "introduction": [
      "This calculator compares your remaining personal loan balance with a proposed refinance option and supports monthly or bi‑weekly payment schedules. Enter your remaining balance, current APR, remaining payments, and the refinance APR, term and fees to see estimated periodic payments, total interest, and potential savings.",
      "Results are estimates intended to help with decisions. Exact payoff amounts, payment dates, and APR disclosures come from loan contracts and lender quotes. Use this tool to compare scenarios and validate offers before accepting a refinance."
    ],
    "methodology": [
      "Periodic payment formulas use standard amortization: payment = r*P / (1 - (1+r)^-n) where r is the periodic rate and n is the number of remaining periods. For bi‑weekly schedules the calculator treats a year as 26 payment periods; monthly is 12 periods per year.",
      "Refinance principal includes a simple percentage fee (origination or closing fees) applied to the current balance when 'fees' are entered. Total interest is calculated as total payments over the term minus the financed principal (including fees).",
      "This tool follows good data and risk practices: input validation is enforced on ranges, and numeric precision is managed to reduce rounding surprises. Referenced standards for data quality and calculation rigor include NIST guidance for trustworthy computing, ISO numeric handling practices, and IEEE recommendations for numerical stability."
    ],
    "how_is_calculated": [
      "Step 1: Convert annual APR (%) to periodic rate: periodic_rate = (APR/100) / payments_per_year.",
      "Step 2: Compute number of periods: n = remaining_periods (current) or refinance_term_years * payments_per_year (refinance).",
      "Step 3: Compute periodic payment using amortization formula: payment = (periodic_rate * principal) / (1 - (1 + periodic_rate)^-n).",
      "Step 4: Compute total interest = payment * n - principal. Interest saved = current_total_interest_remaining - refinance_total_interest.",
      "Note: If APR = 0, the amortization formula degenerates to principal / n. The tool approximates typical lender behavior but does not replace contractual payoff statements."
    ],
    "faqs": [
      {
        "question": "Does bi‑weekly always save money?",
        "answer": "Bi‑weekly payments can reduce interest by increasing payment frequency and effectively making one extra monthly payment per year. Savings depend on your APR, term, and whether the refinance fees offset the reduced interest. Use the calculator to compare total interest and fees in each scenario."
      },
      {
        "question": "How are refinance fees handled?",
        "answer": "Fees are applied as a percentage of the current balance and added to the refinance principal. This models common origination/closing fee behavior; for exact fees use the lender's quote and include any roll‑in costs separately."
      },
      {
        "question": "Are results exact payoff figures?",
        "answer": "No. These are estimates based on standard amortization math. Exact payoff amounts, interest accrual timing, and per‑payment rounding can vary by lender. Always request an official payoff statement before acting."
      },
      {
        "question": "What if I make extra payments?",
        "answer": "You may enter an optional extra payment per period. This calculator shows baseline results; extra payments reduce outstanding principal and interest but exact effects depend on lender application of extra payments. Contact your lender for how extras are applied."
      },
      {
        "question": "What precision and limits does the tool use?",
        "answer": "The calculator uses floating point arithmetic and pow() for exponentiation; it validates common input ranges. Very small rates near zero or extremely long terms may introduce numerical limits; see citations for numerical stability standards."
      }
    ],
    "citations": [
      {
        "label": "NIST - Guidelines for Managing Risk and Numerical Accuracy",
        "url": "https://www.nist.gov"
      },
      {
        "label": "ISO - Financial services and numeric data standards",
        "url": "https://www.iso.org"
      },
      {
        "label": "IEEE - Recommended practices for numerical computations",
        "url": "https://www.ieee.org"
      },
      {
        "label": "OSHA - Consumer safety and disclosure best practices (contextual guidance)",
        "url": "https://www.osha.gov"
      }
    ],
    "glossary": [
      {
        "term": "Principal",
        "definition": "The outstanding loan balance on which interest is calculated."
      },
      {
        "term": "Periodic rate",
        "definition": "The APR divided by the number of payments per year (e.g., APR/12 for monthly, APR/26 for bi‑weekly)."
      },
      {
        "term": "Amortization",
        "definition": "A schedule of payments that covers both interest and principal so that the loan is paid off over the term."
      },
      {
        "term": "Refinance fees",
        "definition": "Up‑front costs (often expressed as a percentage of principal) added to the new loan or paid at closing; this calculator optionally rolls them into the financed principal."
      }
    ]
  },
  "schema": {
    "additionalTypes": [
      "HowTo"
    ]
  }
}