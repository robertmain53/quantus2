{
  "slug": "/finance/valuation/asset-based-valuation",
  "title": "Asset Based Valuation Calculator",
  "prompt": "You are an elite product strategist, quant engineer, and technical copywriter tasked with building the market-leading version of “Asset Based Valuation Calculator”. Study every asset provided (competitor calculators, regulatory PDFs, spreadsheets, notes). Your deliverable must be production-ready and strictly follow the Cernarus config schema.\n\n### CORE OBJECTIVES\n1.  **Deployable JSON:** Produce a single, valid JSON object (`component_type` + `config_json`). No markdown, no commentary.\n2.  **User-Centricity:** Trade internal jargon for user intent. Focus on practical reassurance (calibration, limits, regulatory compliance).\n3.  **High-Trust EEAT:** You must cite specific standards (NIST, ISO, IEEE, OSHA) and include accuracy caveats. Do not mention competitors or filenames.\n4.  **Schema Compliance:** Adhere strictly to the data types defined below (e.g., Glossary must be objects, not strings).\n\n### JSON REQUIREMENTS\n**Top-level shape:**\n\nSTRICT SCHEMA ENFORCEMENT: # Cernarus Config Schema – STRICT ENFORCEMENT RULES\n\nYou MUST follow these rules exactly.  \nDo not deviate. Do not add extra fields.\n\nThese rules apply to the inner `config_json` object only.\n\n---\n\n## 1. Choosing the correct `component_type`\n\nBefore generating any JSON, decide which calculator type is appropriate:\n\n### `component_type: \"converter\"`\n\nUse **converter** if:\n\n- You are converting between **two units** (e.g. kilocalories ↔ kilojoules, lumens ↔ lux, miles ↔ kilometers).\n- The conversion is a **fixed mathematical relationship**.\n- The user typically enters **one value** and gets **one primary output**.\n- No additional variables or intermediate expressions are needed.\n\nExamples:\n\n- “Convert Kilocalories to Kilojoules”\n- “Lumens to Lux Converter”\n- “Miles to Kilometers Converter”\n\n### `component_type: \"simple_calc\"`\n\nUse **simple_calc** if:\n\n- You are computing values using **one formula block** with multiple inputs.\n- There is **one primary result** (possibly with a small number of supporting outputs).\n- The calculator logic is straightforward and can be expressed as:\n  - `logic.type = \"formula\"`\n  - `logic.outputs[]` with `expression` fields referencing `form.fields[].id`.\n\nExamples:\n\n- BMI calculator (weight + height → BMI)\n- Mortgage payment calculator\n- Break-even point calculator\n\n### `component_type: \"advanced_calc\"`\n\nUse **advanced_calc** if:\n\n- There are **multiple methods** or scenarios in a single tool.\n- Users can switch between different formulas or workflows.\n- You need an internal graph of **variables** with dependencies and multiple outputs per method.\n\nExamples:\n\n- Retirement planner with multiple methods\n- Complex engineering calculators with several modes\n- “From Volume” vs “From Area × Depth” methods within one tool\n\n> **CRITICAL:**\n>\n> - Do NOT use `simple_calc` or `advanced_calc` for pure unit conversions.\n> - Do NOT add a `form` object to a pure converter.\n\n---\n\n## 2. Top-level wrapper structure (for ChatGPT output)\n\nYour full response to the user (outside this schema) may include a wrapper like:\n\n```json\n{\n  \"component_type\": \"converter|simple_calc|advanced_calc\",\n  \"config_json\": { ... }\n}\n```\n\nThe repo, however, saves **only** the inner `config_json` to `data/configs/*.json`.\n\n---\n\n## 3. `config_json` for `component_type: \"converter\"`\n\n**Allowed fields in `config_json`:**\n\n- `version` (required)\n\n  - String, semantic version, e.g. `\"1.0.0\"`.\n\n- `metadata` (required)\n\n  - `title`: string, no HTML.\n  - `description`: string, no HTML.\n\n- `logic` (required)\n\n  - `type`: MUST be exactly `\"conversion\"`.\n  - `fromUnitId`: string; MUST match a valid unit ID in `lib/conversions.ts`.\n  - `toUnitId`: string; MUST match a valid unit ID in `lib/conversions.ts`.\n  - **Do NOT add**: `factor`, `formula`, `precision`, `units`, `customFactors`, `methods`, `variables`, or any other fields.\n\n- `form`\n\n  - **Omit entirely** or set to `null` for simple conversions.\n  - Converters normally rely on the generic converter UI, not custom forms.\n\n- `page_content` (required)\n\n  - Object with these keys ONLY:\n    - `introduction`: array of plain-text strings (2–3 paragraphs).\n    - `methodology`: array of plain-text strings (authoritative explanation).\n    - `how_is_calculated`: array of plain-text strings (concise formulas / steps).\n    - `faqs`: array of objects `{ \"question\": \".\", \"answer\": \".\" }`.\n    - `citations`: array of objects `{ \"label\": \".\", \"url\": \".\" }`.\n  - Optional additional arrays (same flat format as above):\n    - `examples`\n    - `summary`\n    - `glossary` (if used, must be array of `{ \"term\": \".\", \"definition\": \".\" }`).\n  - **Do NOT add** nested structures like `{ \"title\": \"...\", \"body\": \"...\" }`.\n  - **Do NOT use HTML or Markdown** (no `<p>`, `<br>`, `**bold**`, or `[link](url)`).\n\n- `links` (optional)\n\n  - `internal`: array of string slugs (e.g. `\"/conversions/length/meters-to-feet\"`).\n  - `external`: array of objects:\n    ```json\n    {\n      \"url\": \"https://example.com\",\n      \"label\": \"Example Label\",\n      \"rel\": [\"noopener\", \"noreferrer\"]\n    }\n    ```\n\n- `schema` (optional)\n  - `additionalTypes`: array of strings, e.g. `[\"HowTo\"]`.\n\n---\n\n## 4. `config_json` for `component_type: \"simple_calc\"`\n\n**Allowed fields:**\n\n- `version`, `metadata` – same constraints as converters.\n\n- `logic` (required)\n\n  - `type`: MUST be exactly `\"formula\"`.\n  - `outputs`: array of objects:\n    ```json\n    {\n      \"id\": \"string\",\n      \"label\": \"string\",\n      \"expression\": \"math expression referencing form.fields[].id\",\n      \"unit\": \"optional string\",\n      \"format\": \"currency|percent|decimal|integer\"\n    }\n    ```\n  - **Do NOT add**: `expressions`, `engine`, `precision`, `isPrimary`, `description` or any custom logic fields.\n\n- `form` (required)\n\n  - `fields`: array of input field objects:\n    ```json\n    {\n      \"id\": \"string\",\n      \"label\": \"string\",\n      \"type\": \"number|integer|select|text\",\n      \"default\": number|string,\n      \"min\": optional number,\n      \"max\": optional number,\n      \"step\": optional number,\n      \"options\": [\n        { \"label\": \"string\", \"value\": \"string\" }\n      ] // for select\n    }\n    ```\n  - `result` (optional)\n    - `outputs`: **array of objects**, never strings.\n      - Each object MUST have:\n        - `id`: string – must match one of `logic.outputs[].id`.\n        - `label`: string – user-facing label.\n      - May also include:\n        - `format`: `\"currency\" | \"percent\" | \"decimal\" | \"integer\"`.\n        - `unit`: string (e.g. `\"kg\"`, `\"years\"`, `\"%\"`).\n\n  #### ❌ WRONG (will break the build)\n\n  ```json\n  \"result\": {\n    \"outputs\": [\n      \"ebit\",\n      \"ebit_reconciled\",\n      \"ebit_margin\"\n    ]\n  }\n  ```\n\n  #### ✅ CORRECT\n\n  ```json\n  \"result\": {\n    \"outputs\": [\n      { \"id\": \"ebit\", \"label\": \"EBIT (Earnings Before Interest & Taxes)\" },\n      { \"id\": \"ebit_reconciled\", \"label\": \"EBIT (reconciled from Net Income)\" },\n      { \"id\": \"ebit_margin\", \"label\": \"EBIT Margin (%)\" }\n    ]\n  }\n  ```\n\n- `page_content`, `links`, `schema`\n  - Same format and restrictions as for converters.\n\n---\n\n## 5. `config_json` for `component_type: \"advanced_calc\"`\n\n**Allowed fields:**\n\n- `version`, `metadata` – same constraints as converters.\n\n- `logic` (required)\n\n  - `type`: MUST be exactly `\"advanced\"`.\n  - `defaultMethod`: string – key of the default method.\n  - `methods`: object map of method definitions:\n    ```json\n    {\n      \"method_id\": {\n        \"label\": \"string\",\n        \"description\": \"optional string\",\n        \"variables\": {\n          \"var_name\": {\n            \"expression\": \"math expression\",\n            \"dependencies\": [\"other_var\", \"field_id\"],\n            \"label\": \"string\",\n            \"unit\": \"optional string\",\n            \"format\": \"currency|percent|decimal|integer\",\n            \"display\": true\n          }\n        },\n        \"outputs\": [\n          {\n            \"id\": \"string\",\n            \"label\": \"string\",\n            \"variable\": \"var_name\",\n            \"unit\": \"optional string\",\n            \"format\": \"currency|percent|decimal|integer\"\n          }\n        ]\n      }\n    }\n    ```\n\n- `form` (optional)\n\n  - `fields`: global inputs (same format as simple_calc).\n  - `sections`: grouped inputs with optional `show_when`:\n    ```json\n    {\n      \"id\": \"section_id\",\n      \"label\": \"Section label\",\n      \"show_when\": { \"field\": \"field_id\", \"is\": \"value\" },\n      \"fields\": [\n        {\n          \"id\": \"field_id\",\n          \"label\": \"string\",\n          \"type\": \"number|integer|select|text\",\n          \"default\": number|string,\n          \"min\": optional number,\n          \"max\": optional number,\n          \"step\": optional number,\n          \"options\": [\n            { \"label\": \"string\", \"value\": \"string\" }\n          ]\n        }\n      ]\n    }\n    ```\n\n- `page_content`, `links`, `schema`\n  - Same format and restrictions as for converters.\n\n---\n\n## 6. `page_content` rules (all types)\n\n- `page_content` MUST be a flat object of arrays and simple objects:\n\n  - `introduction`: `string[]`\n  - `methodology`: `string[]`\n  - `how_is_calculated`: `string[]`\n  - `examples`: `string[]` (optional)\n  - `summary`: `string[]` (optional)\n  - `faqs`: `{ question, answer }[]`\n  - `citations`: `{ label, url }[]`\n  - `glossary`: `{ term, definition }[]` (optional)\n\n- **No HTML, no Markdown**:\n\n  - No `<div>`, `<p>`, `<br>`, `<strong>`, etc.\n  - No `**bold**`, `_italic_`, `[link](url)`, or `> blockquote`.\n\n- **URLs**:\n\n  - `citations[].url` must be plain strings like:\n    - `\"https://example.com/path\"`\n  - Do NOT wrap in Markdown or HTML.\n\n- **Glossary**:\n  - If used, MUST look like:\n    ```json\n    \"glossary\": [\n      { \"term\": \"Bulk density\", \"definition\": \"Mass per unit volume...\" },\n      { \"term\": \"Compaction factor\", \"definition\": \"Ratio that describes...\" }\n    ]\n    ```\n  - NOT an array of strings.\n\n---\n\n## 7. Forbidden patterns (will be rejected)\n\n- Converters with form + expression engine:\n\n  ```json\n  {\n    \"logic\": {\n      \"type\": \"expression\",\n      \"engine\": \"math-expression\",\n      \"expressions\": [...]\n    },\n    \"form\": { ... }\n  }\n  ```\n\n- Markdown URLs:\n\n  ```json\n  \"citations\": [\n    {\n      \"label\": \"NIST\",\n      \"url\": \"[https://nist.gov/...](https://nist.gov/...)\"\n    }\n  ]\n  ```\n\n- Nested `page_content`:\n\n  ```json\n  \"page_content\": {\n    \"formula\": {\n      \"heading\": \"How to Convert\",\n      \"body\": \"...\"\n    }\n  }\n  ```\n\n- Extra metadata fields in `metadata`:\n  - Do **not** add `canonical_url`, `robots`, `keywords`, `schema_org`, `open_graph`, etc.\n\n---\n\n## 8. Internal checklist (for the model, not to be printed)\n\nBefore you output JSON you must internally verify:\n\n1. `component_type` is exactly `\"converter\"`, `\"simple_calc\"`, or `\"advanced_calc\"`.\n2. `logic.type` matches:\n   - converter → `\"conversion\"`\n   - simple_calc → `\"formula\"`\n   - advanced_calc → `\"advanced\"`.\n3. `fromUnitId` / `toUnitId` (if present) exist in `lib/conversions.ts`.\n4. `page_content` uses only allowed keys and flat arrays (no nested objects).\n5. `page_content.faqs` and `page_content.citations` are arrays of objects with the required keys.\n6. `page_content.glossary` (if present) is an array of `{ term, definition }` objects.\n7. No HTML or Markdown is present in any text.\n8. No forbidden fields are present.\n9. All expressions reference existing field IDs or variables.\n\nOnce all checks pass in your internal reasoning, output ONLY the final JSON object (for `config_json`), no commentary.\n \nBefore you construct the config, scan ./input for asset research. Use it to refine EEAT, UX, methodology depth. Mention sibling Cernarus pages only when relevant. Only the config_json object is persisted; wrapper keys must not appear in config_json.",
  "context": {
    "internalLinks": [],
    "researchDirs": [
      "input"
    ]
  },
  "assets": {
    "zips": [
      "../input/asset-based-valuation.zip"
    ]
  }
}